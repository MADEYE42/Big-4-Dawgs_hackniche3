(function(r){var x=window.AmazonUIPageJS||window.P,E=x._namespace||x.attributeErrors,A=E?E("QuantitySelectorAssets",""):x;A.guardFatal?A.guardFatal(r)(A,window):A.execute(function(){r(A,window)})})(function(r,x,E){function A(n){var f=!1;r.now(n).execute("qsAssetDuplicationGuard",function(a){f=!!a});return f}function L(n,f){if(!A(n))try{r.register(n,f)}catch(a){if(!a.message.includes("reregistered by QuantitySelectorAssets"))throw a;}}function Da(){var n=arguments;return{register:function(f,a){if(!A(f))try{r.when.apply(r,
n).register(f,a)}catch(c){if(!c.message.includes("reregistered by QuantitySelectorAssets"))throw c;}},execute:function(f,a){r.when.apply(r,n).execute(f,a)}}}L("QSAssetDuplicationGuard",function(){return{register:L,when:Da}});"use strict";r.when("QSAssetDuplicationGuard").execute("qsAUIDeps-main-duplication-guard",function(n){n.when("A","QuantitySelectorConstants","a-util").execute("qsAUIDeps-main",function(f,a,c){function h(){w&&w.enableCheckoutCompatibility&&g()}function g(){f.$('span[id^\x3d"'+
a.getQsWidgetSummaryPriceId("")+'"][data-a-color\x3d"price"]').each(function(){f.$(this)[0].style.color="#B12704"});f.$('span[id^\x3d"'+a.getQsWidgetButtonId("")+'"]').each(function(){var a=f.$(this);a.hasClass("a-button-dropdown")&&a.hasClass("a-button-small")&&(a=a.attr("id"),f.$('button[id^\x3d"'+a+'-announce"]').each(function(){f.$(this)[0].style.paddingRight="17px"}))})}function k(a){function c(a){return f.$(a+"-announce")}return function(a){return new c(a)}}function F(c){var d=function(a,d){var e=
a+"-extradata",k=c.state(e);if(null==d)return e=c.state(a),d=f.$.extend({},e,k);k=f.$.extend({},k,d);c.state(e,k)};d.parse=function(){for(var d=f.$(a.getQsWidgetGenericStateSelectorQuery()),k=a.getQsWidgetConfigurationId(""),e=0;e<d.length;e++)try{var l=d[e].getAttribute("data-a-state"),q=JSON.parse(l).key;if(q&&q.substring(0,k.length)==k){var t=c.state(q);if(!t||!t.id){var g=JSON.parse(d[e].innerHTML);c.state(q,g)}}}catch(N){var F=a.getQsWidgetConfigurationJsonString(),w=a.getQsWidgetStateAttributeJsonString();
if(l.includes(w)||d[e].innerHTML.includes(F))throw N;}};d.replace=function(a,d){a+="-extradata";"function"===typeof c.state.replace?c.state.replace(a,d):c.state(a,d)};return{state:d}}var w;r.when("QuantitySelectorAUIDeps_AState","QuantitySelectorAUIDeps_AButton").execute("qsAUIDeps-register",function(a,d){n.register("QuantitySelectorAUIDeps",function(){return{aUtil:c,aState:a.object,aButton:d.object,initialize:h}})});(function(){for(var c=f.$(a.getQsWidgetGenericStateSelectorQuery()),d=a.getQsWidgetGlobalConfigurationId(),
k=0;k<c.length;k++)try{var g=c[k].getAttribute("data-a-state"),e=JSON.parse(g).key;if(e&&e.substring(0,d.length)==d){w=JSON.parse(c[k].innerHTML);break}}catch(t){var l=a.getQsWidgetConfigurationJsonString(),q=a.getQsWidgetStateAttributeJsonString();if(g.includes(q)||c[k].innerHTML.includes(l))throw t;}})();(function(){w&&w.enableCheckoutCompatibility?(r.when("a-state").execute("qsAUIDeps-checkout-compat-a-state-register",function(a){n.register("QuantitySelectorAUIDeps_AState",function(){return{object:F(a)}})}),
r.when("a-buttons").execute("qsAUIDeps-checkout-compat-a-button-register",function(a){n.register("QuantitySelectorAUIDeps_AButton",function(){return{object:k(a)}})}),f.on("checkout:afterReload",function(){f.trigger(a.getQsWidgetEventInitialize(),!1)})):(r.when("a-state").execute("qsAUIDeps-a-state-register",function(a){n.register("QuantitySelectorAUIDeps_AState",function(){return{object:a}})}),r.when("a-button").execute("qsAUIDeps-a-button-register",function(a){n.register("QuantitySelectorAUIDeps_AButton",
function(){return{object:a}})}));f.on("a:pageUpdate ready",function(){f.trigger(a.getQsWidgetEventInitialize(),!1)})})();h()})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsConstants-duplication-guard",function(n){n.when("A").register("QuantitySelectorConstants",function(f){function a(a){return"qs-widget-configuration-"+a}var c={height:358,heightWithAtc:410,disclaimerTextAdjustment:41,disclaimerTextAdjustmentWithAtc:40},h={height:303,heightWithAtc:355,disclaimerTextAdjustment:41,disclaimerTextAdjustmentWithAtc:40},
g={scrollEventStop:200,constant:19,increment:45,adjustment:20};return{getQsWidgetEventInitialize:function(){return"quantity-selector-widget:initialize"},getQsWidgetEventLoadStatesAndInitialize:function(){return"quantity-selector-widget:loadStatesAndInitialize"},getQsWidgetEventTriggerAction:function(){return"quantity-selector-widget:triggerAction"},getQsWidgetVariationEventTriggerAction:function(){return"quantity-selector-widget-variation-selector:triggerAction"},getQsWidgetEventConfigureList:function(){return"quantity-selector-widget:configure:list"},
getQsWidgetEventConfigureEnable:function(){return"quantity-selector-widget:configure:enable"},getQsWidgetEventConfigureDisable:function(){return"quantity-selector-widget:configure:disable"},getQsWidgetEventConfigureReset:function(){return"quantity-selector-widget:configure:reset"},getQsWidgetEventConfigureGet:function(){return"quantity-selector-widget:configure:get"},getQsWidgetEventConfigureSet:function(){return"quantity-selector-widget:configure:set"},getQsWidgetEventSelectId:function(){return"quantity-selector-widget:selectId"},
getQsWidgetVariationEventSelectId:function(){return"quantity-selector-widget-variation-selector:selectId"},getQsWidgetEventSelectQuantity:function(){return"quantity-selector-widget:selectQuantity"},getQsWidgetEventSelectQuantityClientUpdate:function(){return"quantity-selector-widget:selectQuantity:clientUpdate"},getQsWidgetEventHideDropdown:function(){return"quantity-selector-widget:hideDropdown"},getQsWidgetEventSyncStepperQuantity:function(){return"quantity-selector-widget:sync-stepper-quantity"},
getQsWidgetEventSyncStepperQuantityFromIcdpToHostPage:function(){return"quantity-selector-widget:sync-stepper-quantity:icdp-to-host"},getQsWidgetEventInitialized:function(){return"quantity-selector-widget:initialized"},getQsWidgetEventAction:function(a){return"quantity-selector-widget:action:"+a},getQsWidgetAuiInputTextWrapperClass:function(){return"a-input-text-wrapper"},getQsWidgetActivateDebounce:function(){return 100},getQsWidgetInitialViewDropdown:function(){return"dropdown"},getQsWidgetInitialViewTextLink:function(){return"text_link"},
getQsWidgetInitialViewChooseQuantity:function(){return"choose_quantity"},getQsWidgetActionTriggerOnConfirmation:function(){return"on_confirmation"},getQsWidgetActionTriggerOnSelect:function(){return"on_select"},getQsWidgetGlobalConfigurationId:function(){return"qs-widget-global-configuration"},getQsWidgetConfigurationId:a,getQsWidgetStateScriptSelectorQuery:function(c){return"script[data-a-state*\x3d'"+a(c)+"'], "+("div[data-a-state*\x3d'"+a(c)+"']")},getQsWidgetGenericStateSelectorQuery:function(){return"script[type\x3d'a-state'], div[data-a-state]"},
getQsWidgetStateAttributeJsonString:function(){return"qs-widget-"},getQsWidgetConfigurationJsonString:function(){return"qsItems"},getQsWidgetContainerId:function(a){return"qs-widget-container-"+a},getQsWidgetDivSelectorQueryForWidgetContainers:function(){return"div[id^\x3dqs-widget-container-]"},getQsWidgetSpinnerId:function(a){return"qs-widget-spinner-"+a},getQsWidgetDivSelectorQueryForSpinners:function(){return"div[id^\x3dqs-widget-spinner-]"},getQsWidgetCheckboxId:function(a){return"qs-widget-checkbox-"+
a},getQsWidgetInputSelectorQueryForCheckboxes:function(){return"input[id^\x3dqs-widget-checkbox-]"},getQsWidgetButtonContainerId:function(a){return"qs-widget-button-container-"+a},getQsWidgetButtonId:function(a){return"qs-widget-button-"+a},getQsWidgetStepperId:function(a){return"qs-widget-stepper-"+a},getQsWidgetAtcButtonId:function(a){return"qs-widget-atc-button-"+a},getQsWidgetPlusButtonId:function(a){return"qs-widget-plus-button-"+a},getQsWidgetMinusButtonId:function(a){return"qs-widget-minus-button-"+
a},getQsWidgetDropdownContainerGenericId:function(){return"qs-widget-dropdown-container-"},getQsWidgetDropdownContainerId:function(a){return"qs-widget-dropdown-container-"+a},getQsWidgetDropdownId:function(a){return"qs-widget-dropdown-"+a},getQsWidgetDropdownViewId:function(a){return"qs-widget-dropdown-view-"+a},getQsWidgetVariationDropdownViewId:function(a){return"qs-widget-dropdown-view-variation-"+a},getQsWidgetDropdownItemId:function(a,c){return"qs-widget-dropdown-item-"+c+"-"+a},getQsWidgetDropdownItemAriaId:function(a,
c){return"qs-widget-dropdown-item-aria-"+c+"-"+a},getQsWidgetDropdownItemQuantitySuffixId:function(a,c){return"qs-widget-dropdown-item-quantitySuffix-"+c+"-"+a},getQsWidgetDropdownUnorderedListId:function(a){return"qs-widget-dropdown-unorderedlist-"+a},getQsWidgetDropdownVariationUnorderedListId:function(a){return"qs-widget-dropdown-variation-unorderedlist-"+a},getQsWidgetTextInputId:function(a){return"qs-widget-text-input-"+a},getQsWidgetTextInputContainerId:function(a){return"qs-widget-text-input-container-"+
a},getQsWidgetTextInputUpdateButtonId:function(a){return"qs-widget-text-input-updatelink-"+a},getQsWidgetTextInputUpdateButtonContainerId:function(a){return"qs-widget-text-input-updatelink-container-"+a},getQsWidgetTextInputUpdateButtonDecl:function(){return"qs-widget-text-input-updatelink-decl"},getQsWidgetTextInputDecl:function(){return"qs-widget-text-input-decl"},getQsWidgetQuantityContainerId:function(a){return"qs-widget-quantity-container-"+a},getQsWidgetQuantityId:function(a){return"qs-widget-quantity-"+
a},getQsWidgetQuantitySuffixId:function(a){return"qs-widget-quantity-suffix-"+a},getQsWidgetInitialViewSuffixId:function(a){return"qs-widget-initialView-suffix-"+a},getQsWidgetSummaryPriceId:function(a){return"qs-widget-summary-price-"+a},getQsWidgetSummaryPriceSymbolId:function(a){return"qs-widget-summary-price-symbol-"+a},getQsWidgetSummaryPriceWholeId:function(a){return"qs-widget-summary-price-whole-"+a},getQsWidgetSummaryPriceFractionId:function(a){return"qs-widget-summary-price-fraction-"+a},
getQsWidgetSummaryPriceDecimalId:function(a){return"qs-widget-summary-price-decimal-"+a},getQsWidgetSummaryAtcId:function(a){return"qs-widget-summary-atc-"+a},getQsWidgetFooterPriceContainerId:function(a){return"qs-widget-footer-price-container-"+a},getQsWidgetFooterPriceSymbolId:function(a){return"qs-widget-footer-price-symbol-"+a},getQsWidgetFooterPriceWholeId:function(a){return"qs-widget-footer-price-whole-"+a},getQsWidgetFooterPriceFractionId:function(a){return"qs-widget-footer-price-fraction-"+
a},getQsWidgetFooterPriceDecimalId:function(a){return"qs-widget-footer-price-decimal-"+a},getQsWidgetFooterQuantitySuffixContainerId:function(a){return"qs-widget-footer-quantitySuffix-container-"+a},getQsWidgetFooterQuantitySuffixId:function(a){return"qs-widget-footer-quantitySuffix-"+a},getQsWidgetButtonDecl:function(){return"qs-widget-button-decl"},getQsWidgetSummaryAtcDecl:function(){return"qs-widget-summary-atc-decl"},getQsWidgetQuantityChangelinkId:function(a){return"qs-widget-quantity-changelink-"+
a},getQsWidgetQuantityChangelinkDecl:function(){return"qs-widget-quantity-changelink-decl"},getQsWidgetDropdownItemDecl:function(){return"qs-widget-dropdown-item-decl"},getQsWidgetVariationDropdownItemDecl:function(){return"qs-widget-dropdown-variation-item-decl"},getQsWidgetDropdownDecl:function(){return"qs-widget-dropdown-decl"},getQsWidgetDropdownScrollMetricThreshold:function(){return 20},getQsWidgetBottomSheetId:function(a){return"qs-widget-bottom-sheet-"+a},getQsWidgetBottomSheetPriceTextId:function(a){return"qs-widget-bottom-sheet-price-text-"+
a},getQsWidgetBottomSheetContainerId:function(a){return"qs-widget-bottom-sheet-container-"+a},getQsWidgetBottomSheetQuantitySuffixId:function(a){return"qs-widget-bottom-sheet-quantitySuffix-"+a},getQsWidgetBottomSheetBackButtonId:function(a){return"qs-widget-bottom-sheet-back-button-"+a},getQsWidgetBottomSheetBackButtonDecl:function(){return"qs-widget-bottom-sheet-back-button-decl"},getQsWidgetSummaryDisclaimerId:function(a){return"qs-widget-summary-disclaimer-"+a},getQsWidgetSummaryDisclaimerContainerId:function(a){return"qs-widget-summary-disclaimer-container-"+
a},getQsWidgetBottomSheetTemplateId:function(){return"qs-widget-bottom-sheet-container-qsUID"},getQsWidgetBottomSheetSelectQuantityTextId:function(a){return"qs-widget-bottom-sheet-select-quantity-text-"+a},getQsWidgetBottomSheetImageId:function(a){return"qs-widget-bottom-sheet-image-"+a},getQsWidgetBottomSheetUnitTextId:function(a){return"qs-widget-bottom-sheet-unit-text-"+a},getQsWidgetBottomSheetTableId:function(a){return"qs-widget-bottom-sheet-table-"+a},getQsWidgetBottomSheetPpuTextId:function(a){return"qs-widget-bottom-sheet-ppu-text-"+
a},getQsWidgetInitialViewTextLinkId:function(a){return"qs-widget-link-"+a},getQsWidgetBottomSheetHeightConfig:function(a){return a?c:h},getQsWidgetBottomSheetDropDownScrollFactor:function(){return g},getQsWidget1DBottomSheetSelectorCssClass:function(){return"qs-widget-new-1d-dropdown-li"},getQsWidget2DBottomSheetQuantitySelectorCssClass:function(){return"qs-widget-new-2d-dropdown-qs-li"},getQsWidget2DBottomSheetVariationSelectorCssClass:function(){return"qs-widget-new-2d-dropdown-vs-li"},getQsWidgetVariationSelectorListMapKey:function(){return"variationSelectorListsMap"},
getQsWidgetVariationSelectorSelectedIdKey:function(){return"selectedId"},getQsWidgetVariationSelectorDisplayTextKey:function(){return"displayText"},getQsWidgetVariationSelectorDisplayTextWithQuantityKey:function(){return"displayTextWithQuantity"},getQsWidgetStepperIncrementDecl:function(){return"qs-widget-increment-decl"},getQsWidgetStepperDecrementDecl:function(){return"qs-widget-decrement-decl"},getQsWidgetStepperDecrementMinusIconId:function(a){return"qs-widget-decrement-minus-icon-"+a},getQsWidgetStepperDecrementTrashIconId:function(a){return"qs-widget-decrement-trash-icon-"+
a},getQsWidgetStepperAddToCartReftag:function(){return"_qs_atc"},getQsWidgetStepperDecrementReftag:function(){return"_qs_rm"},getQsWidgetStepperIncrementReftag:function(){return"_qs_add"},getQsWidgetBottomSheetReftag:function(){return"_qs_udt"},getQsWidgetStepperShapeType:function(){return"QUANTITY_STEPPER"},getQsWidgetSimplifiedStepperShapeType:function(){return"SIMPLIFIED_QUANTITY_STEPPER"},getQsWidgetDropdownItemIdPrefix:function(){return"qs-widget-dropdown-item-"},getQsWidgetCadenceDropdownItemId:function(a,
c){return"qs-widget-cadence-dropdown-item-"+c+"-"+a},getTabKeyCode:function(){return 9},getReturnKeyCode:function(){return 13}}})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsMetadata-duplication-guard",function(n){n.when("A","QuantitySelectorState","QuantitySelectorAUIDeps").register("QuantitySelectorMetadata",function(f,a,c){function h(c){return(c=a.getQsWidgetConfiguration(c).metadata)?JSON.parse(c):null}return{isWeblabEnabled:function(a,c,f){a:{if((a=h(a))&&a.weblabs)for(var g=
0;g<a.weblabs.length;g++){var k=a.weblabs[g];if(k.weblabName==c){c=k.treatment;break a}}c=null}return null==c?f:"T1"==c?!0:!1},getMetaConfiguration:function(a,c){return(a=h(a))?a[c]:null}}})});"use strict";r.when("A","QSAssetDuplicationGuard").execute("qsMetrics-duplication-guard",function(n,f){f.when("A","QuantitySelectorAUIDeps","QuantitySelectorConstants").register("QuantitySelectorMetrics",function(a,c,f){function g(a){x.ue&&x.ue.count&&a&&ue.count(a,(ue.count(a)||0)+1)}r.when("ready").execute(function(){a.now()});
return{incrementInitializeCount:function(a,c){var f="QuantitySelector-Initialize";f=a?f+"-Success-Count":f+"-Failed-Count";g(c?f+":mobile":f+":desktop")},incrementInvalidIdCount:function(){g("QuantitySelector-InvalidID")},incrementTriggerActionCount:function(a,c,f){a="QuantitySelector-TriggerAction-"+a;a=c?a+"-Success-Count":a+"-Failed-Count";g(f?a+":mobile":a+":desktop")},incrementChangeLinkCount:function(){g("QuantitySelector-ChangeLink-Count")},incrementShowPopup:function(a){var c="QuantitySelector-ShowPopup-Count";
g(a?c+":mobile":c+":desktop")},incrementQsItemNotFound:function(a,c){var f="QuantitySelector-QsItemNotFound-Count";g(a?f+":mobile:"+c:f+":desktop:"+c)},logLatencyMetric:function(a,c,f){a="QuantitySelector-TimeTo-"+a;x.ue&&x.ue.count&&a&&"undefined"!==typeof x.ue_t0&&(c-=x.ue_t0,ue.count(a,c),ue.count(a+"Hundredths",Math.floor(c/10)))},incrementQsWidgetFailToRender:function(){g("QuantitySelector-QsWidgetFailToRender-Count")},logCsm:function(a,g){var h=c.aState.state(f.getQsWidgetConfigurationId(a));
if(h&&(a="mobile"==h.viewType.toLowerCase()?"mob":"dsk",(h=h.qsCsm)&&h.almBrandRefMarker&&h.pageRefMarker)){a:{var k=h.sellingUomDimension;var d=h.pricingUomDimension;if(k&&d){var m="s";switch(k){case "count":m+="u";break;case "weight":m+="w";break;default:k=void 0;break a}m+="p";switch(d){case "count":m+="u";break;case "weight":m+="w";break;default:k=void 0;break a}k=m}else k=void 0}k&&(g={pageType:h.pageType,subPageType:h.subPageType,pageTypeId:h.pageTypeId,storeName:h.tabId,programRegionId:h.programRegionId,
hitType:h.hitType,refMarker:h.almBrandRefMarker+"_"+a+"_"+h.pageRefMarker+"_qs_"+g+"_"+k,fromTabName:h.fromTabName,toTabName:h.toTabName},x.ue&&x.ue.event&&ue.event(g,"quantityselector_attr","quantityselector.QuantityselectorMetrics.2"))}}}})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsState-duplication-guard",function(n){n.when("A","QuantitySelectorConstants","QuantitySelectorMetrics","QuantitySelectorAUIDeps").register("QuantitySelectorState",function(f,a,c,h){function g(c){var d=
h.aState.state(a.getQsWidgetConfigurationId(c));F(c)||(k(c),d=h.aState.state(a.getQsWidgetConfigurationId(c)));return d}function k(c){if(c){var d=a.getQsWidgetConfigurationId(c),e=a.getQsWidgetStateScriptSelectorQuery(c);try{var l=f.$(e).first(),q=JSON.parse(l.html());h.aState.state(d,q);if(q&&q.staticData){var m=JSON.parse(q.staticData).asin;v(m,c)}}catch(O){if(c=a.getQsWidgetConfigurationJsonString(),l.html().includes(c))throw O;}}}function F(c){return(c=h.aState.state(a.getQsWidgetConfigurationId(c)))&&
c.id?!0:!1}function w(a){var c=g(a),e=c.selectedId;c=c.selectedQuantity;0==c||c?d(a,c):e&&p(a,e)}function p(c,d){d={previousSelectedId:d,previousSelectedQuantity:null};h.aState.state(a.getQsWidgetConfigurationId(c),d)}function d(c,d){d={previousSelectedQuantity:d,previousSelectedId:null};h.aState.state(a.getQsWidgetConfigurationId(c),d)}function m(){for(var c=[],d=f.$(a.getQsWidgetGenericStateSelectorQuery()),e=a.getQsWidgetConfigurationId(""),l=0;l<d.length;l++)try{var m=d[l].getAttribute("data-a-state"),
g=JSON.parse(m).key;if(g&&g.substring(0,e.length)==e){var h=g.substring(e.length);c.push(h)}}catch(D){var k=a.getQsWidgetStateAttributeJsonString();if(m.includes(k))throw D;}return c}function v(a,c){var d;if(d=a&&c)d="f3cart"!==g(c).clientId;d&&e(c)&&(l[a]||(l[a]=new Set),l[a].add(c))}function e(c){c=g(c);return c.shapeType===a.getQsWidgetStepperShapeType()||c.shapeType===a.getQsWidgetSimplifiedStepperShapeType()}var l={};f.on(a.getQsWidgetEventConfigureList(),function(a){"function"===typeof a&&a(m())});
f.on(a.getQsWidgetEventConfigureGet(),function(a,c){a=g(a);"function"===typeof c&&c(a)});f.on(a.getQsWidgetEventConfigureSet(),function(c,d){h.aState.state.replace(a.getQsWidgetConfigurationId(c),d);f.trigger(a.getQsWidgetEventInitialize(),!0,c)});return{getQsWidgetConfiguration:g,loadQsWidgetStateConfiguration:function(a){if(!F(a))k(a);else if(a)try{var c=g(a),d=JSON.parse(c.staticData).asin;v(d,a)}catch(y){}},reloadQsWidgetStateConfiguration:k,saveOriginalSettings:function(a){},setEnable:function(c,
d){d={enable:d};h.aState.state(a.getQsWidgetConfigurationId(c),d)},setInitialized:function(c){h.aState.state(a.getQsWidgetConfigurationId(c),{initialized:!0})},setSelectedId:function(c,d,e){"SIMPLIFIED_QUANTITY_STEPPER"!==g(c).shapeType&&(e||w(c),d={selectedId:d,selectedQuantity:null},h.aState.state(a.getQsWidgetConfigurationId(c),d))},setSelectedQuantity:function(c,d,e){e||w(c);d={selectedId:null,selectedQuantity:d};h.aState.state(a.getQsWidgetConfigurationId(c),d)},setPreviousSelectedId:p,setPreviousSelectedQuantity:d,
setData:function(c,d){h.aState.state(a.getQsWidgetConfigurationId(c),d)},getQsUIDs:m,getQsWidgetMapSet:function(a){return l[a]},isStepper:e}})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsTemplates-duplication-guard",function(n){n.when("A","QuantitySelectorState","QuantitySelectorConstants","QuantitySelectorAUIDeps","QuantitySelectorUtils").register("QuantitySelectorTemplates",function(f,a,c,h,g){function k(a,c){f.$("#"+a+" .replace-qsUID").each(function(){var a=f.$(this).attr("id");
f.$(this).attr("id",a.replace("qsUID",c))})}return{generateBottomSheet:function(h){var w=g.getQsWidgetBottomSheetTemplateElement().clone(!0);w.appendTo(g.getQsWidgetContainer(h));w.attr("id",c.getQsWidgetBottomSheetContainerId(h));var p=a.getQsWidgetConfiguration(h);w.attr("cel_widget_id","qs-widget-metric-"+p.qsMetricID+"-bottomsheet");w.addClass(p.cssClass);k(c.getQsWidgetBottomSheetContainerId(h),h);g.getQsWidgetBottomSheetSelectQuantityTextElement(h).text(g.replaceNbspWithPlainTextNbsp(p.bottomSheetSelectQuantityText));
g.getQsWidgetBottomSheetUnitTextElement(h).text(g.replaceNbspWithPlainTextNbsp(p.bottomSheetSelectQuantityUnitText));g.getQsWidgetBottomSheetUnitTextElement(h).attr("aria-label",p.bottomSheetSelectQuantityUnitAriaLabelText);g.getQsWidgetBottomSheetPpuTextElement(h).text(g.replaceNbspWithPlainTextNbsp(p.bottomSheetPricePerUnitText));g.getQsWidgetBottomSheetPriceTextElement(h).text(g.replaceNbspWithPlainTextNbsp(p.estTotalPriceText));g.getQsWidgetBottomSheetImageElement(h).attr("src",p.bottomSheetImageUrl);
p.summaryDisclaimerText?g.getQsWidgetSummaryDisclaimerElement(h).text(g.replaceNbspWithPlainTextNbsp(p.summaryDisclaimerText)):(g.getQsWidgetBottomSheetTableElement(h).attr("style","border-bottom: 0px solid !important;"),g.getQsWidgetSummaryDisclaimerContainerElement(h).remove());"right"===p.currencySymbolPosition&&g.getQsWidgetSummaryPriceSymbolElement(h).insertAfter(g.getQsWidgetSummaryPriceFractionElement(h));w=g.getQsWidgetSummaryAtcButtonAsComponent(h);a.isStepper(h)?w.text(g.replaceNbspWithPlainTextNbsp(p.bottomSheetUpdateCartText)):
w.text(g.replaceNbspWithPlainTextNbsp(p.bottomSheetAddToCartText));f.declarative.create(g.getQsWidgetSummaryAtcButton(h),c.getQsWidgetSummaryAtcDecl(),{qsUID:h})}}})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsUtils-duplication-guard",function(n){n.when("A","QuantitySelectorState","QuantitySelectorConstants","QuantitySelectorAUIDeps","QuantitySelectorMetrics").register("QuantitySelectorUtils",function(f,a,c,h,g){function k(b){return"true"==b||1==b?!0:!1}function n(b){b=a.getQsWidgetConfiguration(b);
return b.clientId?b.clientId:"unrec-client"}function w(b){return"mobile"==a.getQsWidgetConfiguration(b).viewType.toLowerCase()?!0:!1}function p(b){return a.getQsWidgetConfiguration(b).shapeType===c.getQsWidgetSimplifiedStepperShapeType()}function d(b){var c=a.getQsWidgetConfiguration(b);return p(b)||"undefined"!=typeof c.showATCButtonWhenZeroQuantity&&c.showATCButtonWhenZeroQuantity?!0:!1}function m(b){b=a.getQsWidgetConfiguration(b);return k(b.showConfirmationView)?!0:!1}function v(b){b=a.getQsWidgetConfiguration(b);
return k(b.allowZeroQuantity)?!0:!1}function e(b){return a.getQsWidgetConfiguration(b).initialView.toLowerCase()==c.getQsWidgetInitialViewChooseQuantity()?!0:!1}function l(b){b=y(b);return null==b||1>b.length?!1:!0}function q(b){if(b)try{var c=a.getQsWidgetConfiguration(b);return JSON.parse(c.staticData).storeId}catch(P){}}function t(b){b=a.getQsWidgetConfiguration(b).variationSelectorListsMap;if(null==b)return null;b=Object.keys(b);return null==b||1>b.length?null:b[0]}function r(b,c){var u=a.getQsWidgetConfiguration(b).variationSelectorListsMap;
if(null==u)return null;null==c&&(c=t(b));return null==c?null:u[c]}function y(b,a){b=r(b,a);return null==b?null:b.selectorItems}function A(b){return a.getQsWidgetConfiguration(b).bottomSheetChangeCurrentQuantityText}function N(b,a){b=B(b,a).quantityText;return"+"==b.substr(b.length-1)?{result:!0,initialQuantityText:b.substr(0,b.length-1)}:{result:!1}}function O(b,c){var u=a.getQsWidgetConfiguration(b),d=u.qsItems.length;u=u.allowZeroQuantity;if(D(b)){if(1==c||u&&2==c)return!0}else if(c==d||c==d-1&&
u)return!0;return!1}function E(b,c){var u=a.getQsWidgetConfiguration(b).qsItems;if(D(b)){if(c==u.length)return!0}else if(1==c)return!0;return!1}function D(b){b=a.getQsWidgetConfiguration(b).qsItems;return z(b[b.length-1])>z(b[0])?!0:!1}function L(b){var a=Q(b);a&&f.trigger(c.getQsWidgetEventSelectQuantity(),b,a,!1);T(b);f.trigger(c.getQsWidgetEventInitialized(),b)}function U(b){b.removeClass("aok-hidden")}function ha(b){var a=f.$("#"+c.getQsWidgetQuantityChangelinkId(b));b=f.$("#"+c.getQsWidgetTextInputUpdateButtonId(b));
a.attr("draggable","false");b.attr("draggable","false")}function I(b){return f.$("#"+c.getQsWidgetContainerId(b))}function ia(b){return f.$("#"+c.getQsWidgetButtonContainerId(b))}function J(b){return h.aButton("#"+c.getQsWidgetButtonId(b))}function V(b){return f.$("#"+c.getQsWidgetStepperId(b))}function W(b){return h.aButton("#"+c.getQsWidgetAtcButtonId(b))}function X(b){return h.aButton("#"+c.getQsWidgetPlusButtonId(b))}function R(b){return f.$("#"+c.getQsWidgetButtonId(b)+"-announce")}function ja(b){return f.$("#"+
c.getQsWidgetDropdownContainerId(b))}function ka(b){return f.$("#"+c.getQsWidgetDropdownViewId(b))}function S(b){return f.$("#"+c.getQsWidgetVariationDropdownViewId(b))}function Y(b){return f.$("#"+c.getQsWidgetDropdownUnorderedListId(b))}function la(b){return f.$("#"+c.getQsWidgetTextInputContainerId(b))}function K(b){return f.$("#"+c.getQsWidgetTextInputId(b))}function ma(b){return f.$("#"+c.getQsWidgetTextInputUpdateButtonContainerId(b))}function na(b){return f.$("#"+c.getQsWidgetSummaryAtcId(b))}
function oa(b){return h.aButton("#"+c.getQsWidgetSummaryAtcId(b))}function pa(b){return f.$("#"+c.getQsWidgetBottomSheetPriceTextId(b))}function Z(b){return f.$("#"+c.getQsWidgetStepperDecrementMinusIconId(b))}function aa(b){return f.$("#"+c.getQsWidgetStepperDecrementTrashIconId(b))}function B(b,c){try{var d=a.getQsWidgetConfiguration(b);if(d.qsItems){var u=d.qsItems[parseInt(c)-1];return u.id===c?u:qa(b,c)}}catch(C){return qa(b,c)}}function qa(b,c){b=a.getQsWidgetConfiguration(b);for(var d=0;d<
b.qsItems.length;d++)if(b.qsItems[d].id==c)return b.qsItems[d]}function z(b){return parseFloat(JSON.parse(b.data).quantity)}function ra(b,a){var d=r(b,a);if(null==d)return null;d=d[c.getQsWidgetVariationSelectorSelectedIdKey()];if(null==d)return sa(b);b=y(b,a);if(null==b)return null;for(a=0;a<b.length;a++)if(b[a].id==d)return b[a];return null}function sa(b,a){b=y(b,a);if(null==b)return null;for(a=0;a<b.length;a++)if(k(b[a].isSelected))return b[a];return null}function ba(b){var c=a.getQsWidgetConfiguration(b).selectedId;
return c?c:ta(b)}function ta(b){b=a.getQsWidgetConfiguration(b);if(b.qsItems&&0!=b.qsItems.length){for(var c=0;c<b.qsItems.length;c++)if(k(b.qsItems[c].isSelected))return b.qsItems[c].id;return b.qsItems[0].id}}function ua(b,a){var d=r(b,a);if(null==d)return null;d=d[c.getQsWidgetVariationSelectorSelectedIdKey()];return null!=d?d:va(b,a)}function va(b,a){b=sa(b);return null==b?null:b.id}function Q(b){return a.getQsWidgetConfiguration(b).selectedQuantity}function wa(b,a){return 0>a?b[0].id:a>=b.length?
b[b.length-1].id:b[a].id}function xa(b,a){if(null==b)return 0;for(var c=0;c<b.length;c++)if(a==b[c].id)return c}function ca(b,a){return(b=A(b))?a+b:"Current quantity "+a}function da(b,a){return(v(b)?/^(([0-9]\d{0,2}))$/:/^(([1-9]\d{0,2})|(0[1-9]\d?)|(00[1-9]))$/).test(a)}function ya(b,a){var c=la(b),d=ma(b);ia(b).addClass("aok-hidden");U(c);var e=K(b);a&&e.val(a);a=e.val();da(b,a)&&Q(b)!==a?U(d):d.addClass("aok-hidden");w(b)?e.focus():setTimeout(function(){e.focus()},200)}function T(b){if(b){var a=
f.$("#"+c.getQsWidgetCheckboxId(b)),d=I(b);b=f.$("#"+c.getQsWidgetSpinnerId(b))}else a=f.$(c.getQsWidgetInputSelectorQueryForCheckboxes()),b=f.$(c.getQsWidgetDivSelectorQueryForSpinners()),d=f.$(c.getQsWidgetDivSelectorQueryForWidgetContainers());a.remove();b.remove();d.removeClass("qs-widget-hidden")}function za(b,c){c=c.displayTextWithQuantityList;var d=a.getQsWidgetConfiguration(b).qsItems;b=ba(b);for(var e=0;e<d.length;e++)if(d[e].id==b)return c[e];return null}function Aa(b,a){null==a&&(a=t(b));
if(null==a)return{};var d=ra(b,a);if(null==d)return{};var e=w(b)?d.displayTextForMobile:d.dissplayTextForDesktop;b=za(b,d);var u={};u[a]=JSON.parse(d.data);u[a][c.getQsWidgetVariationSelectorDisplayTextKey()]=e;u[a][c.getQsWidgetVariationSelectorDisplayTextWithQuantityKey()]=b;return u}function Ba(b,a){b=r(b,a);return null==b||null==b.actionTriggerId||""==b.actionTriggerId?null:b.actionTriggerId}function ea(b,d,e,h,m){m=a.getQsWidgetConfiguration(b);var u=m.selectedId,P=m.selectedQuantity,g=a.isStepper(b);
h=g&&h!=c.getQsWidgetStepperAddToCartReftag();var q=a.getQsWidgetConfiguration(b);var H=q.previousSelectedQuantity;q=q.previousSelectedId;H=H?H:q?z(B(b,q)):null;q=JSON.parse(m.staticData);var k=m.sellingUnit,v=m.sellingDimension;if(u)for(var t=0;t<m.qsItems.length;t++)if(m.qsItems[t].id==u){var C=JSON.parse(m.qsItems[t].data);C=f.$.extend({qsUID:b,prevSelectedQty:H,isStepperFlag:g,setQuantityFlag:h,tunneledData:d,quantityData:C,sellingUnit:k,sellingDimension:v},q,C);l(b)&&(C=f.$.extend(C,Aa(b,e)))}if(P||
0==P)C=f.$.extend({qsUID:b,prevSelectedQty:H,isStepperFlag:g,setQuantityFlag:h,tunneledData:d,sellingUnit:k,sellingDimension:v},q,{quantity:P}),l(b)&&(C=f.$.extend(C,Aa(b,e)));return C}function Ca(b){var c=a.getQsWidgetConfiguration(b);if(p(b))return c.pricePerUnitText?c.pricePerUnitText:"bcPrice";b=B(b,1);if(!b||!b.price)return"";b=b.price;return b.currencySymbol+b.wholeValue+b.decimalSeparator+b.fractionValue}function fa(b){return b.replace(/&nbsp;/g," ")}var G=[];f.on(c.getQsWidgetEventTriggerAction(),
function(b,d,e,l,m){var u=a.getQsWidgetConfiguration(b);d||(d=u.actionId);u="mobile"==u.viewType.toLowerCase();var h=!1;(b=ea(b,e,null,l,m))&&b.ref&&null!=l&&(b.reftag=b.ref+l);b&&(f.trigger(c.getQsWidgetEventAction(d),b),g.incrementTriggerActionCount(d,!0,u),h=!0);h||g.incrementTriggerActionCount(d,!1,u)});f.on(c.getQsWidgetVariationEventTriggerAction(),function(b,d,e,l){var u="mobile"==a.getQsWidgetConfiguration(b).viewType.toLowerCase();e=ea(b,e);null==d&&(d=Ba(b,l));null!=d&&(f.trigger(c.getQsWidgetEventAction(d),
e),g.incrementTriggerActionCount(d,!1,u))});return{isInitialized:function(b){return(b=a.getQsWidgetConfiguration(b))?b.initialized:!1},isMobile:w,isSimplifiedStepper:p,isQsWidgetEnabled:function(b){b=a.getQsWidgetConfiguration(b);return b.hasOwnProperty("enable")?k(b.enable):!0},isQsWidgetQuantityZero:function(b){var c=a.getQsWidgetConfiguration(b);return c.selectedId&&0==z(B(b,c.selectedId))||c.selectedQuantity&&"0"==c.selectedQuantity?!0:!1},isConfirmationViewEnabled:m,isAllowZeroQuantityEnabled:v,
isInitialViewDropdown:function(b){return a.getQsWidgetConfiguration(b).initialView.toLowerCase()==c.getQsWidgetInitialViewDropdown()?!0:!1},isInitialViewTextLink:function(b){return a.getQsWidgetConfiguration(b).initialView.toLowerCase()==c.getQsWidgetInitialViewTextLink()?!0:!1},isInitialViewChooseQuantity:e,isVariationSelectorEnabled:l,getVariationSelectorItemList:r,getQsWidgetBottomSheetConfig:function(b){var d=a.getQsWidgetConfiguration(b),e=c.getQsWidgetBottomSheetHeightConfig(d.enabledBottomSheetWith2DSupport),
f=0;d.summaryDisclaimerText||(f=m(b)?e.disclaimerTextAdjustmentWithAtc:e.disclaimerTextAdjustment);return m(b)?{closeMessage:d.bottomSheetCancelText,height:e.heightWithAtc-f}:{closeMessage:d.bottomSheetDoneText,height:e.height-f}},getQsWidgetBottomSheetChangeCurrentQuantityText:A,isActionTriggerOnConfirmation:function(b){return a.getQsWidgetConfiguration(b).actionTrigger.toLowerCase()==c.getQsWidgetActionTriggerOnConfirmation()?!0:!1},isActionTriggerOnSelect:function(b){return a.getQsWidgetConfiguration(b).actionTrigger.toLowerCase()==
c.getQsWidgetActionTriggerOnSelect()?!0:!1},isVariationSelectorTriggerOnSelect:function(b){return null==b?!1:b.actionTriggerType.toLowerCase()==c.getQsWidgetActionTriggerOnSelect()},isVariationSelectorTriggerOnConfirmation:function(b){return null==b?!1:b.actionTriggerType.toLowerCase()==c.getQsWidgetActionTriggerOnConfirmation()},isTextInputRequired:N,isOrderMin:O,isOrderMax:E,isAscending:D,initializeWidget:function(b){if(p(b))L(b);else{var d=ba(b),e=Q(b),m=a.getQsWidgetConfiguration(b);if(m.qsItems)for(var h=
0;h<m.qsItems.length;h++)parseFloat(e)===z(m.qsItems[h])&&(d=m.qsItems[h].id,e=null);e?f.trigger(c.getQsWidgetEventSelectQuantity(),b,e,!1,function(){ha(b)}):d&&f.trigger(c.getQsWidgetEventSelectId(),b,d,!1,function(){ha(b)});l&&(d=ua(b),null!=d&&f.trigger(c.getQsWidgetVariationEventSelectId(),b,d,!1,function(){}));T(b);f.trigger(c.getQsWidgetEventInitialized(),b)}},activateWidget:function(b){var a=G.indexOf(b);-1<a&&G.splice(a,1);setTimeout(function(){G.push(b)},c.getQsWidgetActivateDebounce())},
deactivateWidget:function(b){b=G.indexOf(b);-1<b&&G.splice(b,1)},getActivatedQsWidgets:function(){return G},hideComponent:function(b,a){b.addClass("aok-hidden")},showComponent:U,isComponentVisible:function(b){return!b.hasClass("aok-hidden")},isElementVisible:function(b){return"hidden"!==b.css("visibility")},setElementVisibility:function(b,a){a?b.css("visibility","visible"):b.css("visibility","hidden")},setHtml:function(b,a){b.html(a)},setAtcButtonStepperText:function(b){if(a.isStepper(b)&&e(b)){var c=
a.getQsWidgetConfiguration(b),d=oa(b);d.text(fa(c.bottomSheetUpdateCartText));(c.selectedId&&0==z(B(b,c.selectedId))||"0"==c.selectedQuantity)&&d.text(fa(c.bottomSheetAddToCartText))}},setQsWidgetContainerMinWidthAndHeight:function(b){b=I(b);b.css("min-width",b.width()+"px");b.css("min-height",b.height()+"px")},resetQsWidgetContainerMinWidthAndHeight:function(b){b=I(b);b.css("min-width","0px");b.css("min-height","0px")},enableQsWidget:function(b){a.setEnable(b,!0);if(!p()){var c=J(b);b=K(b);c.enable();
b.removeClass("a-form-disabled");b.addClass("a-form-normal");b.removeAttr("disabled")}},disableQsWidget:function(b){a.setEnable(b,!1);if(!p()){var c=J(b);b=K(b);c.disable();b.removeClass("a-form-normal");b.addClass("a-form-disabled");b.attr("disabled","disabled")}},popOutDropDownContainer:function(b){var c=I(b),d=c.offset(),e=ja(b),l=d.left,m=d.top,h="unset",g=f.$(x).height(),q=a.getQsWidgetConfiguration(b).dropdownAnchorId;b=q.startsWith("qs-widget-container")?c:f.$("#"+q);if(q&&b.length){for(q=
b;!q.is(document)&&"static"===q.css("position");)q=q.parent();m-=null===q.offset()?0:q.offset().top;l-=null===q.offset()?0:q.offset().left;e.appendTo(b);q.is(document)||(g=q.height())}else e.appendTo(document.body);l+e.width()>x.scrollX+f.$(x).width()&&(l=l+c.width()-e.width());d.top-x.scrollY+e.height()>f.$(x).height()&&(h=g-m-c.height(),m="unset");e.css({left:l,top:m,bottom:h})},getQsWidgetContainer:I,getQsWidgetButtonContainer:ia,getQsWidgetButtonAsComponent:J,getQsWidgetStepperElement:V,getQsWidgetAtcButtonAsComponent:W,
getQsWidgetButton:R,getQsWidgetDropdownContainer:ja,getQsWidgetDropdownElement:function(b){return f.$("#"+c.getQsWidgetDropdownId(b))},getQsWidgetDropdownViewSelector:ka,getQsWidgetVariationDropdownViewSelector:S,getQsWidgetDropdownUnorderedListElement:Y,getQsWidgetDropdownVariationUnorderedListElement:function(b){return f.$("#"+c.getQsWidgetDropdownVariationUnorderedListId(b))},getQsWidgetDropdownItemElement:function(b,a){return f.$("#"+c.getQsWidgetDropdownItemAriaId(b,a))},getQsWidgetPlusButtonAsComponent:X,
getQsWidgetTextInputContainer:la,getQsWidgetTextInputElement:K,getQsWidgetTextInputUpdateButtonContainer:ma,getQsWidgetQuantityContainer:function(b){return f.$("#"+c.getQsWidgetQuantityContainerId(b))},getQsWidgetQuantityElement:function(b){return f.$("#"+c.getQsWidgetQuantityId(b))},getQsWidgetQuantitySuffixElement:function(b){return f.$("#"+c.getQsWidgetQuantitySuffixId(b))},getQsWidgetInitialViewSuffixElement:function(b){return f.$("#"+c.getQsWidgetInitialViewSuffixId(b))},getQsWidgetSummaryAtcButton:na,
getQsWidgetSummaryAtcButtonAsComponent:oa,getQsWidgetSummaryPriceContainerElement:function(b){return f.$("#"+c.getQsWidgetSummaryPriceId(b))},getQsWidgetSummaryPriceSymbolElement:function(b){return f.$("#"+c.getQsWidgetSummaryPriceSymbolId(b))},getQsWidgetSummaryPriceWholeElement:function(b){return f.$("#"+c.getQsWidgetSummaryPriceWholeId(b))},getQsWidgetSummaryPriceFractionElement:function(b){return f.$("#"+c.getQsWidgetSummaryPriceFractionId(b))},getQsWidgetSummaryPriceDecimalElement:function(b){return f.$("#"+
c.getQsWidgetSummaryPriceDecimalId(b))},getQsWidgetSummaryDisclaimerElement:function(b){return f.$("#"+c.getQsWidgetSummaryDisclaimerId(b))},getQsWidgetSummaryDisclaimerContainerElement:function(b){return f.$("#"+c.getQsWidgetSummaryDisclaimerContainerId(b))},getQsWidgetFooterPriceContainer:function(b){return f.$("#"+c.getQsWidgetFooterPriceContainerId(b))},getQsWidgetFooterPriceSymbolElement:function(b){return f.$("#"+c.getQsWidgetFooterPriceSymbolId(b))},getQsWidgetFooterPriceWholeElement:function(b){return f.$("#"+
c.getQsWidgetFooterPriceWholeId(b))},getQsWidgetFooterPriceFractionElement:function(b){return f.$("#"+c.getQsWidgetFooterPriceFractionId(b))},getQsWidgetFooterPriceDecimalElement:function(b){return f.$("#"+c.getQsWidgetFooterPriceDecimalId(b))},getQsWidgetFooterQuantitySuffixContainer:function(b){return f.$("#"+c.getQsWidgetFooterQuantitySuffixContainerId(b))},getQsWidgetFooterQuantitySuffixElement:function(b){return f.$("#"+c.getQsWidgetFooterQuantitySuffixId(b))},getQsWidgetBottomSheetQuantitySuffixElement:function(b){return f.$("#"+
c.getQsWidgetBottomSheetQuantitySuffixId(b))},getQsWidgetBottomSheetPriceTextElement:pa,getQsWidgetBottomSheetTemplateElement:function(){return f.$("#"+c.getQsWidgetBottomSheetTemplateId())},getQsWidgetBottomSheetSelectQuantityTextElement:function(b){return f.$("#"+c.getQsWidgetBottomSheetSelectQuantityTextId(b))},getQsWidgetBottomSheetImageElement:function(b){return f.$("#"+c.getQsWidgetBottomSheetImageId(b))},getQsWidgetBottomSheetUnitTextElement:function(b){return f.$("#"+c.getQsWidgetBottomSheetUnitTextId(b))},
getQsWidgetBottomSheetTableElement:function(b){return f.$("#"+c.getQsWidgetBottomSheetTableId(b))},getQsWidgetBottomSheetPpuTextElement:function(b){return f.$("#"+c.getQsWidgetBottomSheetPpuTextId(b))},getQsWidgetInitialViewTextLinkElement:function(b){return f.$("#"+c.getQsWidgetInitialViewTextLinkId(b))},getQsWidgetAtcButton:function(b){return f.$("#"+c.getQsWidgetAtcButtonId(b))},getQsWidgetPlusButton:function(b){return f.$("#"+c.getQsWidgetPlusButtonId(b))},getQsWidgetMinusButton:function(b){return f.$("#"+
c.getQsWidgetMinusButtonId(b))},getQsWidgetStepperDecrementMinusIconElement:Z,getQsWidgetStepperDecrementTrashIconElement:aa,getQsItem:B,getQsItemQuantity:z,getClientId:n,getClosestDecrementalQsItem:function(b,c){b=a.getQsWidgetConfiguration(b).qsItems;for(var d=Number.MAX_SAFE_INTEGER,e=0,f=0;f<b.length;f++){var l=c-z(b[f]);0<=l&&l<d&&(d=l,e=f)}return b[e]},getClosestIncrementalQsItem:function(b,c){b=a.getQsWidgetConfiguration(b).qsItems;for(var d=Number.MAX_SAFE_INTEGER,e=0,f=0;f<b.length;f++){var l=
z(b[f])-c;0<=l&&l<d&&(d=l,e=f)}return b[e]},getNextDecrementQsItem:function(b,c){var d=a.getQsWidgetConfiguration(b).qsItems;c=parseInt(c);D(b)&&0<c-1?--c:!D(b)&&c+1<=d.length&&(c+=1);return B(b,c)},getNextIncrementQsItem:function(b,c){var d=a.getQsWidgetConfiguration(b).qsItems;c=parseInt(c);D(b)&&c+1<=d.length?c+=1:!D(b)&&0<c-1&&--c;return B(b,c)},getVariationSelectorItemById:function(b,a,c){b=y(b,c);if(null==b)return null;for(c=0;c<b.length;c++)if(b[c].id==a)return b[c];return null},getSelectedVariationSelectorItem:ra,
getSelectedQsItemId:ba,getInitialSelectedQsItemId:ta,getSelectedQuantity:Q,getInitialSelectedVariationSelectorItemId:va,getSelectedVariationSelectorItemIdData:function(b,a,d){null==d&&(d=t(b));if(null==d)return null;b={};b[c.getQsWidgetVariationSelectorSelectedIdKey()]=a;a={};a[c.getQsWidgetVariationSelectorListMapKey()]={};a[c.getQsWidgetVariationSelectorListMapKey()][d]=b;return a},getSelectedVariationSelectorItemId:ua,getQsItemFromQuantityTextOrQuantity:function(b,c){b=a.getQsWidgetConfiguration(b).qsItems;
if(!b)return null;for(var d=0;d<b.length;d++)if("string"===typeof c&&c.toLowerCase()==b[d].quantityText.toLowerCase()||parseFloat(c)==z(b[d]))return b[d]},getQsItemFromQuantity:function(b,c){b=a.getQsWidgetConfiguration(b);b=b.qsItems?b.qsItems:{};c=parseFloat(c);for(var d=0;d<b.length;d++)if(z(b[d])==c)return b[d]},getFocusedQsItemIdInBottomSheet:function(b){var d=ka(b).scrollTop(),e=c.getQsWidgetBottomSheetDropDownScrollFactor();d=parseInt((d-e.constant+e.adjustment)/e.increment);b=a.getQsWidgetConfiguration(b).qsItems;
return wa(b,d)},getFocusedVariationSelectorItemIdInBottomSheet:function(a,d){var b=S(a);if(null==b)return null;b=b.scrollTop();var e=c.getQsWidgetBottomSheetDropDownScrollFactor();b=parseInt((b-e.constant+e.adjustment)/e.increment);a=y(a,d);return wa(a,b)},getIndexFromIdInBottomSheet:function(b,c){b=a.getQsWidgetConfiguration(b).qsItems;return xa(b,c)},getAriaLabelTextForSelectOption:ca,getVariationSelectorIndexFromIdInBottomSheet:function(a,c,d){a=y(a,d);return xa(a,c)},saveQsWidgetDropdownTopPosition:function(b){var c=
Y(b);c&&c.position()&&(c=c.position().top,a.setData(b,{scrollTop:c}));return!1},setQsWidgetDropdownScrolled:function(b){a.setData(b,{scrollTop:-65536})},clearQsWidgetDropdownScrolled:function(b){a.setData(b,{scrollTop:c.getQsWidgetDropdownScrollMetricThreshold()})},isQsWidgetDropdownScrolled:function(b){var d=Y(b);return d?(d=d.position().top,(b=a.getQsWidgetConfiguration(b).scrollTop)?Math.abs(d-b)>c.getQsWidgetDropdownScrollMetricThreshold():!1):!1},generateQsDropdownDOM:function(b){var d="",e=
a.getQsWidgetConfiguration(b),f=e.qsItems;e=e.selectedId;var m=w(b);if(!f)return g.incrementQsWidgetFailToRender(),"";for(var h=0;h<f.length;h++){var q=f[h].id,k=f[h].quantityText,v=f[h].quantityTextAbbreviatedSuffix;if(m){var t=b;var n=v,p=B(t,q);v=k;if(n){var r=n.indexOf("\x3c");if(-1!=r){var y=n.indexOf("\x3c",r+1);if(n=n.substring(r,y))n=n.split("\x3e")[1],v+=". ",r=n,n=a.getQsWidgetConfiguration(t).estText,v+=n?n+" "+r:"Total est. "+r}else v=v+"."+n}p=p.price;n=pa(t).html();v=v+". "+n+" "+(p.currencySymbol+
p.wholeValue+p.decimalSeparator+p.fractionValue);p=l(t)?c.getQsWidget2DBottomSheetQuantitySelectorCssClass():c.getQsWidget1DBottomSheetSelectorCssClass();n=c.getQsWidgetDropdownItemId(t,q);r=c.getQsWidgetDropdownItemDecl();y="0";l(t)&&(y="-1");t='\x3cspan class\x3d"a-declarative" data-action\x3d"'+r+'" data-'+r+'\x3d"{\x26quot;qsUID\x26quot;:\x26quot;'+t+"\x26quot;,\x26quot;id\x26quot;:"+q+'}"\x3e\x3cli tabindex\x3d"'+y+'" role\x3d"option" id\x3d"'+n+'" aria-label\x3d"'+v+'" class\x3d"'+p+'"\x3e'+
k+"\x3c/li\x3e\x3c/span\x3e"}else{t=b;var x=v;v=f[h].id==e;p=c.getQsWidgetDropdownItemId(t,q);n=c.getQsWidgetDropdownItemAriaId(t,q);var M=c.getQsWidgetDropdownItemQuantitySuffixId(t,q);r=c.getQsWidgetDropdownDecl(t);y="";x&&(y='\x3cspan id\x3d"'+M+'" class\x3d"a-size-mini a-color-tertiary"\x3e'+x+"\x3c/span\x3e");x="false";M="qs-widget-dropdown-link";v&&(x="true",M+=" qs-widget-dropdown-link-active aok-block aok-nowrap");t='\x3cspan class\x3d"a-declarative" data-action\x3d"'+r+'" data-'+r+'\x3d"{\x26quot;qsUID\x26quot;:\x26quot;'+
t+"\x26quot;,\x26quot;id\x26quot;:"+q+'}"\x3e\x3cli tabindex\x3d"-1" role\x3d"option" id\x3d"'+p+'" aria-labelledby\x3d"'+n+'" aria-checked\x3d"'+x+'" class\x3d"qs-widget-dropdown-item"\x3e\x3ca tabindex\x3d"0" href\x3d"javascript:void(0)" draggable\x3d"false" id\x3d"'+n+'" class\x3d"'+M+'"\x3e'+k+"\x26nbsp;\x26nbsp;"+y+"\x3c/a\x3e\x3c/li\x3e\x3c/span\x3e"}d+=t}return d},generateVariationSelectorDOM:function(a,d){if(!w(a))return"";d=y(a,d);for(var b="",e=0;e<d.length;e++){var f=a,l=d[e].id,h=d[e].displayTextForMobile,
m=d[e].ariaLabelText,g=c.getQsWidget2DBottomSheetVariationSelectorCssClass(),q=c.getQsWidgetCadenceDropdownItemId(f,l);c.getQsWidgetDropdownItemAriaId(f,l);var u=c.getQsWidgetVariationDropdownItemDecl();b+='\x3cspan class\x3d"a-declarative" data-action\x3d"'+u+'" data-'+u+'\x3d"{\x26quot;qsUID\x26quot;:\x26quot;'+f+"\x26quot;,\x26quot;id\x26quot;:\x26quot;"+l+'\x26quot;}"\x3e\x3cli tabindex\x3d"-1" role\x3d"option" id\x3d"'+q+'" aria-label\x3d"'+m+'" class\x3d"'+g+'"\x3e'+h+"\x3c/li\x3e\x3c/span\x3e"}return b},
isQsWidgetTextInputValid:da,validateQsWidgetTextInput:function(a){var b=K(a),d=b.val();a=da(a,d);var e=b.parent().hasClass(c.getQsWidgetAuiInputTextWrapperClass())?b.parent():b;if(a)return b.val(d.replace(/^0{2,}$/,"0").replace(/^0+(\d+)/g,"$1")),e.removeClass("a-form-error"),e.addClass("a-form-normal"),!0;e.removeClass("a-form-normal");e.addClass("a-form-error");return!1},isUserClickInDropdown:function(a){var b=c.getQsWidgetDropdownContainerGenericId();for(a=null==a?null:a.target;null!=a;){if(a.id.substring(0,
b.length)===b)return!0;a=a.parentElement}return!1},updateQsWidgetStepper:function(b,c){if(a.isStepper(b)){var e=B(b,c),f=e.selectedText;J(b).text(f);R(b).attr("aria-label",ca(b,f));var l=Z(b),h=aa(b),m=X(b);f=V(b);var g=W(b);O(b,c)||0==z(e)?(l.addClass("aok-hidden"),h.removeClass("aok-hidden")):(l.removeClass("aok-hidden"),h.addClass("aok-hidden"));E(b,c)?(c=N(b,c),c.result?ya(b,c.initialQuantityText):"icdp"==n(b)?m.hide():m.disable()):"icdp"==n(b)?m.show():m.enable();c=a.getQsWidgetConfiguration(b);
d(b)&&(0==z(e)||"0"==c.selectedQuantity?(f.addClass("aok-hidden"),g.show()):(g.hide(),f.removeClass("aok-hidden")))}},updateSimplifiedQsWidgetStepper:function(b,c){if(p(b)){var d=a.getQsWidgetConfiguration(b);J(b).text(c);R(b).attr("aria-label",ca(b,c));var e=Z(b),f=aa(b),l=X(b),m=V(b);b=W(b);0==c||1==c?(e.addClass("aok-hidden"),f.removeClass("aok-hidden")):(e.removeClass("aok-hidden"),f.addClass("aok-hidden"));c>=d.maxQuantity?l.disable():l.enable();0==c?(m.addClass("aok-hidden"),b.show()):(b.hide(),
m.removeClass("aok-hidden"))}},showTextInput:ya,hideSpinner:T,EnableVariationSelector:function(a){a&&S(a).removeClass("qs-widget-disable")},DisableVariationSelector:function(a){a&&S(a).addClass("qs-widget-disable")},getVariationSelectorDisplayTextWithQuantity:za,getVariationSelectorActionTriggerId:Ba,getQsWidgetSelectionPayload:ea,isSUPU:function(b){var c=a.getQsWidgetConfiguration(b).qsCsm;if(c&&(b=c.sellingUomDimension,c=c.pricingUomDimension,b&&c))return"count"==b&&"count"==c?!0:!1},showATCButtonWhenZeroQuantity:d,
isConfirmationVisible:function(a){return na(a).is(":visible")},isBottomSheetExist:function(a){return h.aSheet.get(c.getQsWidgetBottomSheetId(a))?!0:!1},getStoreId:q,syncStepperQuantities:function(b,d,e,l,m,h,g){(b=a.getQsWidgetMapSet(b))&&(d||0==d)&&b.forEach(function(b){var t=q(b),v=n(b).includes("fresh-dp"),k=a.isStepper(b)&&(g||l!=b),p;if(!(p=v||!l))a:{if(l&&b){p=Ca(l);var u=Ca(b);if("bcPrice"==p||"bcPrice"==u){p=!0;break a}if(p&&u){p=p===u;break a}}p=!1}k&&p&&(e&&t&&!v?e==t&&f.trigger(c.getQsWidgetEventSelectQuantityClientUpdate(),
b,d,m,h):f.trigger(c.getQsWidgetEventSelectQuantityClientUpdate(),b,d,m,h))})},isStepper:function(b){return a.isStepper(b)},replaceNbspWithPlainTextNbsp:fa,getQsUidsFromDom:function(){var a=[],c=document.querySelectorAll('[id^\x3d"qs-widget-container-"]');if(c)for(var d=0;d<c.length;d++)a.push(c[d].id.replace("qs-widget-container-",""));return a},setAriaExpanded:function(a,c){R(a).attr("aria-expanded",c)},parseQsItemIdFromDropdownItemId:function(a){var b=c.getQsWidgetDropdownItemIdPrefix().length,
d=a.indexOf("-",b);a=a.substring(b,d);a=parseInt(a,10);return isNaN(a)?null:a},getQsWidgetMobileDropdownItemElement:function(a,d){return f.$("#"+c.getQsWidgetDropdownItemId(a,d))},getQsWidgetCadenceMobileDropdownItemElement:function(a,d){return f.$("#"+c.getQsWidgetCadenceDropdownItemId(a,d))}}})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsWidget-duplication-guard",function(n){n.when("A","QuantitySelectorUtils","QuantitySelectorState","QuantitySelectorConstants","QuantitySelectorMetrics").register("QuantitySelectorWidget",
function(f,a,c,h,g){function k(c){a.deactivateWidget(c);a.setAriaExpanded(c,!1);var d=a.getQsWidgetButtonContainer(c),g=a.getQsWidgetDropdownContainer(c),e=a.getQsWidgetDropdownElement(c),l=a.getQsWidgetQuantityContainer(c),q=a.getQsWidgetSummaryAtcButton(c),t=a.getQsWidgetFooterPriceContainer(c),k=a.getQsWidgetFooterQuantitySuffixContainer(c);a.setElementVisibility(t,!0);a.setElementVisibility(k,!0);t=a.getQsWidgetTextInputContainer(c);a.isComponentVisible(t)||a.showComponent(d);a.hideComponent(g);
a.hideComponent(e);a.hideComponent(l);a.hideComponent(q);a.resetQsWidgetContainerMinWidthAndHeight(c);f.trigger(h.getQsWidgetEventHideDropdown(),c);c=a.getQsWidgetButton(c);c.length&&c.focus()}function n(d,m,g){var e=a.getQsItem(d,m),l=e.quantityText,q=e.quantityTextAbbreviatedSuffix,t=e.quantityTextFullSuffix,k=e.selectedText;e=e.price;var v=a.getQsWidgetSummaryPriceSymbolElement(d),n=a.getQsWidgetSummaryPriceWholeElement(d),p=a.getQsWidgetSummaryPriceFractionElement(d),r=a.getQsWidgetSummaryPriceDecimalElement(d);
a.setHtml(v,e.currencySymbol);a.setHtml(n,e.wholeValue);a.setHtml(p,e.fractionValue);a.setHtml(r,e.decimalSeparator);v=a.getQsWidgetQuantityElement(d);a.setHtml(v,l);l=a.getQsWidgetQuantitySuffixElement(d);q&&t?(a.setHtml(l,q),q=a.getQsWidgetInitialViewSuffixElement(d),a.setHtml(q,t)):a.setHtml(l,"");q=a.getQsWidgetFooterPriceSymbolElement(d);l=a.getQsWidgetFooterPriceWholeElement(d);v=a.getQsWidgetFooterPriceFractionElement(d);n=a.getQsWidgetFooterPriceDecimalElement(d);a.setHtml(q,e.currencySymbol);
a.setHtml(l,e.wholeValue);a.setHtml(v,e.fractionValue);a.setHtml(n,e.decimalSeparator);t&&(e=a.getQsWidgetFooterQuantitySuffixElement(d),a.setHtml(e,t));t="Current quantity "+k;a.isInitialViewDropdown(d)?(a.getQsWidgetButtonAsComponent(d).text(k),a.getQsWidgetButton(d).attr("aria-label",t+NaN)):a.isInitialViewTextLink(d)&&(e=a.getQsWidgetInitialViewTextLinkElement(d),e.text(k),e.attr("aria-label",t));a.setAtcButtonStepperText(d);c.setPreviousSelectedId(d,c.getQsWidgetConfiguration(d).selectedId);
c.setSelectedId(d,m);c.isStepper(d)&&a.updateQsWidgetStepper(d,m);g&&f.trigger(h.getQsWidgetEventTriggerAction(),d)}function r(d,m){if(!a.isSimplifiedStepper(d)){var g=a.getQsWidgetTextInputElement(d),e=g.val(),l=a.getQsWidgetButtonContainer(d),q=a.getQsWidgetTextInputContainer(d),k=a.getQsWidgetTextInputUpdateButtonContainer(d),p=a.getQsItemFromQuantityTextOrQuantity(d,e),r=c.isStepper(d);a.hideComponent(k);r&&a.getQsWidgetButtonAsComponent(d).text(e);p?(a.hideComponent(q),a.showComponent(l),n(d,
p.id,m)):(a.hideComponent(l),a.showComponent(q),g.blur(),c.setSelectedQuantity(d,e),g=c.getQsWidgetConfiguration(d),r&&a.isInitialViewChooseQuantity(d)&&0==g.selectedQuantity&&(g=a.getQsWidgetStepperElement(d),k=a.getQsWidgetAtcButtonAsComponent(d),a.hideComponent(q),a.showComponent(l),a.hideComponent(g),k.show()),m&&f.trigger(h.getQsWidgetEventTriggerAction(),d));r&&a.isInitialViewChooseQuantity(d)&&0<e&&(g=a.getQsWidgetStepperElement(d),k=a.getQsWidgetAtcButtonAsComponent(d),d=a.getQsWidgetAtcButton(d),
a.isComponentVisible(d)&&(a.showComponent(g),k.hide()))}}var p=null;f.on(h.getQsWidgetEventSelectId(),function(c,f,h,e){n(c,f,h);f=a.getQsWidgetButtonContainer(c);h=a.getQsWidgetTextInputContainer(c);c=a.getQsWidgetTextInputUpdateButtonContainer(c);a.hideComponent(c);a.hideComponent(h);a.showComponent(f);e&&e()});f.on(h.getQsWidgetEventSelectQuantity(),function(d,f,h,e){a.isSimplifiedStepper(d)?(f=f.toString(),c.setSelectedQuantity(d,f),a.updateSimplifiedQsWidgetStepper(d,f)):(g.incrementQsItemNotFound(!0,
a.getClientId(d)),a.getQsWidgetTextInputElement(d).val(f),r(d,h));e&&e()});f.on(h.getQsWidgetEventSyncStepperQuantity(),function(c,f,h,e,l,g,k){a.syncStepperQuantities(c,f,h,e,l,g,k)});f.on("commit-c5d19d5c",function(){});f.on(h.getQsWidgetEventSelectQuantityClientUpdate(),function(d,m,k,e){var l=a.getQsItemFromQuantityTextOrQuantity(d,m);l?f.trigger(h.getQsWidgetEventSelectId(),d,l.id,k,e):a.isSimplifiedStepper(d)?(m=m.toString(),c.setSelectedQuantity(d,m),a.updateSimplifiedQsWidgetStepper(d,m)):
(g.incrementQsItemNotFound(!0,a.getClientId(d)),a.getQsWidgetTextInputElement(d).val(m),r(d,k));e&&e()});return{hideAllPopover:function(){for(var c=a.getActivatedQsWidgets(),f=0;f<c.length;f++)k(c[f])},showPopover:function(d){a.activateWidget(d);a.setQsWidgetContainerMinWidthAndHeight(d);a.setAriaExpanded(d,!0);var f=a.getQsWidgetDropdownUnorderedListElement(d),h=a.getQsWidgetButtonContainer(d),e=a.getQsWidgetDropdownContainer(d),l=a.getQsWidgetDropdownElement(d),g=a.getQsWidgetQuantityContainer(d),
k=a.getQsWidgetSummaryAtcButton(d);a.setHtml(f,a.generateQsDropdownDOM(d));f=a.getQsWidgetFooterPriceContainer(d);var n=a.getQsWidgetFooterQuantitySuffixContainer(d);a.setElementVisibility(f,!1);a.setElementVisibility(n,!1);a.showComponent(l);a.hideComponent(g);a.hideComponent(k);a.showComponent(e);a.hideComponent(h);a.popOutDropDownContainer(d);e=c.getQsWidgetConfiguration(d);if((h=e.qsItems)||0!==h.length)e=e.selectedId,null===e&&(e=h[0].id),a.getQsWidgetDropdownItemElement(d,e).focus()},showConfirmation:function(c){a.activateWidget(c);
var d=a.getQsWidgetButtonContainer(c),f=a.getQsWidgetDropdownContainer(c),e=a.getQsWidgetDropdownElement(c),l=a.getQsWidgetQuantityContainer(c);c=a.getQsWidgetSummaryAtcButton(c);a.hideComponent(e);a.showComponent(l);a.showComponent(c);c.find("button").focus();a.showComponent(f);a.hideComponent(d)},showPrice:function(c,f){f=a.getQsItem(c,f).price;var d=a.getQsWidgetSummaryPriceSymbolElement(c),e=a.getQsWidgetSummaryPriceWholeElement(c),l=a.getQsWidgetSummaryPriceFractionElement(c);c=a.getQsWidgetSummaryPriceDecimalElement(c);
a.setHtml(d,f.currencySymbol);a.setHtml(e,f.wholeValue);a.setHtml(l,f.fractionValue);a.setHtml(c,f.decimalSeparator)},selectOption:n,validateAndSelectQuantity:r,selectConfirmation:function(d){if(a.isActionTriggerOnConfirmation(d)){if(c.isStepper(d)){var g=a.getSelectedQsItemId(d);a.updateQsWidgetStepper(d,g)}f.trigger(h.getQsWidgetEventTriggerAction(),d)}k(d)},stepperIncrement:function(d){var g=c.getQsWidgetConfiguration(d),k=a.isQsWidgetQuantityZero(d);if(a.isSimplifiedStepper(d)){var e=g.selectedQuantity;
if(!e)return;e=(parseInt(e)+1).toString();c.setSelectedQuantity(d,e);a.updateSimplifiedQsWidgetStepper(d,e)}else{if(g.selectedId){e=g.selectedId;var l=a.getNextIncrementQsItem(d,g.selectedId).id}else g.selectedQuantity||"0"==g.selectedQuantity?(e=g.selectedQuantity,l=a.getClosestIncrementalQsItem(d,g.selectedQuantity).id,a.getQsItemQuantity(a.getQsItem(d,l))==g.selectedQuantity&&(l=a.getNextIncrementQsItem(d,l).id)):l=a.getSelectedQsItemId(d);if(e===l)return;c.setSelectedId(d,l);a.updateQsWidgetStepper(d,
l)}if(a.showATCButtonWhenZeroQuantity(d)&&(e=a.getQsWidgetButton(d),a.getClientId(d).includes("p13n-buyagain-cards")&&(a.getQsWidgetPlusButton(d).find('input[type\x3d"submit"]').is(":focus")||e.length&&e.focus()),k)){c.isStepper(d)?(f.trigger(h.getQsWidgetEventTriggerAction(),d,null,null,h.getQsWidgetStepperAddToCartReftag()),e.length&&e.focus()):f.trigger(h.getQsWidgetEventTriggerAction(),d);return}null!=p&&clearTimeout(p);p=setTimeout(function(){f.trigger(h.getQsWidgetEventTriggerAction(),d)},g.stepperDebounceTime)},
stepperDecrement:function(d){var g=c.getQsWidgetConfiguration(d);if(a.isSimplifiedStepper(d)){var k=g.selectedQuantity;if(!k)return;k=parseInt(k)-1;var e=k.toString();if(0>=k){c.setSelectedQuantity(d,"0");f.trigger(h.getQsWidgetEventTriggerAction(),d);g=a.getQsWidgetStepperElement(d);g.addClass("aok-hidden");g=a.getQsWidgetAtcButtonAsComponent(d);g.show();return}c.setSelectedQuantity(d,e);a.updateSimplifiedQsWidgetStepper(d,e)}else{if(g.selectedId){if(k=a.getNextDecrementQsItem(d,g.selectedId).id,
k==g.selectedId){c.setSelectedId(d,null);c.setSelectedQuantity(d,"0");f.trigger(h.getQsWidgetEventTriggerAction(),d);a.showATCButtonWhenZeroQuantity(d)&&(g=a.getQsWidgetStepperElement(d),g.addClass("aok-hidden"),g=a.getQsWidgetAtcButtonAsComponent(d),g.show());return}}else if(g.selectedQuantity||"0"==g.selectedQuantity){if(k=a.getClosestDecrementalQsItem(d,g.selectedQuantity).id,"0"==g.selectedQuantity){c.setSelectedQuantity(d,"0");f.trigger(h.getQsWidgetEventTriggerAction(),d);a.showATCButtonWhenZeroQuantity(d)&&
(g=a.getQsWidgetStepperElement(d),g.addClass("aok-hidden"),g=a.getQsWidgetAtcButtonAsComponent(d),g.show());return}}else k=a.getSelectedQsItemId(d);a.updateQsWidgetStepper(d,k);c.setSelectedId(d,k)}null!=p&&clearTimeout(p);p=setTimeout(function(){f.trigger(h.getQsWidgetEventTriggerAction(),d)},g.stepperDebounceTime)}}})});"use strict";r.when("QSAssetDuplicationGuard").execute("QuantitySelector-duplication-guard",function(n){n.when("A","QuantitySelectorWidget","QuantitySelectorUtils","QuantitySelectorState",
"QuantitySelectorConstants","QuantitySelectorMetrics","QuantitySelectorAUIDeps","QuantitySelectorMetadata","QuantitySelectorTemplates").register("QuantitySelector",function(f,a,c,h,g,k,n,w,p){function d(a,d){try{var e=c.isMobile(d)}catch(t){t instanceof TypeError&&k.incrementInvalidIdCount();return}try{if(!c.isInitialized(d)||a)eval(w.getMetaConfiguration(d,"script")),h.setInitialized(d),c.initializeWidget(d),c.isQsWidgetEnabled(d)?c.enableQsWidget(d):c.disableQsWidget(d),k.incrementInitializeCount(!0,
e)}catch(t){k.incrementInitializeCount(!1,e)}}function m(a){h.loadQsWidgetStateConfiguration(a);d(!0,a)}function v(){for(var a=h.getQsUIDs(),d=0;d<a.length;d++){var f=a[d];c.isInitialized(f)||m(f)}}f.declarative(g.getQsWidgetButtonDecl(),"click",function(d){var e=d.data.qsUID;d=c.isMobile(e);var f=h.isStepper(e),g=c.isSimplifiedStepper(e),m=c.isSUPU(e),n=h.getQsWidgetConfiguration(e).selectedId,p=c.isElementVisible(c.getQsWidgetAtcButton(e));if(g||m&&f&&!n){if(c.showATCButtonWhenZeroQuantity(e)&&
!p)return;d&&!c.isBottomSheetExist(e)&&a.getBottomSheet(e);a.stepperIncrement(e)}else d?a.showBottomSheet(e):a.showPopover(e);k.incrementShowPopup(d);c.isInitialViewDropdown(e)?k.logCsm(e,"cqd"):k.logCsm(e,"ccq");setTimeout(function(){c.saveQsWidgetDropdownTopPosition(e)},250)});f.declarative(g.getQsWidgetDropdownDecl(),"click",function(d){var e=d.data.qsUID;d=d.data.id;var f=c.isActionTriggerOnSelect(e),g=c.isTextInputRequired(e,d),h=c.isConfirmationViewEnabled(e),m=c.isQsWidgetDropdownScrolled(e);
h?m?(c.setQsWidgetDropdownScrolled(e),k.logCsm(e,"dcq_scl")):(c.clearQsWidgetDropdownScrolled(e),k.logCsm(e,"dcq")):m?k.logCsm(e,"dsq_scl"):k.logCsm(e,"dsq");a.selectOption(e,d,f&&!g.result);g.result?(c.showTextInput(e,g.initialQuantityText),a.hideAllPopover()):h?a.showConfirmation(e):a.hideAllPopover()});f.declarative(g.getQsWidgetStepperIncrementDecl(),"click",function(d){d=d.data.qsUID;var e=c.getQsWidgetPlusButtonAsComponent(d),f=c.getQsWidgetPlusButton(d);c.isElementVisible(f)&&e.isEnabled()&&
a.stepperIncrement(d)});f.declarative(g.getQsWidgetStepperDecrementDecl(),"click",function(d){d=d.data.qsUID;var e=c.getQsWidgetMinusButton(d);c.isElementVisible(e)&&a.stepperDecrement(d)});f.declarative(g.getQsWidgetDropdownItemDecl(),"click",function(d){var e=d.data.qsUID;a.alignQsItem(e,d.data.id);c.isConfirmationViewEnabled(e)?c.getQsWidgetSummaryAtcButton(e).attr("tabindex","-1").focus():a.getBottomSheetContainer(e).attr("tabindex","-1").focus()});f.declarative(g.getQsWidgetDropdownItemDecl(),
"keydown",function(d){var e=d.data.qsUID,f=d.$event.which;f===g.getTabKeyCode()&&setTimeout(function(){var d=document.activeElement;d&&d.id&&d.id.startsWith("qs-widget-dropdown-item")&&(d=c.parseQsItemIdFromDropdownItemId(d.id))&&a.alignQsItem(e,d)},50);f===g.getReturnKeyCode()&&(a.alignQsItem(e,d.data.id),c.isConfirmationViewEnabled(e)?c.getQsWidgetSummaryAtcButton(e).find("button").focus():a.getBottomSheetContainer(e).attr("tabindex","-1").focus())});f.declarative(g.getQsWidgetVariationDropdownItemDecl(),
"click",function(c){a.alignVariationSelectorItem(c.data.qsUID,c.data.id)});f.declarative(g.getQsWidgetDropdownDecl(),"focusin",function(c){a.showPrice(c.data.qsUID,c.data.id)});f.declarative(g.getQsWidgetDropdownDecl(),"mouseenter",function(c){a.showPrice(c.data.qsUID,c.data.id)});f.declarative(g.getQsWidgetDropdownDecl(),"mouseleave",function(d){d=d.data.qsUID;var e=c.getSelectedQsItemId(d);a.showPrice(d,e)});f.declarative(g.getQsWidgetQuantityChangelinkDecl(),"click",function(d){d=d.data.qsUID;
h.setSelectedId(d,h.getQsWidgetConfiguration(d).previousSelectedId);a.showPopover(d);k.incrementChangeLinkCount();c.saveQsWidgetDropdownTopPosition(d);k.logCsm(d,"ccl")});f.declarative(g.getQsWidgetSummaryAtcDecl(),"click",function(d){d=d.data.qsUID;a.selectConfirmation(d);c.isQsWidgetDropdownScrolled(d)?k.logCsm(d,"atc_scl"):k.logCsm(d,"atc")});f.declarative(g.getQsWidgetTextInputDecl(),"keydown",function(a){var d=a.data.qsUID,e=a.$event.which;8==e||9==e||13==e||37<=e&&40>=e||46==e||(!(48<=e&&57>=
e||96<=e&&105>=e)||a.$event.shiftKey||a.$event.altKey||a.$event.ctrlKey||a.$event.metaKey?a.$event.preventDefault():3<=c.getQsWidgetTextInputElement(d).val().length&&a.$event.preventDefault())});f.declarative(g.getQsWidgetTextInputDecl(),"keyup",function(d){var e=d.data.qsUID;c.validateQsWidgetTextInput(e)&&13==d.$event.keyCode?(d=c.isActionTriggerOnSelect(e)||h.isStepper(e),a.validateAndSelectQuantity(e,d)):c.showTextInput(e)});f.declarative(g.getQsWidgetTextInputDecl(),"focusout",function(a){a=
a.data.qsUID;if(""===c.getQsWidgetTextInputElement(a).val()){var d=(d=h.getQsWidgetConfiguration(a).selectedId)?c.getQsItem(a,d).selectedText:c.getSelectedQuantity(a);c.showTextInput(a,d);c.validateQsWidgetTextInput(a)}});f.declarative(g.getQsWidgetTextInputDecl(),"change",function(a){c.showTextInput(a.data.qsUID)});f.declarative(g.getQsWidgetTextInputUpdateButtonDecl(),"click",function(d){var e=d.data.qsUID;c.validateQsWidgetTextInput(e)&&(e=d.data.qsUID,d=c.isActionTriggerOnSelect(e)||c.isActionTriggerOnConfirmation(e),
a.validateAndSelectQuantity(e,d))});f.$(document).click(function(d){0==c.getActivatedQsWidgets().length||c.isUserClickInDropdown(d)||(d=c.getActivatedQsWidgets()[0],c.isConfirmationVisible(d)&&h.setSelectedId(d,h.getQsWidgetConfiguration(d).previousSelectedId),a.hideAllPopover())});f.$(x).resize(function(){a.hideAllPopover()});f.on(g.getQsWidgetEventInitialize(),function(a,c){n.initialize();if("string"==typeof c)d(a,c);else{c=h.getQsUIDs();for(var e=0;e<c.length;e++)d(a,c[e])}});f.on(g.getQsWidgetEventLoadStatesAndInitialize(),
function(){try{v()}catch(e){if(e instanceof SyntaxError)f.delay(function(){try{v()}catch(l){r.logError(l)}},200);else throw e;}});f.on(g.getQsWidgetEventConfigureEnable(),function(a){c.enableQsWidget(a)});f.on(g.getQsWidgetEventConfigureDisable(),function(a){c.disableQsWidget(a)});f.on(g.getQsWidgetEventConfigureReset(),function(a){for(var c=h.getQsUIDs(),d=0;d<c.length;d++){var e=c[d];if("string"!==typeof a||a==e)h.reloadQsWidgetStateConfiguration(e),f.trigger(g.getQsWidgetEventInitialize(),!0,e)}});
c.hideSpinner();p=f.now();k.logLatencyMetric("JSReady",p);return{loadStateAndInitializeWidget:m}})})});
/* ******** */
(function(n){var r=window.AmazonUIPageJS||window.P,w=r._namespace||r.attributeErrors,q=w?w("QuantitySliderAssets@slider","QuantitySliderAssets"):r;q.guardFatal?q.guardFatal(n)(q,window):q.execute(function(){n(q,window)})})(function(n,r,w){function q(t,h){try{n.register(t,h)}catch(f){if(-1===f.message.indexOf("reregistered by QuantitySliderAssets"))throw f;}}function x(){var t=arguments;return{register:function(h,f){try{n.when.apply(n,t).register(h,f)}catch(m){if(-1===m.message.indexOf("reregistered by QuantitySliderAssets"))throw m;
}}}}n.when("QuantitySliderAssetDuplicationGuard").execute(function(t){t.when("A","quantity-slider-utils","qs-cart-update-utils").register("qs-cart-update-handler",function(h,f,m){function k(a){p||(p="quantity-slider-widget-"+a);return p}function e(a,b){if(!b.atcFormSubmitDisabled){if((a=a.$target&&a.$target.closest(".qs-atc-form"))&&0!==a.length)return a;n.log("Missing $form object","ERROR",k(b.clientName))}}function b(b,g,l){h.trigger(f.ACTIONS.ADD_TO_CART_SUBMIT_START,{asin:b,cartType:g.cartType,
clientName:g.clientName,isQSAction:l,request:g});a(b,g,!0,l)}function a(a,b,l,e){var p=b.cartType,d=JSON.stringify(e?m.getQSRequestObject(b,l,p):m.getATCRequestObject(b,p)),c=m.getAjaxUrl(b,l,p);c&&g.ajax({url:c,type:m.getHttpMethodType(l,p),data:d,headers:m.getHeadersForRequest(b,l,p),xhrFields:{withCredentials:!0},success:function(c,d,g){c.jqXHR=g;delete u[a];(c=m.adaptResponseObject(c,b,l,b.cartType))?(f.setUpdatedQSParamsForAsinOffer(a,b.additionalParams&&b.additionalParams.storeId,{quantityInCart:c.quantity,
cartItemId:c.itemId}),h.trigger(l?f.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS:f.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,{asin:a,cartType:b.cartType,request:b,response:c,clientName:b.clientName,attribution:k(b.clientName),isQSAction:e,isDecreaseQuantityAction:!l}),f.logUrl(b.loggingUrl)):n.log("Invalid Response from the server","ERROR",k(b.clientName))},error:function(c){delete u[a];c=c||{};n.log("Ajax request failed with type: "+(l?"addItems":"modifyItems")+", status code: "+c.status+", error: "+c.responseText,
"ERROR",k(b.clientName));h.trigger(f.ACTIONS.QS_CART_SUBMIT_ERROR,{asin:a,cartType:p,clientName:b.clientName,isQSAction:e,isDecreaseQuantityAction:!l,isMaxOrderQuantityReached:b.quantityInCart>=b.maxOrderQuantity,response:c,request:b});l&&b.$form&&b.$form.submit()}})}var g=h.$,p="",u={};h.declarative("qs-add-to-cart-trigger","click",function(a){var g=a.data&&a.data.asin,l=f.getQsParamsFromTargetAsinOffer(a,g);a.$event&&a.$event.preventDefault();u[g]||(u[g]=!0,l.isMultipleAsinsSubmitting=1<Object.keys(u).length,
l.$form=e(a,l),l.triggeringEvent=a,b(g,l,!1))});h.declarative("qs-slider-widget-trigger","click",function(g){var k=g.data&&g.data.asin,l=f.getQsParamsFromTargetAsinOffer(g,k),p=g.$target[0]&&g.$target[0].className||"",m=h.contains(p,"qs-increase-quantity")||h.contains(p,"qs-decrease-quantity");p=h.contains(p,"qs-decrease-quantity");g.$event&&g.$event.preventDefault();m&&!u[k]&&(u[k]=!0,l.isMultipleAsinsSubmitting=1<Object.keys(u).length,l.triggeringEvent=g,p?(h.trigger(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_START,
{asin:k,cartType:l.cartType,clientName:l.clientName,isQSAction:!0,isDecreaseQuantityAction:!0,request:l}),a(k,l,!1,!0)):(l.$form=e(g,l),b(k,l,!0)))});return{setAttribution:function(a){p=a}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","qs-fresh-cart-update-utils").register("qs-cart-update-utils",function(h,f){function m(c){var d=c.quantityInCart||0;return{items:[{asin:c.asinId,offerListingId:c.offerListingId,quantity:d<c.minOrderQuantity?c.minOrderQuantity-
d:1}]}}function k(c,d,a){return(e.isFunction(d[a])?d[a]:d.DEFAULT)(c)}var e=h.$,b={DEFAULT:m,UFG:f.getUfgCartRequestObject},a={DEFAULT:m,UFG:f.getUfgCartRequestObject},g={DEFAULT:function(c){var d=c.quantityInCart||0;var a=c.cartItemId;a=!a||"C"!==a[0]&&"S"!==a[0]?a:a.substring(1);return{items:[{id:a,quantity:d<=c.minOrderQuantity?0:d-1}]}},UFG:f.getUfgCartRequestObject},p={DEFAULT:function(c){return c.ajaxCartUrl},UFG:function(c){return c.addToCartUrl}},u={DEFAULT:function(c){return c.ajaxCartUrl}},
n={DEFAULT:function(c){return(c=c.entity&&c.entity.items&&c.entity.items[0])?{itemId:c.id,quantity:c.quantity,isTotal:!0}:null},UFG:f.ufgCartResponseAdapter},t={DEFAULT:function(c,d){c=(d.quantityInCart||0)-1;return 0>c?null:{itemId:c?d.cartItemId:"",quantity:c,isTotal:!0}},UFG:f.ufgCartResponseAdapter},l={DEFAULT:"POST",UFG:"POST"},q={DEFAULT:"PUT",UFG:"POST"},r={DEFAULT:function(c){return{"x-api-csrf-token":c.csrfToken,"x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content"),
Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.add-items/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.add-items.request/v1"'}},UFG:function(c){return{"Content-Type":"application/json","x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content")}}},d={DEFAULT:function(c){return{"x-api-csrf-token":c.csrfToken,"x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content"),Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.modify-items/v1"',
"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.modify-items.request/v1"'}},UFG:function(c){return{"Content-Type":"application/json","x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content")}}};return{getATCRequestObject:function(c,d){return k(c,b,d)},getQSRequestObject:function(c,d,b){return k(c,d?a:g,b)},adaptResponseObject:function(c,d,a,b){a=a?n:t;return(e.isFunction(a[b])?a[b]:a.DEFAULT)(c,d)},getHttpMethodType:function(d,a){d=d?l:q;return d[a]?
d[a]:d.DEFAULT},getHeadersForRequest:function(a,b,g){b=b?r:d;return(e.isFunction(b[g])?b[g]:b.DEFAULT)(a)},getAjaxUrl:function(d,a,b){return k(d,a?p:u,b)}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","ewc.app","quantity-slider-widget","quantity-slider-utils").register("quantity-slider-ewc-utils",function(h,f,m,k){function e(a){var g=b('[data-itemid\x3d"'+a.action.itemID+'"]').data(),f=k.getQSParamsForAsin(g.asin);if(f)return{quantity:h.contains(a.action.name,
"delete")||h.contains(a.action.name,"save")||!g.qty?0:g.qty,maxOrderQuantity:f.maxOrderQuantity}}var b=h.$;f.on("ewc:cartUpdate:success",function(a){if(a&&a.action.itemID){var b=e(a);b&&(k.setUpdatedQSParamsForAsin(a.action.asin,{quantityInCart:b.quantity,cartItemId:a.action.itemID}),m.updateQuantitySliderWidget(a.action.asin,b.quantity,b.maxOrderQuantity))}});return{getQuantityAndMaxQuantityForEWC:e}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A").register("qs-fresh-cart-update-utils",
function(h){function f(f,k){return k&&k.items?k.items.find(function(e){return e.ASIN===f}):null}return{getUfgCartRequestObject:function(f){return f.additionalInput},ufgCartResponseAdapter:function(h,k){return(k=f(k.asinId,h.clientResponseModel))?{itemId:k.itemId,quantity:k.quantity,isTotal:!0,rawResponse:h}:{itemId:"invalidItemId",quantity:0,isTotal:!0,rawResponse:h}}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","quantity-slider-utils").register("quantity-slider-metrics-handler",
function(h,f){function m(a,b){return"QuantitySliderWidget::"+a+"::"+(b?b+"::":"")}function k(a){var b=r.ue;"undefined"!==typeof b&&b.count(a,1)}function e(a,g){f.assert(a&&g.clientName,"Missing required properties while logging metrics");if(g.isQSAction)if(g.isDecreaseQuantityAction){var e=b.QS_DECREASE;a=m(g.clientName,g.cartType)+a+"::"+e;k(a)}else e=b.QS_INCREASE,a=m(g.clientName,g.cartType)+a+"::"+e,k(a);else e=b.ATC,a=m(g.clientName,g.cartType)+a+"::"+e,k(a)}var b={ATC:"ATC",QS_INCREASE:"QSIncrease",
QS_DECREASE:"QSDecrease"};return{logRequestStartMetrics:function(a){e("CountStart",a)},logRequestSuccessMetrics:function(a){e("CountSuccess",a)},logRequestErrorMetrics:function(a){e("CountError",a)},logMaxQuantityReachedMetric:function(a){a=m(a.clientName,a.cartType)+"MaxQuantityReached";k(a)},logMultipleAsinsSubmittingMetric:function(a){a=m(a.clientName,a.cartType)+"MultipleAsinsSubmitting";k(a)}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","quantity-slider-utils",
"qs-cart-update-handler","quantity-slider-metrics-handler").register("quantity-slider-widget",function(h,f,n,k){function e(d,a,b,g){d=l(d,a,g);b?f.disableButton(d):f.enableButton(d)}function b(d,a,b){e("."+d+"-qs-slider-button .qs-decrease-quantity",d,a,b)}function a(d,a,b){e("."+d+"-qs-slider-button .qs-increase-quantity",d,a,b)}function g(a,b,g){e("."+a+"-qs-add-to-cart-button .qs-slider-atc-button",a,b,g)}function p(a){if(a.isQSAction){var d=a.asin,b=m(a);a.isDecreaseQuantityAction?f.deselectButton(l("."+
d+"-qs-slider-button .qs-decrease-quantity",d,b)):f.deselectButton(l("."+d+"-qs-slider-button .qs-increase-quantity",d,b))}}function m(a){return(a=(a=a.request)&&a.additionalInput)&&a.storeId}function q(d){var c=d.asin,e=m(d),h=l("."+c+"-qs-slider-spinner",c,e);f.toggleDomNodeVisibility(h,!1);d.isQSAction?(b(c,!1,e),a(c,!1,e)):g(c,!1,e);p(d);c=d.asin;f.assert(c&&d.request&&d.response&&d.response.quantity!==w,"Required properties missing in payload object for UpdateQSWidget");e=m(d);t(c,d.response.quantity,
d.request.maxOrderQuantity,e);d.request.enableQuantityLimitMessage&&(c=l("."+c+"-qs-quantity-limit-message",c,e),f.toggleDomNodeVisibility(c,d.response.quantity>=d.request.maxOrderQuantity));f.updateTotalCartCountOnUI(d,d.cartType);k.logRequestSuccessMetrics(d)}function r(d){var c=d.asin,e=m(d),h=l("."+c+"-qs-slider-spinner",c,e);f.toggleDomNodeVisibility(h,!0);d.isQSAction?(b(c,!0,e),a(c,!0,e)):g(c,!0,e);k.logRequestStartMetrics(d);d.request&&d.request.isMultipleAsinsSubmitting&&k.logMultipleAsinsSubmittingMetric(d)}
function l(a,b,e){if(!e)return v(a);b="."+b+"-qs-slider-data";a=document.querySelectorAll(a);for(var d=[],c=0;c<a.length;c++){var g=a[c],f=g&&v(g).closest(".qs-widget-container");(f=(f=f&&v(f).children(b))&&v(f).data("qs-model"))&&f.additionalInput&&f.additionalInput.storeId===e&&d.push(g)}return v(d)}function t(b,c,e,g){var d=l("."+b+"-qs-add-to-cart-button",b,g),h=l("."+b+"-qs-slider-button",b,g);0<c?(f.changeATCtoQS(d,h),d=Math.min(c,e),h=l("."+b+"-qs-qty-present-in-cart",b,g),Number.isInteger(d)&&
h.html(d),a(b,c>=e,g)):(f.changeQStoATC(d,h),a(b,!1,g))}var v=h.$;Number.isInteger||(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&-9007199254740992<a&&9007199254740992>a&&Math.floor(a)===a});h.on(f.ACTIONS.ADD_TO_CART_SUBMIT_START,function(a){r(a)});h.on(f.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS,function(a){q(a);a.response.quantity===a.request.maxOrderQuantity&&k.logMaxQuantityReachedMetric(a)});h.on(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_START,function(a){r(a)});h.on(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,
function(a){q(a)});h.on(f.ACTIONS.QS_CART_SUBMIT_ERROR,function(d){var c=d.asin,e=m(d),h=l("."+c+"-qs-slider-spinner",c,e);f.toggleDomNodeVisibility(h,!1);d.isQSAction&&d.isMaxOrderQuantityReached?b(c,!1,e):d.isQSAction?(b(c,!1,e),a(c,!1,e)):g(c,!1,e);p(d);k.logRequestErrorMetrics(d)});return{ACTIONS:f.ACTIONS,setAttribution:n.setAttribution,updateQuantitySliderWidget:t}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(q){q.when("A","a-button").register("quantity-slider-utils",
function(h,f){function m(b){return e("."+b+"-qs-slider-data").first().data("qs-model")}function k(b,a){var g=m(b);e("."+b+"-qs-slider-data").data(h.extend(g,a))}var e=h.$;return{ACTIONS:{ADD_TO_CART_SUBMIT_START:"quantity-slider:add-to-cart-start",ADD_TO_CART_SUBMIT_SUCCESS:"quantity-slider:add-to-cart-success",REMOVE_FROM_CART_SUBMIT_START:"quantity-slider:remove-from-cart-start",REMOVE_FROM_CART_SUBMIT_SUCCESS:"quantity-slider:remove-from-cart-success",QS_CART_SUBMIT_ERROR:"quantity-slider:cart-submit-error"},
assert:function(b,a){if(!b)throw Error(a);},changeATCtoQS:function(b,a){e(b).hasClass("aok-hidden")||(e(b).addClass("aok-hidden"),e(a).removeClass("aok-hidden"))},changeQStoATC:function(b,a){e(a).hasClass("aok-hidden")||(e(a).addClass("aok-hidden"),e(b).removeClass("aok-hidden"))},disableButton:function(b){f(e(b)).disable()},deselectButton:function(b){b=f(e(b));b.isEnabled()&&b.setStatus("normal")},enableButton:function(b){f(e(b)).enable()},getQSParamsForAsin:m,getQsParamsFromTargetAsinOffer:function(b,
a){var g="."+a+"-qs-slider-data";return(g=(b=b.$event&&e(b.$event.target).closest(".qs-widget-container"))&&b.children(g).data("qs-model"))?g:m(a)},setUpdatedQSParamsForAsin:k,setUpdatedQSParamsForAsinOffer:function(b,a,g){a?e("."+b+"-qs-slider-data").map(function(b,f){b=e(f);(f=b.data("qs-model"))&&f.storeId===a&&b.data(h.extend(f,g))}):k(b,g)},toggleDomNodeVisibility:function(b,a){a?e(b).removeClass("aok-hidden"):e(b).addClass("aok-hidden")},updateTotalCartCountOnUI:function(b,a){h.extend({},b).onSuccess=
function(a){r.$Nav&&r.$Nav.when("api.setCartCount").run(function(b){b(a)});n.when("mash").execute("quantity-slider-mash-update",function(b){b.cart&&e.isFunction(b.cart.didUpdate)&&b.cart.didUpdate({newCartQuantity:a})})}},logUrl:function(b){b&&h.post(b)}}})});"use strict";q("QuantitySliderAssetDuplicationGuard",function(){return{register:q,when:x}})});
/* ******** */
(function(e){var g=window.AmazonUIPageJS||window.P,n=g._namespace||g.attributeErrors,u=n?n("ALMCartActionAssets",""):g;u.guardFatal?u.guardFatal(e)(u,window):u.execute(function(){e(u,window)})})(function(e,g,n){function u(c,b){try{e.register(c,b)}catch(d){if(!d.message.includes("reregistered by ALMCartActionAssets"))throw d;}}function E(){var c=arguments;return{register:function(b,d){try{e.when.apply(e,c).register(b,d)}catch(a){if(!a.message.includes("reregistered by ALMCartActionAssets"))throw a;
}}}}e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","afx-csm-metrics-utils").register("alm-cart-action-query-string-utils",function(b,d){function a(a,d){var k=f(a),c=h(a);k?d["discoveredAsins.0"]=a.asin:c&&(a=b.filter(a.items,function(a){return f(a)}),a=b.map(a,function(a){return a.asin}),b.each(a,function(a,b){d["discoveredAsins."+b.toString()]=a}));return d}function h(a){return a&&a.items&&b.$.isArray(a.items)&&0<a.items.length}function f(a){return a&&a.asin&&"string"===
typeof a.asin&&""!==a.asin}return{addQueryStringParamsToUrl:function(h,f){var c={};if(f&&f.reftag){var k=f.reftag;"string"===typeof k&&""!==k&&(c.ref_=k)}if(f&&f.queryLogInfoParams){k=f.queryLogInfoParams;for(var e in k)k.hasOwnProperty(e)&&"string"===typeof e&&""!==e&&"string"===typeof k[e]&&""!==k[e]&&(c[e]=k[e])}a(f,c);try{var m=(new URLSearchParams(g.location.search)).get("almBrandId");m&&(c.almBrandId=m)}catch(y){d.increment("ATFC_INVALID_URL_ALMBRANDID")}try{var w=(new URLSearchParams(g.location.search)).get("gsc");
w&&(c.gsc=w)}catch(y){d.increment("ATFC_INVALID_URL_GSC")}(f=b.$.param(c))&&"string"===typeof f&&""!==f&&(h+="?"+f);return h}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","jQuery").register("afx-add-all-helper",function(b,d){return{updateQuantityForAsin:function(a,b,f){a&&b&&!isNaN(f)&&d("#"+a).closest("form").find("#afx-add-all-"+b+"-quantity").attr("value",f)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A",
"jQuery","a-button").register("fx-atfc-button-utils",function(b,d,a){function h(a){return"atfc-spinner-"+(a.asin?a.asin:a.clientId?a.clientId:"noAsin")}var f=!1;return{hideButtonAndRenderSpinner:function(a){var b=a.$currentTarget.find(".a-button");if(b&&b.length){f=!0;a=h(a.data);var c=b.not(".aok-hidden").not(".non-spinner");c&&a.length&&(c.wrap('\x3cdiv id\x3d"'+a+'" class\x3d"atfc-spinner"\x3e\x3c/div\x3e'),d("#"+a).css({width:c.outerWidth()+"px"}),d("#"+a).css({height:c.outerHeight()+"px"}));
b.css("visibility","hidden")}},showButtonAndRemoveSpinner:function(a){var b=a.$currentTarget.find(".a-button"),c=h(a.data);c=d("#"+c);b&&b.length&&c&&c.length&&(f=!1,b.each(function(){d(this).parent().hasClass("atfc-spinner")&&d(this).unwrap()}),b.css("visibility","visible"));a.data&&a.data.qsUID&&!1===a.data.setQuantityFlag&&e.when("QuantitySelectorUtils").execute(function(b){b=b.getQsWidgetButton(a.data.qsUID);b.length&&b.focus()})},shouldDisableButtonClicks:function(){return f}}})});"use strict";
e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("fresh-shared-add-to-cart-v2","qs-fresh-shared-add-to-cart").register("fresh-add-to-cart",function(b,d){function a(a){b.attachCallbacks(a)}b.initialize("desktop");d.initialize("desktop");return{addToFreshCart:function(b){a(b)},attachCallbacks:a,attachPrehooks:function(a){b.attachPrehooks(a)},updateAddAllQuantityForAsin:b.updateAddAllQuantityForAsin,updateQuantity:b.updateQuantity}})});e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A",
"alm-cart-action-assets-device","afx-metrics-helper","afx-csm-metrics-utils").register("alm-cart-action-assets-metrics",function(b,d,a,h){b=a.getMetricsForDevice(d.getDevice());h.increment(b.ATFC_ASSET_LOAD);return{}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("shared-alm-multi-add-to-cart").register("alm-multi-add-to-cart",function(b){function d(a){b.attachCallbacks(a)}b.initialize("desktop");return{multiAddToCart:function(a){d(a)},attachCallbacks:d,attachPreHandler:function(a){b.attachPreHandler(a)}}})});
"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","alm-cart-action-query-string-utils").register("afx-atfc-v2-proxy",function(b,d){return{addToFreshCart:function(a){var h=d.addQueryStringParamsToUrl("/alm/addtofreshcart",a.data);b.$.ajax(h,{type:"POST",contentType:"application/json",data:JSON.stringify(a.data)}).done(a.success).fail(a.error)},showGenericErrorModal:function(a){b.post("/alm/atfcGenericErrorModal/",{timeout:5E3,success:a.success,error:a.error})}}})});
"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A").register("fx-atfo-proxy",function(b){return{addToFreshOrder:function(d){var a="/fom/add-to-fresh-order";d.reftag!==n&&(a+="/ref\x3d"+d.reftag);d.data!==n&&d.data.csrfToken&&(a+="?csrf\x3d"+encodeURIComponent(d.data.csrfToken));b.post(a,{success:d.success,error:d.error,params:JSON.stringify(d.data),paramsFormat:"json",contentType:"application/json"})},getFallbackErrorModalHtml:function(){return{header:"Item was not added to the order",
errorMessage:"We're sorry, there was an error and \x3cb\x3ethis item was not added to your order.\x3c/b\x3e Please try again.",footer:"\x3cspan class\x3d'a-declarative' data-action\x3d'a-popover-close'data-a-popover-close\x3d'{}'\x3e\n\x3cspan class\x3d'a-button primary-fresh-btn'\x3e\x3cspan class\x3d'a-button-inner'\x3e\x3cinput class\x3d'a-button-input'type\x3d'submit'\x3e\x3cspan class\x3d'a-button-text' aria-hidden\x3d'true'\x3eOK\n\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e"}}}})});
"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A").register("afx-atfc-cart-conflicts-proxy",function(b){function d(a){a.ref=a.reftag;a.client="atfc";return a}return{getConflictSummary:function(a){var h=d(a.data);b.post("/afx/cartconflicts/getconflictsummary",{timeout:5E3,success:a.success,error:a.error,params:h})},resolve:function(a){var h=d(a.data);b.post("/afx/cartconflicts/resolve",{timeout:5E3,success:a.success,error:a.error,params:h})},substitute:function(a){a=
d(a.data);a.sourceUrl=g.location.pathname+g.location.search;a=b.$.param(a);g.location.href="/afx/cartconflicts/resolve/substitute?"+a}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A").register("afx-get-cart-count",function(b){return function(d){b.get("/alm/addtofreshcart/cartcount",{timeout:5E3,success:function(a){d.success&&d.success({isOK:!0,total:{numActiveItem:a.cartCount}})},error:function(a){d.error&&d.error(a)}})}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A",
"alm-cart-action-query-string-utils").register("alm-multi-add-to-cart-proxy",function(b,d){return{multiAddToCart:function(a){var h=d.addQueryStringParamsToUrl("/alm/addtocart/multiple",a.data);b.$.ajax(h,{type:"POST",contentType:"application/json",data:JSON.stringify(a.data)}).done(a.success).fail(a.error)}}})});"use strict";u("ALMCartActionAssetDuplicationGuard",function(){return{register:u,when:E}});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.register("afx-callbacks-helper",
function(b){function d(b){var h=b in a;!h&&e.log("Unable to retrieve callback for "+b,"Error");return h}var a={};return{addCallbacks:function(b){a[b.clientID||"default"]=b},success:function(b,f,c){b=b in a?b:"default";d(b)&&a[b].success&&a[b].success(f,c)},error:function(b,f,c,e){b=b in a?b:"default";d(b)&&a[b].error&&a[b].error(f,c,e)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A").register("alm-cart-action-assets-device",function(b){return{getDevice:function(){return"desktop"}}})});
"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.register("afx-preHandler-helper",function(b){var d={};return{addPreHandler:function(a){d[a.clientID||"default"]=a},getPreHandler:function(a){return d[a]}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.register("afx-prehooks-helper",function(b){function d(b){var d=b in a?b:"default";d=d in a&&a[d].invoke;!d&&e.log("Unable to retrieve prehook for "+b,"Error");return d}var a={};return{addPrehooks:function(b){a[b.clientID||
"default"]=b},invoke:function(b,c){var f=b.clientId in a?b.clientId:"default";d(b.clientId)&&a[f].invoke(b.triggerEvent,c,b.scope,b.success,b.failure,b.device)},validatePrehook:d,prehooksWeblabEnabled:!1}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.register("afx-csm-metrics-utils",function(){var b={},d=function(a,b){g.ue&&g.ue.count&&a&&b&&g.ue.count(a,b)};return{startWidgetTimer:function(a){b[a]=Date.now()},endWidgetTimer:function(a,c){a=Date.now()-b[a];d(c,
a)},setWidgetClickTimestamp:function(a){g.ue&&g.uet&&a&&g.uet("tc",a,{wb:1})},setWidgetTimestamp:function(a,b){g.ue&&g.uet&&a&&b&&g.uet(a,b,{wb:1})},increment:function(a){g.ue&&g.ue.count&&a&&g.ue.count(a,(g.ue.count(a)||0)+1)},setCount:d,sendWidgetMetrics:function(a){g.ue&&g.uex&&a&&g.uex("ld",a,{wb:1})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.register("add-to-cart-common-utils",function(){return{vibrate:function(){return g.amazon&&g.amazon.cordova&&g.amazon.cordova.notification&&
g.amazon.cordova.notification.vibrate&&g.amazon.cordova.notification.vibrate(50)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","a-modal").register("fresh-atfc-modal-utils",function(b,d){return{removeModal:function(){var a=d.get("fresh-add-to-cart-modal");a&&d.remove(a)},showModal:function(a,c,f){c&&(c={name:"fresh-add-to-cart-modal",header:c.header,inlineContent:c.body,footer:c.footer},"desktop"===f&&(c.width=325),d.create(a.$currentTarget,c).show(),
b.on("a:popover:afterHide:".concat("fresh-add-to-cart-modal"),function(a){d.remove(a.popover)}))}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","jQuery","afx-atfc-v2-proxy","afx-csm-metrics-utils","afx-metrics-helper","afx-quantity-helper","fresh-atfc-ewc-helper","fresh-atfc-fallback-error-modal-helper").register("fresh-atfc-error-modal-utils",function(b,d,a,c,f,k,m,t){function h(a,d,c,f){e.when("a-modal").execute("showModal",function(l){d||p(a);a.data.quantity&&
(k.updateQuantity("fresh-clear-slot-button",a.data.quantity),k.updateQuantity("alcohol-warning-fresh-add-to-cart-button",a.data.quantity),k.updateQuantity("regions-out-of-sync-inline-fresh-add-to-cart-button",a.data.quantity));var e={name:"fresh-add-to-cart-error-modal",header:d.header,inlineContent:d.errorMessage,footer:d.footer,data:{event:a,response:f}};"desktop"===c&&(e.width=325);l.create(a.$currentTarget,e).show();b.on("a:popover:afterHide:".concat("fresh-add-to-cart-error-modal"),function(b){m.refreshCart(a.data.sessionID);
l.remove(b.popover)})})}function p(c,f){a.showGenericErrorModal({success:function(a,b,l){a&&(a=d.parseJSON(l.http.response),w(c,a,f))},error:function(){e.log("Failed to get the generic error modal","Error");var a=t.getFallbackErrorModal();c.data.qsUID&&c.data.prevSelectedQty&&c.data.isStepperFlag&&(b.isListening("quantity-selector-widget:sync-stepper-quantity")?b.trigger("quantity-selector-widget:sync-stepper-quantity",c.data.asin,c.data.prevSelectedQty,c.data.storeId):b.trigger("quantity-selector-widget:selectQuantity:clientUpdate",
c.data.qsUID,c.data.prevSelectedQty,!1));h(c,a,f)}})}function g(a,b){if(a.data.asin&&a.data.storeId&&b.clientResponseModel&&b.clientResponseModel.items){var c=b.clientResponseModel.items.filter(function(b){return b.ASIN===a.data.asin});1<c.length&&(c=c.filter(function(b){return b.ASIN===a.data.asin&&b.storeId===a.data.storeId}));if(1===c.length&&c[0].hasOwnProperty("amountInCart"))return parseFloat(c[0].amountInCart);if(b.clientResponseModel.uberCartStatus&&a.data.prevSelectedQty&&"INTERNAL_SERVER_ERROR"===
b.clientResponseModel.uberCartStatus.errorStatusCode)return parseFloat(a.data.prevSelectedQty)}return 0}function w(a,d,e){var l=d.errorModalHtml,k=f.getMetricsForDevice(e);d.clientResponseModel&&d.clientResponseModel.uberCartStatus&&d.clientResponseModel.uberCartStatus.errorStatusCode in k&&c.increment(k[d.clientResponseModel.uberCartStatus.errorStatusCode]);a.data.qsUID&&(k=g(a,d),null!=k&&a.data.isStepperFlag&&(b.isListening("quantity-selector-widget:sync-stepper-quantity")?b.trigger("quantity-selector-widget:sync-stepper-quantity",
a.data.asin,k,a.data.storeId):b.trigger("quantity-selector-widget:selectQuantity:clientUpdate",a.data.qsUID,k,!1)));h(a,l,e,d)}return{removeModal:function(){e.when("a-modal").execute("removeModal",function(a){var b=a.get("fresh-add-to-cart-error-modal");b&&a.remove(b)})},showModal:h,showGenericErrorModal:p,parseResponseAndShowErrorModal:w,getItemInCartQuantityFromResponse:g}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","jQuery","afx-atfc-v2-proxy","afx-get-cart-count").register("fresh-atfc-ewc-helper",
function(b,c,a,h){function d(a){h({sessionID:a,success:function(a){a&&a.isOK&&a.total&&k(a.total.numActiveItem)},error:function(){e.log("Failed to get cart count","Error",a)}})}function k(a){e.when("nav.setCartCount").execute(function(b){b(a)});e.when("mash").execute(function(b){b.cart&&"function"===typeof b.cart.didUpdate&&b.cart.didUpdate({newCartQuantity:a})})}var m;e.when("EWC").execute("add-to-cart-refresh",function(a){m=a});e.when("nav.getFlyout").execute(function(a){a("ewc")});return{refreshCart:function(a){m!==
n&&"function"===typeof m.refresh?m.refresh():d(a)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","afx-storeIntroductionSheet-helper","afx-cpi-helper","afx-notification-helper").register("f3-consumables-atc-helper",function(b,c,a,e){return{handleAddToCart:function(d,h,m){h.storeIntroductionSheetHtml&&h.storeIntroductionSheetHtml.content||d.additionalParams&&d.additionalParams.shouldRenderSIS?c.render(d,h,m):h.renderUFGCartProgressIndicator?a.render(d):
b.trigger("fresh-atfc:success","false",{almBrandId:d.brandId});e.handleAddToCart(h,m)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.register("afx-metrics-helper",function(){var b={ATFC_COUNT:"afxAddToFreshCartCount",ALM_MULTI_ATC_COUNT:"almMultiAddToCartCount",ATFC_ASSET_LOAD:"almAssetLoadCount",ATFC_SUCCESSFUL_ADD_COUNT:"afxAddToFreshCartSuccessfulAddCount",ALM_MULTI_ATC_COUNT_SUCCESS:"almMultiAddToCartCountSuccess",ATFC_ERROR_MODAL_COUNT:"afxAddToFreshCartErrorModalCount",
ALM_MULTI_ATC_COUNT_ERROR_MODAL:"almMultiAddToCartCountErrorModal",ATFC_UNEXPECTED_ERROR_COUNT:"afxAddToFreshCartUnexpectedErrorCount",ALM_MULTI_ATC_COUNT_ERROR_UNEXPECTED:"almMultiAddToCartCountErrorUnexpected",ATFC_LATENCY_SCOPE:"afxAddToFreshCartLatencyScope",ATFC_ERROR_MODAL_LATENCY_SCOPE:"afxAddToFreshCartErrorModalLatencyScope",ATFC_CTCF:"afxAddToFreshCartCTCF",ATFC_STORE_INTRODUCTION_SHEET:"afxStoreIntroductionSheet",ATFC_OCX_STORE_INTRODUCTION_SHEET:"afxOfferComparisonStoreIntroductionSheet",
CLEAR_SLOT_ATFC_CTCF:"afxClearSlotAndAddToFreshCartCTFC",CART_SERVICE_RESPONSE_FALSE:"afxCartServiceResponseIsNotOKErrorCount",ATFC_NOTIFICATION_RETRY:"afxAddToCartNotificationRetryCount",ATFC_NOTIFICATION_FAILURE:"afxAddToCartNotificationFailureCount",ITEM_NOT_AVAILABLE:"afxItemNotAvailableErrorModalCount",ITEM_PARTIALLY_AVAILABLE:"afxItemPartiallyAvailableErrorModalCount",ITEM_PARTIALLY_AVAILABLE_FOR_RESERVATION:"afxItemPartiallyAvailableErrorModalCount",ADDRESS_NOT_SELECTED:"afxAddressNotSelectedErrorCount",
INPUT_INVALID:"afxGeneralErrorModalCount",ITEM_NOT_AVAILABLE_FOR_RESERVATION:"afxItemNotAvailableForReservationErrorModalCount",INTERNAL_SERVER_ERROR:"afxGeneralErrorModalCount",PRICE_UNAVAILABLE:"afxItemNotAvailableErrorModalCount",QUANTITY_OVERFLOW:"afxUniqueItemQuantityOverflowErrorModalCount"};return{getMetricsForDevice:function(c){var a={};Object.keys(b).forEach(function(d){a[d]=b[d]+":"+c});return a}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A").register("afx-quantity-helper",
function(b){var c={};return{updateQuantity:function(a,b){"undefined"!==typeof a&&null!==a&&!isNaN(b)&&0<b&&(c[a]=b||1)},getQuantity:function(a){a=a.closest(".a-button");return 0<a.length?c[a.attr("id")]||1:1}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","afx-csm-metrics-utils","afx-metrics-helper","f3-glowchangeaddress").register("afx-storeIntroductionSheet-helper",function(b,c,a,h){function d(a){e.when("a-sheet").execute(function(b){b.create({inlineContent:a,
closeType:"icon",height:190}).show();g("mobile",!1)})}function k(a,c,d){var f=a.additionalParams;if(a.asin&&a.brandId&&a.offerListingDiscriminator&&a.storeId){var h={almBrandId:a.brandId,almStoreId:a.storeId,asin:a.asin,isDelivery:c.delivery,offerListingDiscriminator:a.offerListingDiscriminator,isAlmDetailPageBopis:c.almDetailPageBopis};c.newGlowAddressId&&(h.newGlowAddressId=c.newGlowAddressId);a.clientID&&(h.clientId=a.clientID);f&&f.sisDeliveryMessage&&(h.deliveryMessage="DELIVERY_MESSAGE_PLACEHOLDER");
b.get("/fmc/sis",{params:h,accepts:"text/html; charset\x3dutf-8",timeout:3E3,success:function(a){var b=document.getElementById("almStoreIntroductionSheet");b||(b=document.createElement("div"),b.setAttribute("id","almStoreIntroductionSheet"),document.body.appendChild(b));m(b,a,f.sisDeliveryMessage);g(d,!0)},error:function(a,b,c){e.log("Failed to render store introduction sheet: "+c,"Error")}})}else e.log("Failed to render store introduction sheet: Missing Parameters","Error")}function m(a,b,c){a.innerHTML=
b;if(b=a.querySelector("#store-introduction-sheet-delivery-message span"))b.innerHTML=c;a.querySelectorAll("script").forEach(function(a){var b=document.createElement("script");Array.from(a.attributes).forEach(function(a){b.setAttribute(a.name,a.value)});b.appendChild(document.createTextNode(a.innerHTML));a.parentNode.replaceChild(b,a)})}function g(b,d){b=a.getMetricsForDevice(b);d?c.increment(b.ATFC_OCX_STORE_INTRODUCTION_SHEET):c.increment(b.ATFC_STORE_INTRODUCTION_SHEET)}function v(a,c){var d=a.newGlowAddressId,
f=a.storeFrontUrl,e=a.isAlmDetailPageBopis;if(d)if(h.setAddress({addressId:d,almBrandId:a.almBrandId}),b.capabilities.isAmazonApp)p(f,e,c);else b.on("packard:glow:destinationChangeNavAck",function(){p(f,e,c)});else p(f,e,c)}function p(a,b,c){b?c?w():q():a&&(location.href=a)}function q(){e.when("a-sheet").execute(function(a){var b=a.get("alm-store-introduction-sheet");a.hideSheet(b);b.destroy()})}function w(){var a=b.$("#store-introduction-sheet-side-sheet-container").width()+30;n({right:"-"+a+"px"},
function(){b.$("#store-introduction-sheet-side-sheet-container").remove()});b.$("body").css({overflow:"visible"});b.hide(b.$("#store-introduction-sheet-background"));b.$("#store-introduction-sheet-background").remove()}function n(a,c){b.animate(b.$("#store-introduction-sheet-side-sheet-container"),a,300,"ease-out",c)}b.declarative("sis-storefront-button-action","click",function(a){v(a.data,!0)});b.declarative("sis-storefront-button-action-mobile","click",function(a){v(a.data,!1)});return{render:function(a,
b,c){a.additionalParams&&a.additionalParams.shouldRenderSIS?b&&b.storeIntroductionSheetEnabled&&k(a,b,c):"mobile"===c&&d(b.storeIntroductionSheetHtml.content)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A").register("afx-cpi-helper",function(b){return{render:function(b){}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A").register("f3-glowchangeaddress",function(b){function c(c,d){var f={};c=h(c);""==c?e.log("CSRF Token not available in response from get-rendered-address-selections response",
"Error"):(f.addressId=d.addressId,f.almBrandId=d.almBrandId,f.actionSource="f3-pickup-conflict",f.locationType="ACCOUNT_ADDRESS",f.deviceType="web",f.pageType=g.ue_pty,b.post("/portal-migration/hz/glow/address-change?actionSource\x3dglow",{headers:{"Content-Type":"application/json","anti-csrftoken-a2z":c},params:f,paramsFormat:"json",success:function(b){a()},error:function(){e.log("Unable to set GLOW address","ERROR")}}))}function a(){b.capabilities.isAmazonApp?e.when("BottomSheetPlugin").execute(function(a){a.UpdateGlowIngress({})}.bind(this)):
b.trigger("packard:glow:destinationChangeNav")}function h(a){var b=a.indexOf('"',a.indexOf("CSRF_TOKEN"))+1;if(0!=b){var c=a.indexOf('"',b);return a.substring(b,c)}return""}return{setAddress:function(a){b.get("/portal-migration/hz/glow/get-rendered-address-selections?deviceType\x3ddesktop\x26pageType\x3dDetail\x26storeContext\x3dgrocery\x26actionSource\x3ddesktop-modal",{headers:{"Content-Type":"application/json","anti-csrftoken-a2z":b.$("#glowValidationToken").val()||""},success:function(b){c(b,
a)},error:function(){e.log("Unable to get rendered address content","ERROR")}})},refreshGlowIngress:a}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A").register("search-add-to-cart-helper",function(b){return{start:function(){e.now("rush-framework","rush-dispatcher").execute(function(b,a){b!==n&&a!==n&&a.trigger("search-add-to-cart:start",{})})},success:function(b,a){e.now("rush-framework","rush-dispatcher").execute(function(c,d){c!==n&&d!==n&&d.trigger("search-add-to-cart:success",
{response:a,event:b})})},error:function(){e.now("rush-framework","rush-dispatcher").execute(function(b,a){b!==n&&a!==n&&a.trigger("search-add-to-cart:error",{})})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","afx-csm-metrics-utils","afx-metrics-helper").register("afx-notification-helper",function(b,c,a){function d(f,e,h,g){var k=a.getMetricsForDevice(h);2<=g?c.increment(k.ATFC_NOTIFICATION_FAILURE):0<b.$(".a-changeover:visible").length?(setTimeout(function(){d(f,
e,h,g+1)},2300),c.increment(k.ATFC_NOTIFICATION_RETRY)):(k='\x3cdiv aria-live\x3d"polite" class\x3d"a-changeover atfc-notification"\x3e\x3cdiv class\x3d"a-changeover-inner"\x3e${notification-message}\x3c/div\x3e\x3c/div\x3e'.replace("${notification-message}",e),f.find(".atfc-notification").remove(),f.append(k))}return{handleAddToCart:function(a,c){if(a&&!a.errorModalHtml&&a.clientResponseModel){a=a.clientResponseModel;var e=a.addToCartRequest.asin,f=a.addToCartRequest.storeId;if(a.items)for(var h=
0;h<a.items.length;h++){var k=a.items[h];if(k&&k.notification&&k.ASIN===e&&(null==f||0==f.length||k.storeId===f)){d(b.$("body"),k.notification,c,0);break}}}}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","afx-atfc-cart-conflicts-proxy").register("afx-atfc-cart-conflicts-executor",function(b,c){return{execute:function(a){c.getConflictSummary({data:a.data,success:function(d,e,k){!0===d.isSuccess?!0===d.hasConflicts?c.substitute({data:a.data}):c.resolve({data:a.data,
success:function(){b.trigger("fresh-cart-conflict-resolution:success");location.reload()},error:a.error}):a.error(k,e,"Failed to call getconflictsummary")},error:a.error})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","afx-atfc-v2-proxy","fx-atfo-proxy","fx-atfc-button-utils","afx-csm-metrics-utils","afx-metrics-helper","afx-quantity-helper","afx-prehooks-helper","afx-callbacks-helper","afx-atfc-cart-conflicts-executor","fresh-atfc-error-modal-utils",
"fresh-atfc-ewc-helper","afx-add-all-helper","f3-consumables-atc-helper","add-to-cart-common-utils","f3-glowchangeaddress","search-add-to-cart-helper").register("fresh-shared-add-to-cart-v2",function(b,c,a,h,f,k,g,t,v,p,q,w,y,l,u,F,B){return{updateQuantity:g.updateQuantity,attachPrehooks:t.addPrehooks,attachCallbacks:v.addCallbacks,updateAddAllQuantityForAsin:y.updateQuantityForAsin,initialize:function(d){function m(a){return a.isItemSoldByCount?!JSON.parse(a.isItemSoldByCount):a.pickingStrategy?
"bulk"===a.pickingStrategy||"catch"===a.pickingStrategy:!1}function A(a,b,c,e){u.vibrate();a.data.amountInUom===n&&m(a.data)&&(a.data.amountInUom=a.data.quantity,a.data.quantity=1);var r={clientId:a.data.clientID,triggerEvent:a,scope:b,success:c,failure:e,device:d},f=y(a,b,e);t&&t.prehooksWeblabEnabled&&t.validatePrehook(r.clientId)?t.invoke(r,{success:D,error:function(a,b,c){f(a,b,c)}}):D(a,b,c,e)}function y(a,b,c){return function(e,r,k){var g=x.ATFC_CTCF,p=e.responseText;q.removeModal();if(p){var l=
JSON.parse(p);g=x.ATFC_CTCF+":lineItemBucket:"+C(l.clientResponseModel)}400===e.status&&l?(f.increment(x.ATFC_ERROR_MODAL_COUNT),q.parseResponseAndShowErrorModal(a,l,d)):403===e.status?location.reload():(f.increment(x.ATFC_UNEXPECTED_ERROR_COUNT),q.showGenericErrorModal(a,d),v.error(a.data.clientID,a,e,r,k),B.error());f.endWidgetTimer(b,g);a.data.setQuantityFlag||h.showButtonAndRemoveSpinner(a);c&&c()}}function D(a,e,k,g){var r=y(a,e,g);B.start();c.addToFreshCart({data:a.data,success:function(c,r,
g){if(200===g.status)if(f.increment(x.ATFC_SUCCESSFUL_ADD_COUNT),r=x.ATFC_CTCF+":lineItemBucket:"+C(c),f.endWidgetTimer(e,r),r=q.getItemInCartQuantityFromResponse(a,c),b.isListening("commit-c5d19d5c")&&a.data.setQuantityFlag!==n&&a.data.qsUID?b.trigger("quantity-selector-widget:sync-stepper-quantity",a.data.asin,r,a.data.storeId,a.data.qsUID,!1,!1,!a.data.setQuantityFlag,a.data.clientID):a.data.setQuantityFlag&&a.data.qsUID?b.trigger("quantity-selector-widget:sync-stepper-quantity",a.data.asin,r,
a.data.storeId,a.data.qsUID):b.trigger("quantity-selector-widget:sync-stepper-quantity",a.data.asin,r,a.data.storeId),w.refreshCart(a.data.sessionID),v.success(a.data.clientID,a,c.clientResponseModel),B.success(a,c.clientResponseModel),c.refreshGlowLabel){if(F.refreshGlowIngress(),c.storefrontUrl)if(b.capabilities.isAmazonApp)location.href=c.storefrontUrl;else b.on("packard:glow:destinationChangeNavAck",function(){location.href=c.storefrontUrl})}else c.shouldRedirectToOgs?c.ogsUrl?setTimeout(function(){location.href=
c.ogsUrl},3E3):location.reload():l.handleAddToCart(a.data,c,d);q.removeModal();a.data.setQuantityFlag||h.showButtonAndRemoveSpinner(a);k&&k()},error:function(a,b,c){r(a,b,c)}})}function G(a,c){f.startWidgetTimer(c);b.post("/afx/slotselection/cancel",{timeout:5E3,params:{token:a.data.additionalParams.csrfToken},success:function(){a.data.quantity=g.getQuantity(a.$target);A(a,c,function(){location.reload()})},error:function(){e.log("Failed to clear reservation");q.showGenericErrorModal(a,d)}})}function C(a){return a.items&&
Math.ceil(a.items.length/5)}var x=k.getMetricsForDevice(d),z=x.ATFC_LATENCY_SCOPE+Date.now();b.on("quantity-selector-widget:action:AddToCartAction",function(a){a.additionalParams&&(a.additionalParams=b.$.parseJSON(a.additionalParams));a.queryLogInfoParams&&(a.queryLogInfoParams=b.$.parseJSON(a.queryLogInfoParams));var c={data:a};if(a.tunneledData&&a.tunneledData.$target){var d=a.tunneledData.$target;c=b.$.extend(c,{$target:d,$currentTarget:d,$declarativeTarget:d});delete a.tunneledData}else a=b.$("#qs-widget-button-container-"+
a.qsUID),c=b.$.extend(c,{$target:a,$currentTarget:a,$declarativeTarget:a}),c.data.setQuantityFlag||h.hideButtonAndRenderSpinner(c);A(c,z)});b.declarative("fresh-clear-slot","click",function(a){a.$currentTarget.context.disabled=!0;G(a,z)});b.declarative("fresh-add-to-cart","click",function(a){f.startWidgetTimer(z);f.increment(x.ATFC_COUNT);h.shouldDisableButtonClicks()||a.$currentTarget.find("input").is(":disabled")||(a.data.setQuantityFlag||h.hideButtonAndRenderSpinner(a),a.data.qsUID?b.trigger("quantity-selector-widget:triggerAction",
a.data.qsUID,"AddToCartAction",{$target:a.$currentTarget}):(a.data.quantity=g.getQuantity(a.$target),A(a,z)))});b.declarative("fresh-add-to-cart-alcohol","click",function(a){a.$currentTarget.context.disabled=!0;f.startWidgetTimer(z);a.data.quantity=g.getQuantity(a.$target);b.trigger("quantity-selector-widget:sync-stepper-quantity",a.data.asin,a.data.quantity);A(a,z)});b.declarative("fresh-add-to-cart-regions-resolve","click",function(a){a.$currentTarget.context.disabled=!0;q.removeModal();p.execute({data:a.data,
error:function(b,c,e){q.showGenericErrorModal(a,d);v.error(a.data.clientID,a,b,c,e)}})});b.declarative("fresh-add-to-order","click",function(b){h.shouldDisableButtonClicks()||(h.hideButtonAndRenderSpinner(b),u.vibrate(),a.addToFreshOrder({data:b.data,success:function(a,c,d){200===d.http.status&&v.success(b.data.clientID,b,a.clientResponseModel);h.showButtonAndRemoveSpinner(b)},error:function(c,e,f){q.removeModal();if(400===c.http.status)c=JSON.parse(c.responseText),q.parseResponseAndShowErrorModal(b,
c,d);else if(401===c.http.status)location.reload();else{var k=a.getFallbackErrorModalHtml();q.showModal(b,k,d);v.error(b.data.clientID,b,c,e,f)}h.showButtonAndRemoveSpinner(b)}}))})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","alm-multi-add-to-cart-proxy","fx-atfc-button-utils","afx-csm-metrics-utils","afx-metrics-helper","afx-callbacks-helper","afx-preHandler-helper","fresh-atfc-error-modal-utils","fresh-atfc-ewc-helper","f3-consumables-atc-helper",
"add-to-cart-common-utils").register("shared-alm-multi-add-to-cart",function(b,c,a,e,f,k,g,t,v,p,q){return{attachCallbacks:k.addCallbacks,attachPreHandler:g.addPreHandler,initialize:function(d){function h(f,h,g,m){q.vibrate();c.multiAddToCart({data:f.data,success:function(c,h,m){200===m.status&&(e.increment(l.ALM_MULTI_ATC_COUNT_SUCCESS),v.refreshCart(f.data.sessionID),b.trigger("multipleAddToCart:success",f.data),k.success(f.data.clientId,f,c),p.handleAddToCart(f.data,c,d));t.removeModal();a.showButtonAndRemoveSpinner(f);
g&&g()},error:function(b,c,h){a.showButtonAndRemoveSpinner(f);t.removeModal();if(b.responseText)try{var g=JSON.parse(b.responseText)}catch(C){g=n}400===b.status&&g?(e.increment(l.ALM_MULTI_ATC_COUNT_ERROR_MODAL),t.parseResponseAndShowErrorModal(f,g,d)):403===b.status?location.reload():(e.increment(l.ALM_MULTI_ATC_COUNT_ERROR_UNEXPECTED),t.showGenericErrorModal(f,d));k.error(f.data.clientId,f,b,c,h);m&&m()}})}var l=f.getMetricsForDevice(d),m=l.ATFC_LATENCY_SCOPE+Date.now();b.declarative("alm-multi-add-to-cart",
"click",function(b){e.increment(l.ALM_MULTI_ATC_COUNT);var c=g.getPreHandler(b.data.clientId);c&&c.preHandle&&(c=c.preHandle(b))&&(b=c);c=b.$currentTarget.find("input");!b.data.items||1>b.data.items.length||a.shouldDisableButtonClicks()||c.is(":disabled")||(a.hideButtonAndRenderSpinner(b),h(b,m))})}}})});e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){c.when("A","f3-consumables-atc-helper","fresh-atfc-ewc-helper","afx-callbacks-helper","fresh-atfc-error-modal-utils","add-to-cart-common-utils").register("qs-fresh-shared-add-to-cart",
function(b,c,a,e,f,g){return{initialize:function(d){function h(a){return"UFG"==a.cartType&&a.response&&a.request&&a.request.additionalInput?!0:!1}function k(b){if(h(b)&&b.response.rawResponse){var g=b.response.rawResponse,k=g.jqXHR,p=b.request,l=p.triggeringEvent;l.data=p.additionalInput;l.data&&(l.data.isDecreaseQuantityAction=b.isDecreaseQuantityAction);200===k.status&&(a.refreshCart(p.sessionId),e.success(b.clientName,l,g.clientResponseModel),c.handleAddToCart(l.data,g,d));f.removeModal()}}b.on("quantity-slider:add-to-cart-start",
function(a){g.vibrate()});b.on("quantity-slider:remove-from-cart-start",function(a){g.vibrate()});b.on("quantity-slider:remove-from-cart-success",function(a){k(a)});b.on("quantity-slider:add-to-cart-success",function(a){k(a)});b.on("quantity-slider:cart-submit-error",function(a){if(h(a)){var b=a.request.triggeringEvent,c=a.response,g=c.responseText,k;f.removeModal();g&&(k=JSON.parse(g));b.data=a.request.additionalInput;400===c.status&&k?f.showModal(b,k.errorModalHtml,d):403===c.status?location.reload():
(f.showGenericErrorModal(b,d),e.error(a.clientName,b,c,"error",c.statusText))}})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(c){var b={en:{header:"Item was not added to the cart",errorMessage:"We're sorry, there was an error and \x3cb\x3ethis item was not added to your cart.\x3c/b\x3e Please try again.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
es:{header:"Producto no añadido a la cesta",errorMessage:"Se ha producido un error y este producto \x3cb\x3eno se ha añadido a tu cesta.\x3c/b\x3e Inténtalo de nuevo.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eAceptar\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
ar:{header:"لم تتم إضافة السلعة إلى عربة التسوق",errorMessage:"عذرًا، حدث خطأ ولم تتم إضافة هذه السلعة إلى عربة التسوق الخاصة بك. يرجى المحاولة مرة أخرى",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\nموافق \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
bn:{header:"কার্টে আইটেম যোগ করা হয়নি",errorMessage:"আমরা দুঃখিত, একটি ত্রুটি ছিল এবং এই আইটেমটি আপনার কার্টে যোগ করা হয় নি। অনুগ্রহ করে পুনরায় চেষ্টা করুন।",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eঠিক আছে\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
cs:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
da:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
de:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
fr:{header:"Article non ajouté au panier",errorMessage:"Nous sommes désolés, il y a eu une erreur et cet article n'a pas été ajouté à votre panier. Veuillez réessayer.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
hi:{header:"आइटम कार्ट से नहीं जोड़ा गया",errorMessage:"हमें खेद है, एक त्रुटि हुई थी और यह आइटम आपके कार्ट में जोड़ा नहीं गया था. कृपया फिर से कोशिश करें।",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eठीक है\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
it:{header:"Articolo non aggiunto al carrello",errorMessage:"Desculpe, ocorreu um erro e este item \x3cb\x3enão foi adicionado ao seu carrinho.\x3c/b\x3e Por favor, tente novamente.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
ja:{header:"商品がカートに追加されていません",errorMessage:"申し訳ございません。エラーが発生したため、\x3cb\x3eこの商品はカートに追加されませんでした。\x3c/b\x3eもう一度お試しください。",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},kn:{header:"ಐಟಂ ಅನ್ನು ಕಾರ್ಟ್‍ಗೆ ಸೇರಿಸಿಲ್ಲ",
errorMessage:"ನಮ್ಮನ್ನು ಕ್ಷಮಿಸಿ, ಇದರಲ್ಲಿ ಒಂದು ದೋಷವಿದೆ ಮತ್ತು ಈ ಐಟಂ ಅನ್ನು ನಿಮ್ಮ ಕಾರ್ಟ್‍ಗೆ ಸೇರಿಸಿಲ್ಲ. ದಯವಿಟ್ಟು ಪುನಃ ಪ್ರಯತ್ನಿಸಿ.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eಸರಿ\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
ml:{header:"ബാസ്കറ്റിൽ ചേർക്കാത്ത ഇനം",errorMessage:"ക്ഷമിക്കണം,ഒരു പിശക് ഉണ്ടായി,നിങ്ങളുടെ കാർട്ടിൽ ഈ ഇനം ചേർത്തിട്ടില്ല. വീണ്ടും ശ്രമിക്കുക.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eശരി\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
mr:{header:"आयटम कार्टला जोडले गेलेले नाही",errorMessage:"आम्ही दिलगीर आहोत, एक चूक झाली आणि हे आयटम आपल्या कार्टमध्ये जोडले गेले नाही. कृपया पुन्हा प्रयत्न करा.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eठीक\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
nl:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
pl:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
pt:{header:"O item não foi adicionado ao carrinho",errorMessage:"Desculpe, ocorreu um erro e este item \x3cb\x3enão foi adicionado ao seu carrinho.\x3c/b\x3e Por favor, tente novamente.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
ta:{header:"பொருள் கார்ட்டில் சேர்க்கப்படவில்லை",errorMessage:"மன்னிக்கவும், பிழை ஏற்பட்டது, இந்த உருப்படி உங்கள் கார்ட்டில் சேர்க்கப்படவில்லை. மீண்டும் முயற்சிக்கவும்.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eசரி\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
te:{header:"వస్తువుని బాస్కెట్‌లో చేర్చలేదు",errorMessage:"మమ్మల్ని క్షమించండి, అక్కడ ఏదో ఎర్రర్ ఏర్పడింది అందుచేత మీ బాస్కెట్‌లో ఈ వస్తువును జోడించలేదు. దయచేసి మళ్లీ ప్రయత్నించండి.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eసరే\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
tr:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
zh:{header:"商品未加入购物车",errorMessage:"很抱歉，出现错误，\x3cb\x3e该商品未添加至您的购物车。\x3c/b\x3e请重试。",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e好\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'}};c.when("A").register("fresh-atfc-fallback-error-modal-helper",
function(c){return{getFallbackErrorModal:function(){var a=document.querySelector("html[lang]");return a&&(a=a.getAttribute("lang"),a!==n&&(a=a.split("-"),a.length))?b[a[0]]:b.en}}})})});
/* ******** */
(function(k){var l=window.AmazonUIPageJS||window.P,n=l._namespace||l.attributeErrors,m=n?n("PostsSharedFeedAssets","PostsSharedFeedAssets"):l;m.guardFatal?m.guardFatal(k)(m,window):m.execute(function(){k(m,window)})})(function(k,l,n){var m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p=function(){function f(g,e){for(var a=0;a<e.length;a++){var b=
e[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(g,b.key,b)}}return function(g,e,a){e&&f(g.prototype,e);a&&f(g,a);return g}}();k.now("posts-sushi-client").execute(function(f){"undefined"===typeof f&&k.register("posts-sushi-client",function(){var g=["messageId","timestamp"];return function(){function e(a,b){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.endpoint=b;this.window=a;this.eventsQueue=[];this.eventsDictionary=
{};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.rejectedEvents=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=function(b){var d=function(){};b=function(){var b=function(){if(a.XDomainRequest){var c=new a.XDomainRequest;c.onerror=d;c.ontimeout=d;c.onprogress=d;c.onload=d;c.timeout=0;return c}if(a.XMLHttpRequest){c=new a.XMLHttpRequest;
if(!("withCredentials"in c))throw"";return c}return null};return{send:function(a,d){if(d&&a){var c=b();if(!c)throw"";c.open("POST",a,!0);c.setRequestHeader&&c.setRequestHeader("Content-type","text/plain");c.send(d)}},isSupported:!0}}();var h=function(){return{send:function(b,c){if(b&&c&&!a.navigator.sendBeacon(b,c))throw"";},isSupported:!!a.navigator.sendBeacon&&!(a.cordova&&a.cordova.platformId&&"ios"===a.cordova.platformId)}}();return{ajaxClient:b,beaconClient:h}}(this);this.compressor=function(a){var b=
function(c){if(c)switch("undefined"===typeof c?"undefined":m(c)){case "number":return!(c!==c||Infinity===c)&&c.toString().length>a.dictionaryIndex.length;case "boolean":break;case "string":return c.length>a.dictionaryIndex.length;default:return!0}return!1},d=function(c){a.eventsDictionary[c]||(a.eventsDictionary[c]=a.dictionaryIndex++,a.reverseEventsDictionary[a.eventsDictionary[c]]=c);return a.eventsDictionary[c]},e=function(a){if(b(a)){var c=0;a instanceof Array?c=2:a instanceof Function?c=null:
a instanceof Object&&(c=1);switch(c){case 0:return d(a);case 2:var h=[];for(c=0;c<a.length;c++)h[c]=e(a[c]);return h;case 1:c={};for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(c[d(h)]=-1===g.indexOf(h)?e(a[h]):a[h]);return c}}return a};return{compressData:e,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this)}p(e,[{key:"onBeforeUnload",value:function(){!0!==this.unloadHandlerCalled&&(this.flush(this),this.unloadHandlerCalled=!0)}},
{key:"stringify",value:function(a){try{return JSON.stringify(a)}catch(b){console.warn("Fail to stringify data")}return null}},{key:"resetBatch",value:function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0}},{key:"sendWithClient",value:function(a){if(null==this.endpoint||""==this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var b=this.compressor.buildPOSTObject();
return a.send(this.endpoint,b)}throw"";}}},{key:"sendWithPriority",value:function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];for(a=0;a<b.length;a++){d=b[a];try{return this.sendWithClient(d)}catch(q){}}return null}},{key:"flush",value:function(a){a.eventsQueue.length&&(a.sendWithPriority(a.transportationClient.beaconClient||{},a.transportationClient.ajaxClient||{}),a.resetBatch())}},{key:"startHighPriorityQueueTimer",value:function(){0===this.highPriorityFlushInterval?this.flush(this):
this.highPriorityTimer||(this.highPriorityTimer=this.window.setTimeout(this.flush,this.highPriorityFlushInterval,this))}},{key:"startLowPriorityQueueTimer",value:function(){this.lowPriorityTimer||(this.lowPriorityTimer=this.window.setTimeout(this.flush,this.lowPriorityFlushInterval,this))}},{key:"generateMessageId",value:function(a,b){return a+"-"+b+"-"+this.eventSequence}},{key:"getCurrentISODate",value:function(){var a=new Date,b=function(a){return 10>a?"0"+a:a};return Date.prototype.toISOString?
a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}},{key:"decorateEvent",value:function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())}},{key:"startTimers",value:function(a){(a||{}).n?this.startHighPriorityQueueTimer():
this.startLowPriorityQueueTimer()}},{key:"encodeEvent",value:function(a,b,d){b=b.length;(499===this.eventsQueue.length||524288<this.batchSize+b)&&this.flush(this);this.batchSize+=b;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(d)}},{key:"addEvent",value:function(a,b){this.decorateEvent(a,b);var d=this.stringify(a);return d?(this.encodeEvent(a,d,b),!0):!1}},{key:"isValidAPIParam",value:function(a,b){return a&&-1<a.constructor.toString().indexOf(b)}},{key:"isMaxCallsReached",
value:function(){this.eventSequence++;5E4<this.eventSequence&&this.ueCount("SushiClientMaxCallsReached");return 5E4<this.eventSequence}},{key:"isValidAPICall",value:function(a,b){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")}},{key:"ueCount",value:function(a,b){"undefined"!==typeof ue&&ue&&ue.count&&ue.count("ACEPostsMetrics:"+a,0===b?0:b||(ue.count("ACEPostsMetrics:"+a)||0)+1)}},{key:"processEvent",value:function(a,b){var d=this.unloadHandlerCalled=!1;this.options=b||{};this.isValidAPICall(a,
this.options)&&(d=this.addEvent(a,this.options));d?this.ueCount("ClientEventsSuccess:"+a.event_type):(console.error("Invalid JS SushiEel API call"),this.ueCount("ClientEventsFailed:"+a.event_type));return d}}]);return e}()})});"use strict";k.now("posts-clamp").execute(function(f){"undefined"===typeof f&&k.register("posts-clamp",function(){return function(g,e){function a(a,b){l.getComputedStyle||(l.getComputedStyle=function(a){this.el=a;this.getPropertyValue=function(b){var c=/(-([a-z]){1})/g;"float"==
b&&(b="styleFloat");c.test(b)&&(b=b.replace(c,function(a,b,c){return c.toUpperCase()}));return a.currentStyle&&a.currentStyle[b]?a.currentStyle[b]:null};return this});return l.getComputedStyle(a).getPropertyValue(b)}function b(a){if(a.lastChild.children&&0<a.lastChild.children.length)return b(Array.prototype.slice.call(a.children).pop());if(a.lastChild&&a.lastChild.nodeValue&&""!=a.lastChild.nodeValue&&a.lastChild.nodeValue!=e.truncationChar)return a.lastChild;a.lastChild.parentNode.removeChild(a.lastChild);
return b(g)}if(g!==n){e=e||{};var d=e.clamp||2;if(e.truncationHTML){var f=document.createElement("span");f.innerHTML=e.truncationHTML}d=function(b){var d=a(g,"line-height");"normal"==d&&(d=1.2*parseInt(a(g,"font-size")));return parseInt(d)*b}(d);(function(a,b){if(b&&!(g.clientHeight<=b))for(;g.clientHeight>b;){var c=a.nodeValue.split("");if(1<c.length){do{c.pop();var d=c.join("");a.nodeValue=d}while(/[\s\n,.]+/.test(c[c.length-1])&&1<c.length)}f&&(g.innerHTML=a.nodeValue+f.innerHTML)}})(b(g),d)}}})})});
/* ******** */
(function(m){var l=window.AmazonUIPageJS||window.P,n=l._namespace||l.attributeErrors,q=n?n("BrandFollowButtonJS",""):l;q.guardFatal?q.guardFatal(m)(q,window):q.execute(function(){m(q,window)})})(function(m,l,n){var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},z=function(){function g(c,a){for(var e=0;e<a.length;e++){var f=a[e];f.enumerable=
f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,a,e){a&&g(c.prototype,a);e&&g(c,e);return c}}();m.when("A").register("brand-follow-constants",function(){return{PAGE_LOCALE:l.top.document.documentElement.lang,Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR:"span[class*\x3dbrand-follow-button-container]",Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR:"span[class*\x3dbrand-follow-button]",Brand_FOLLOW_BUTTON_SELECTOR:"button[data-bfid]",Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR:'button[data-bfid][data-showtooltip\x3d"true"]',
BRAND_FOLLOW_STATUS_MAP:"brand-follow-status",BRAND_FOLLOW_STATUS:{FOLLOWING:"following",NOT_FOLLOWING:"not_following",PENDING:"pending",NOT_SIGNED_IN:"not_signed_in",ERROR:"error"},BRAND_FOLLOW_CSRF_KEY:"brand-follow-csrf",BRAND_FOLLOW_CSRF_DATA_KEY:"csrf",BRAND_FOLLOW_LAST_CLICK_EVENT_MAP:"brand-follow-last-click-event-map",BFID_DATA_KEY:"bfid",REF_DATA_KEY:"ref",FOLLOW_STATUS_DATA_KEY:"followstatus",FOLLOW_TEXT_DATA_KEY:"followtext",FOLLOWING_TEXT_DATA_KEY:"followingtext",REQUEST_ID_DATA_KEY:"requestid",
PLACEMENT_TYPE_DATA_KEY:"placementtype",PLACEMENT_SUB_TYPE_DATA_KEY:"placementsubtype",PLACEMENT_ID_DATA_KEY:"placementid",COMPONENT_TYPE_DATA_KEY:"componenttype",COMPONENT_ID_DATA_KEY:"componentid",ELEMENT_TYPE_DATA_KEY:"elementtype",ELEMENT_ID_DATA_KEY:"elementid",TOOLTIP_TEXT_DATA_KEY:"tooltiptext",BACK_BUTTON_SUPPORT_ENABLED_DATA_KEY:"backbuttonsupportenabled",ARIA_LABEL_KEY:"aria-label",ARIA_LABEL_FOLLOW_DATA_KEY:"arialabelfollow",ARIA_LABEL_FOLLOWING_DATA_KEY:"arialabelfollowing",FOLLOWED_BRAND_TOOLTIP_SIGNAL:"followed_brand_signal",
TOOLTIP_LAST_SEEN_KEY:"tooltip_last_seen",TOOLTIP_LATEST_TEXT_KEY:"tooltip_latest_text",TOOLTIP_SEEN_COUNTER:"tooltip_seen_counter",TOOLTIP_DISPLAY_TIME:5E3,TOOLTIP_STATUS_SHOWN:"SHOWN",TOOLTIP_STATUS_NOT_SHOWN:"NOT_SHOWN",TOOLTIP_STATUS_DISABLED:"DISABLED",FOLLOW_AJAX_TIMEOUT:2E3,FOLLOW_AJAX_RETRIES:2,FOLLOW_ENDPOINT:"/followv2/follow",FOLLOW_ENTITY_TYPE:"brand",FOLLOW_REF_TAG:"bsn_as_follow",FOLLOW_CSM_PREFIX:"BrandFollow",FOLLOW_CSM_SUCCESS:"Success",FOLLOW_CSM_FAIL:"Fail",FOLLOW_CSM_FOLLOW:"Follow",
FOLLOW_CSM_UNFOLLOW:"Unfollow",FOLLOW_CSM_GET_FOLLOW_STATUS:"GetFollowStatus",HTTP_GET:"GET",HTTP_POST:"POST",HTTP_DELETE:"DELETE",SIGN_IN_PORTAL:"/ap/signin",AUTH_PORTAL_ASSOC_HANDLE:{"amazon.com":"usflex","amazon.ca":"caflex","amazon.com.mx":"mxflex","amazon.com.br":"brflex","amazon.com.co":"coflex","amazon.cl":"clflex","amazon.co.uk":"gbflex","amazon.de":"deflex","amazon.es":"esflex","amazon.fr":"frflex","amazon.in":"inflex","amazon.it":"itflex","amazon.ae":"aeflex","amazon.sa":"saflex","amazon.nl":"nlflex",
"amazon.com.be":"beflex","amazon.co.za":"zaflex","amazon.com.ng":"ngflex","amazon.co.jp":"jpflex","amazon.com.au":"auflex","amazon.sg":"sgflex"},BREAKPOINTS:{MOBILE:840},SUSHI_ENDPOINT:{gamma:"https://unagi-na.amazon.com/1/events/com.amazon.eel.BrandFollowButtonMetrics.Gamma.ClientEvents",prod:"https://unagi-na.amazon.com/1/events/com.amazon.eel.BrandFollowButtonMetrics.Prod.ClientEvents"},EVENT_TYPE:{FOLLOW:"Follow",UNFOLLOW:"Unfollow"}}});"use strict";m.when("A","brand-follow-constants").register("brand-follow-auth-portal-link-builder",
function(g,c){return{signin:function(){var a={"openid.ns":"http://specs.openid.net/auth/2.0","openid.claimed_id":"http://specs.openid.net/auth/2.0/identifier_select","openid.identity":"http://specs.openid.net/auth/2.0/identifier_select","openid.mode":"checkid_setup","openid.return_to":l.location.href,"openid.assoc_handle":c.AUTH_PORTAL_ASSOC_HANDLE[l.location.hostname.replace(/.+?(?=amazon)/,"")]};return c.SIGN_IN_PORTAL+"?"+g.$.param(a)}}});"use strict";m.register("brand-follow-csm-helper",function(){return{incrementCSMCounter:function(g,
c){l.ue&&l.ue.count&&l.ue.count(g,(l.ue.count(g)||0)+1,c)},logBodyBegin:function(g){"function"==typeof uet&&uet("bb",g,{wb:1})},sendCsmMetrics:function(g){"function"==typeof uex&&uex("ld",g,{wb:1})}}});"use strict";m.when("A","brand-follow-constants","brand-follow-csm-helper").register("brand-follow-data-storage-helper",function(g,c,a){var e={set:function(a,c,e){var h={};h[c]=e;g.state(a,h)},get:function(a){return g.state(a)},setFollowStatus:function(a,h){e.set(c.BRAND_FOLLOW_STATUS_MAP,a,h)},getFollowStatus:function(a){var h=
e.get(c.BRAND_FOLLOW_STATUS_MAP);return h===n?n:h[a]},setLastClickEvent:function(a,h){e.set(c.BRAND_FOLLOW_LAST_CLICK_EVENT_MAP,a,h)},getLastClickEvent:function(f){var h=c.FOLLOW_CSM_PREFIX+":dataStorageHelper:getLastClickAction";a.incrementCSMCounter(h);var p=e.get(c.BRAND_FOLLOW_LAST_CLICK_EVENT_MAP);if(p===n)return a.incrementCSMCounter(h+":emptyMap"),n;(f=p[f])||a.incrementCSMCounter(h+":notFoundInMap");return f},setCsrf:function(a){e.set(c.BRAND_FOLLOW_CSRF_KEY,c.BRAND_FOLLOW_CSRF_DATA_KEY,a)},
getCsrf:function(){var a=e.get(c.BRAND_FOLLOW_CSRF_KEY);return a===n?n:a[c.BRAND_FOLLOW_CSRF_DATA_KEY]}};return e});"use strict";m.when("A","brand-follow-constants","brand-follow-data-storage-helper","brand-follow-csm-helper").register("brand-follow-afs-helper",function(g,c,a,e){var f={makeCallToAfs:function(a,p,f,b,d,u){var h=c.FOLLOW_CSM_PREFIX+":"+a;e.incrementCSMCounter(h);(function t(k){e.logBodyBegin(u);g.$.ajax({url:p,type:a,headers:{Accept:"application/json","Content-Type":"application/json"},
data:f,dataType:"json",cache:!1,timeout:c.FOLLOW_AJAX_TIMEOUT,success:function(a,d,f){e.incrementCSMCounter(h+":"+c.FOLLOW_CSM_SUCCESS);e.sendCsmMetrics(u);"function"===typeof b&&b(a,d,f)},error:function(b,f,p){if("timeout"===f&&k)e.incrementCSMCounter(h+":timeout"),t(--k);else{var g=h+":"+c.FOLLOW_CSM_FAIL;e.incrementCSMCounter(g);"timeout"===f&&e.incrementCSMCounter(g+":timeout");e.sendCsmMetrics(u);l.ueLogError&&l.ueLogError({logLevel:"WARN",attribution:"BrandFollowKataComponentAssets",message:"AFS "+
a+" call failed with status "+f+", error thrown: "+p+", response text: "+b.responseText});"function"===typeof d&&d(b,f,p)}}})})(c.FOLLOW_AJAX_RETRIES)},getFollowStatusAndInitCsrf:function(e,p,g,b,d){f.makeCallToAfs(c.HTTP_GET,c.FOLLOW_ENDPOINT+"/"+e+"_"+c.FOLLOW_ENTITY_TYPE,{ref:p},function(b,c,e){b.signedIn?(a.setCsrf(b.csrf),"function"===typeof g&&g(b)):"function"===typeof d&&d()},b,c.FOLLOW_CSM_PREFIX+":"+c.FOLLOW_CSM_GET_FOLLOW_STATUS)},follow:function(e,p,g,b,d){var h=c.FOLLOW_CSM_PREFIX+":"+
c.FOLLOW_CSM_FOLLOW,k=function(){f.makeCallToAfs(c.HTTP_POST,c.FOLLOW_ENDPOINT,JSON.stringify({authenticity_token:a.getCsrf(),entity_id:e,category:c.FOLLOW_ENTITY_TYPE,ref:p}),g,b,h)};a.getCsrf()===n?f.getFollowStatusAndInitCsrf(e,p,k,n,d):k()},unfollow:function(e,p,k,b){var d=c.FOLLOW_CSM_PREFIX+":"+c.FOLLOW_CSM_UNFOLLOW,h=function(){f.makeCallToAfs(c.HTTP_DELETE,c.FOLLOW_ENDPOINT+"/"+e+"_"+c.FOLLOW_ENTITY_TYPE+"?"+g.$.param({authenticity_token:a.getCsrf(),ref:p}),n,k,b,d)};a.getCsrf()===n?f.getFollowStatusAndInitCsrf(e,
p,h):h()}};return f});"use strict";m.when("A").register("brand-follow-button-tooltip-factory",function(g){g=g.$;var c=g("\x3cdiv class\x3d'brand-follow-tooltip-root'/\x3e").appendTo("body");return{getOrCreateTooltip:function(){0===c.children().length&&c.append("\x3cdiv role\x3d'tooltip' class\x3d'bf-tooltip' id\x3d'bf-tooltip' aria-hidden\x3d'true' style\x3d'z-index: 299; display: none;'\x3e\x3cdiv class\x3d'bf-tooltip-inner'\x3eFollow to get deals, content, and email updates from this brand.\x3c/div\x3e\x3cdiv class\x3d'bf-arrow-border'\x3e\x3cdiv class\x3d'bf-arrow'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");
return c.children().first()}}});"use strict";m.when("A").register("brand-follow-button-tooltip-position",function(g){function c(){if(1===g.viewport().zoom)return{top:0,left:0};k||(k=p('\x3cspan id\x3d"bf-tooltip-offset-tracker"\x3e\x3c/span\x3e'),p("body").prepend(k));var a;p.withoutRtl(function(){a=k.offset()});return a}function a(a,d){var b=g.viewport(),e=c(),h,f;p.withoutRtl(function(){h=d.offset();f=a.offset()});h.top-=e.top;h.left-=e.left;f.top-=e.top;f.left-=e.left;var k=d.outerWidth(),l=d.outerHeight(),
m=a.outerWidth(!0),n=a.outerHeight(!0);return{windowWidth:b.width,windowHeight:b.height,windowTop:b.scrollTop,windowLeft:b.scrollLeft,windowRight:b.scrollLeft+b.width,windowBottom:b.scrollTop+b.height,zoomTop:e.top,zoomLeft:e.left,triggerWidth:k+1,triggerHeight:l,triggerTop:h.top-1,triggerLeft:h.left-1,triggerRight:h.left+k+1,triggerBottom:h.top+l+1,triggerVerticalCenter:h.top+l/2,triggerHorizontalCenter:h.left+k/2,popoverWidth:m,popoverHeight:n,popoverTop:f.top,popoverLeft:f.left,popoverRight:f.left+
m,popoverBottom:f.top+n,popoverVerticalCenter:f.top+n/2,popoverHorizontalCenter:f.left+m/2}}function e(a){return a.removeClass("a-arrow-top a-arrow-bottom a-arrow-left a-arrow-right")}function f(a){var b={deltaTop:0};b.top=a.triggerVerticalCenter-a.popoverHeight/2;if(b.top<a.windowTop+15){var e=Math.min(a.windowTop+15,a.triggerTop-15);b.deltaTop=b.top-e;b.top=e}else b.top+a.popoverHeight>a.windowBottom-15&&(e=Math.min(15,a.windowBottom-a.triggerBottom+15),b.deltaTop=b.top+a.popoverHeight-(a.windowBottom-
e),b.top=a.windowBottom-e-a.popoverHeight);return b}function h(a){var b={deltaLeft:0};b.left=a.triggerHorizontalCenter-a.popoverWidth/2;if(15>b.left){var e=Math.min(15,a.triggerLeft-15);b.deltaLeft=b.left-e;b.left=e}else b.left+a.popoverWidth>a.windowRight-15&&(e=Math.min(15,a.windowRight-a.triggerRight+15),b.deltaLeft=b.left+a.popoverWidth-(a.windowRight-e),b.left=a.windowRight-e-a.popoverWidth);return b}var p=g.$;p(l);var k=null;return{windowCenter:function(b){b=a(b.$popover,b.$trigger);var d={};
d.top=(b.windowHeight-b.popoverHeight)/2;d.left=(b.windowWidth-b.popoverWidth)/2;0>d.top&&(d.top=0);return d},windowTop:function(b){b=a(b.$popover,b.$trigger);var d={top:0};d.left=b.windowWidth/2-b.popoverWidth/2;return d},windowFullWidth:function(a){return{top:0,left:0}},triggerRight:function(b,d){var c=b.$popover;b=b.$trigger;d||(d=a(c,b));b=f(d);b.left=d.triggerRight;e(c).addClass("a-arrow-right");c.find(".bf-arrow-border").css("top",d.popoverHeight/2+b.deltaTop);return b},triggerLeft:function(b,
d){var c=b.$popover;b=b.$trigger;d||(d=a(c,b));b=f(d);b.left=d.triggerLeft-d.popoverWidth;b.left=0<b.left?b.left:0;e(c).addClass("a-arrow-left");c.find(".bf-arrow-border").css("top",d.popoverHeight/2+b.deltaTop);return b},triggerTop:function(b,d){var c=b.$popover;b=b.$trigger;d||(d=a(c,b));b=h(d);b.top=d.triggerTop-d.popoverHeight;e(c).addClass("a-arrow-top");c.find(".bf-arrow-border").css("left",d.popoverWidth/2+b.deltaLeft);return b},triggerBottom:function(b,d){var c=b.$popover;b=b.$trigger;d||
(d=a(c,b));b=h(d);b.top=d.triggerBottom;e(c).addClass("a-arrow-bottom");c.find(".bf-arrow-border").css("left",d.popoverWidth/2+b.deltaLeft);return b},triggerHorizontal:function(b,d){var c=b.$popover,e=b.$trigger;d||(d=a(c,e));return d.triggerLeft-d.windowLeft>d.windowRight-d.triggerRight?this.triggerLeft(b,d):this.triggerRight(b,d)},triggerVertical:function(b,d){var c=b.$popover,e=b.$trigger;d=d?d:a(c,e);return d.triggerTop-d.windowTop>d.popoverHeight+15?this.triggerTop(b,d):this.triggerBottom(b,
d)},triggerVerticalAlignLeft:function(b,d){var c=b.$popover;b=b.$trigger;d||(d=a(c,b));b={};var h=0,f=0,g=d.windowBottom-d.triggerBottom;b.left=d.triggerLeft;b.top=g>d.popoverHeight?d.triggerBottom+3:d.triggerTop-d.popoverHeight-3;15>b.left?(f=Math.min(15,d.triggerLeft-15),h=b.left-f,b.left=f):b.left+d.popoverWidth>d.windowRight-15&&(f=Math.min(15,d.windowRight-d.triggerRight+15),h=b.left+d.popoverWidth-(d.windowRight-f),b.left=d.windowRight-f-d.popoverWidth);e(c).addClass(g>d.popoverHeight?"a-arrow-bottom":
"a-arrow-top");p.withoutRtl(function(){c.find(".bf-arrow-border").css("left",d.triggerWidth/2+h)});return b},triggerBottomAlignRight:function(b,d){var c=b.$popover;b=b.$trigger;d||(d=a(c,b));b={};var h=0,f=0,g=d.windowBottom-d.triggerBottom;b.left=d.triggerRight-d.popoverWidth;b.top=d.triggerBottom+3;15>b.left?(f=Math.max(0,b.left),h=f-b.left,b.left=f):b.left+d.popoverWidth>d.windowRight-15&&(f=Math.min(15,d.windowRight-d.triggerRight+15),h=b.left+d.popoverWidth-(d.windowRight-f),b.left=d.windowRight-
f-d.popoverWidth);e(c).addClass(g>d.popoverHeight?"a-arrow-bottom":"a-arrow-top");p.withoutRtl(function(){c.find(".bf-arrow-border").css("right",d.triggerWidth/2+h)});return b},customPosition:function(b,c){return c.call(this,{popover:b,$popover:b.$popover,$trigger:b.$trigger,measure:a})}}});"use strict";m.when("A","brand-follow-button-tooltip-factory","brand-follow-button-tooltip-position","brand-follow-constants").register("brand-follow-button-tooltip",function(g,c,a,e){var f=g.$;return{show:function(h){var g=
c.getOrCreateTooltip(),k=f(h);h=k.data(e.TOOLTIP_TEXT_DATA_KEY);k=a.triggerBottomAlignRight({$popover:g,$trigger:k});h&&g.find(".bf-tooltip-inner").first().text(h);g.css({top:k.top+"px",left:k.left+6+"px"});g.fadeIn(500)},hide:function(){c.getOrCreateTooltip().fadeOut(500)},getText:function(){return c.getOrCreateTooltip().find(".bf-tooltip-inner").first().text()}}});"use strict";m.register("brand-follow-sushi-client",function(){var g=["messageId","timestamp"];return function(){function c(a,e){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this.endpoint=e;this.window=a;this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.rejectedEvents=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=function(c){var e=function(){};c=function(){var c=function(){if(a.XDomainRequest){var b=new a.XDomainRequest;
b.onerror=e;b.ontimeout=e;b.onprogress=e;b.onload=e;b.timeout=0;return b}if(a.XMLHttpRequest){b=new a.XMLHttpRequest;if(!("withCredentials"in b))throw"";return b}return null};return{send:function(a,d){if(d&&a){var b=c();if(!b)throw"";b.open("POST",a,!0);b.setRequestHeader&&b.setRequestHeader("Content-type","text/plain");b.send(d)}},isSupported:!0}}();var f=function(){return{send:function(c,b){if(c&&b&&!a.navigator.sendBeacon(c,b))throw"";},isSupported:!!a.navigator.sendBeacon&&!(a.cordova&&a.cordova.platformId&&
"ios"===a.cordova.platformId)}}();return{ajaxClient:c,beaconClient:f}}(this);this.compressor=function(a){var c=function(b){if(b)switch("undefined"===typeof b?"undefined":q(b)){case "number":return!(b!==b||Infinity===b)&&b.toString().length>a.dictionaryIndex.length;case "boolean":break;case "string":return b.length>a.dictionaryIndex.length;default:return!0}return!1},e=function(b){a.eventsDictionary[b]||(a.eventsDictionary[b]=a.dictionaryIndex++,a.reverseEventsDictionary[a.eventsDictionary[b]]=b);return a.eventsDictionary[b]},
f=function(a){if(c(a)){var b=0;a instanceof Array?b=2:a instanceof Function?b=null:a instanceof Object&&(b=1);switch(b){case 0:return e(a);case 2:var h=[];for(b=0;b<a.length;b++)h[b]=f(a[b]);return h;case 1:b={};for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(b[e(h)]=-1===g.indexOf(h)?f(a[h]):a[h]);return b}}return a};return{compressData:f,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this)}z(c,[{key:"onBeforeUnload",value:function(){!0!==
this.unloadHandlerCalled&&(this.flush(this),this.unloadHandlerCalled=!0)}},{key:"stringify",value:function(a){try{return JSON.stringify(a)}catch(e){console.warn("Fail to stringify data")}return null}},{key:"resetBatch",value:function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0}},{key:"sendWithClient",value:function(a){if(null==this.endpoint||""==this.endpoint)this.ueCount("SushiClientEndpointMissing");
else{if(a.isSupported){var c=this.compressor.buildPOSTObject();return a.send(this.endpoint,c)}throw"";}}},{key:"sendWithPriority",value:function(){for(var a=arguments.length,c=Array(a),f=0;f<a;f++)c[f]=arguments[f];for(a=0;a<c.length;a++){f=c[a];try{return this.sendWithClient(f)}catch(h){}}return null}},{key:"flush",value:function(a){a.eventsQueue.length&&(a.sendWithPriority(a.transportationClient.beaconClient||{},a.transportationClient.ajaxClient||{}),a.resetBatch())}},{key:"startHighPriorityQueueTimer",
value:function(){0===this.highPriorityFlushInterval?this.flush(this):this.highPriorityTimer||(this.highPriorityTimer=this.window.setTimeout(this.flush,this.highPriorityFlushInterval,this))}},{key:"startLowPriorityQueueTimer",value:function(){this.lowPriorityTimer||(this.lowPriorityTimer=this.window.setTimeout(this.flush,this.lowPriorityFlushInterval,this))}},{key:"generateMessageId",value:function(a,c){return a+"-"+c+"-"+this.eventSequence}},{key:"getCurrentISODate",value:function(){var a=new Date,
c=function(a){return 10>a?"0"+a:a};return Date.prototype.toISOString?a.toISOString():a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}},{key:"decorateEvent",value:function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())}},{key:"startTimers",
value:function(a){(a||{}).n?this.startHighPriorityQueueTimer():this.startLowPriorityQueueTimer()}},{key:"encodeEvent",value:function(a,c,f){c=c.length;(499===this.eventsQueue.length||524288<this.batchSize+c)&&this.flush(this);this.batchSize+=c;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(f)}},{key:"addEvent",value:function(a,c){this.decorateEvent(a,c);var e=this.stringify(a);return e?(this.encodeEvent(a,e,c),!0):!1}},{key:"isValidAPIParam",value:function(a,c){return a&&
-1<a.constructor.toString().indexOf(c)}},{key:"isMaxCallsReached",value:function(){this.eventSequence++;5E4<this.eventSequence&&this.ueCount("SushiClientMaxCallsReached");return 5E4<this.eventSequence}},{key:"isValidAPICall",value:function(a,c){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")}},{key:"ueCount",value:function(a,c){"undefined"!==typeof ue&&ue&&ue.count&&ue.count("BrandFollowMetrics:"+a,0===c?0:c||(ue.count("BrandFollowMetrics:"+a)||0)+1)}},{key:"processEvent",value:function(a,
c){var e=this.unloadHandlerCalled=!1;this.options=c||{};this.isValidAPICall(a,this.options)&&(e=this.addEvent(a,this.options));e?this.ueCount("ClientEventsSuccess:"+a.event_type):(console.error("Invalid JS SushiEel API call"),this.ueCount("ClientEventsFailed:"+a.event_type));return e}}]);return c}()});"use strict";m.when("A","brand-follow-sushi-client","brand-follow-constants").register("brand-follow-metrics-client",function(g,c,a){var e=g.$;g=document.domain;g=0===g.indexOf("www.amazon")||0===g.indexOf("smile.amazon");
var f=new c(l,a.SUSHI_ENDPOINT[g?"prod":"gamma"]);return{getAttributeMapFromElement:function(c){var h=e(c).data(a.BFID_DATA_KEY),f=e(c).data(a.REQUEST_ID_DATA_KEY),b=e(c).data(a.PLACEMENT_TYPE_DATA_KEY),d=e(c).data(a.PLACEMENT_SUB_TYPE_DATA_KEY),g=e(c).data(a.PLACEMENT_ID_DATA_KEY),l=e(c).data(a.COMPONENT_TYPE_DATA_KEY),m=e(c).data(a.COMPONENT_ID_DATA_KEY),n=e(c).data(a.ELEMENT_TYPE_DATA_KEY);c=e(c).data(a.ELEMENT_ID_DATA_KEY);return{bfid:h,request_id:f,placement_type:b,placement_sub_type:d,placement_id:g,
component_type:l,component_id:m,element_type:n,element_id:c}},buildFollowButtonClickMetricEvent:function(a,c,e){a=this.getAttributeMapFromElement(a);return{bfid:a.bfid,request_id:a.request_id,placement_type:a.placement_type,placement_sub_type:a.placement_sub_type,placement_id:a.placement_id,component_type:a.component_type,component_id:a.component_id,element_type:a.element_type,element_id:a.element_id,event_type:c,tooltip_status:l.brandFollowTooltipStatus,timestamp:Date.now(),event_source:l.location.href,
schema_version:1}},processMetricEvent:function(a,c){f.processEvent(a,c)}}});"use strict";m.when("A","brand-follow-constants","brand-follow-button-tooltip","brand-follow-data-storage-helper","brand-follow-csm-helper").execute("brand-follow-tooltip-helper",function(g,c,a,e,f){var h=g.$;try{localStorage.setItem("brand_follow_localStorage_testing_key","brand_follow_localStorage_testing_key");localStorage.removeItem("brand_follow_localStorage_testing_key");var p=!0}catch(t){p=!1}g.on("brandFollow:followButton:loaded",
function(){var e=c.FOLLOW_CSM_PREFIX+":tooltip";if(null!==c.PAGE_LOCALE&&c.PAGE_LOCALE!==n&&""!==c.PAGE_LOCALE&&"en"===c.PAGE_LOCALE.slice(0,2)){if(p){var r=localStorage.getItem(c.TOOLTIP_LAST_SEEN_KEY),A=localStorage.getItem(c.TOOLTIP_SEEN_COUNTER),w;if(w=k()){try{var x=a.getText()!==localStorage.getItem(c.TOOLTIP_LATEST_TEXT_KEY)}catch(C){x=!1}w=!x}if(w||!k()&&r&&!d(r,A)){l.brandFollowTooltipStatus=c.TOOLTIP_STATUS_NOT_SHOWN;return}}r=h(c.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR);if(r.length)if(g.capabilities.mobile||
g.capabilities.tablet||screen.width<=c.BREAKPOINTS.MOBILE){var v=r.get(0);r=h(v).data(c.BFID_DATA_KEY);!r||b(r)?l.brandFollowTooltipStatus=c.TOOLTIP_STATUS_NOT_SHOWN:(a.show(v),u(),p&&localStorage.setItem(c.TOOLTIP_LATEST_TEXT_KEY,a.getText()),l.brandFollowTooltipStatus=c.TOOLTIP_STATUS_SHOWN,"true"!==l.tooltipSeenOnPage&&(q(),l.tooltipSeenOnPage="true",f.incrementCSMCounter(e+":mobile")),m(v)?y():h(l).scroll(g.throttle(function(){m(v)&&y()},200)))}else h(c.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).undelegate(c.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR,
"mouseenter mouseleave"),h(c.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).delegate(c.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR,"mouseenter mouseleave",function(d){if("mouseenter"===d.type){var g=h(d.target).data(c.BFID_DATA_KEY);!g||b(g)?l.brandFollowTooltipStatus=c.TOOLTIP_STATUS_NOT_SHOWN:(a.show(d.target),u(),p&&localStorage.setItem(c.TOOLTIP_LATEST_TEXT_KEY,a.getText()),l.brandFollowTooltipStatus=c.TOOLTIP_STATUS_SHOWN,"true"!==l.tooltipSeenOnPage&&(q(),l.tooltipSeenOnPage="true",f.incrementCSMCounter(e+
":desktop")))}else"mouseleave"===d.type&&a.hide()});else l.brandFollowTooltipStatus=c.TOOLTIP_STATUS_DISABLED}});var k=function(){try{return"true"===localStorage.getItem(c.FOLLOWED_BRAND_TOOLTIP_SIGNAL)}catch(t){return!1}},b=function(a){try{return c.BRAND_FOLLOW_STATUS.FOLLOWING===e.getFollowStatus(a)}catch(r){return!1}},d=function(a,b){try{return Date.now()-parseInt(a)>6048E5*Math.pow(2,parseInt(b))}catch(B){return!1}},u=function(){p&&localStorage.setItem(c.TOOLTIP_LAST_SEEN_KEY,Date.now().toString())},
m=function(a){a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(l.innerHeight||document.documentElement.clientHeight)&&a.right<=(l.innerWidth||document.documentElement.clientWidth)},y=function(){setTimeout(function(){a.hide()},c.TOOLTIP_DISPLAY_TIME)},q=function(){if(p){var a=localStorage.getItem(c.TOOLTIP_SEEN_COUNTER);a?(a=parseInt(a)+1,localStorage.setItem(c.TOOLTIP_SEEN_COUNTER,a.toString())):localStorage.setItem(c.TOOLTIP_SEEN_COUNTER,(1).toString())}}});"use strict";m.when("A",
"brand-follow-data-storage-helper","brand-follow-constants","brand-follow-csm-helper").register("brand-follow-shared-utils",function(g,c,a,e){var f=g.$;l.BrandFollowSharedUtils={getLastClickAction:function(h){var g=a.FOLLOW_CSM_PREFIX+":sharedUtils:getLastClickAction";e.incrementCSMCounter(g);var k=a.FOLLOW_CSM_PREFIX+":sharedUtils:getBFID";e.incrementCSMCounter(k);h?"string"===typeof h?k=h:h instanceof Element&&1===h.nodeType?((h=f(h).find(a.Brand_FOLLOW_BUTTON_SELECTOR).andSelf().filter(a.Brand_FOLLOW_BUTTON_SELECTOR).first().data(a.BFID_DATA_KEY))||
e.incrementCSMCounter(k+":notFound"),k=h):(e.incrementCSMCounter(k+":unknownInput"),k=void 0):k=void 0;k||e.incrementCSMCounter(g+":emptyBFID");(k=c.getLastClickEvent(k))||e.incrementCSMCounter(g+":emptyResponse");return k},isFollowing:function(e){return c.getFollowStatus(e)===a.BRAND_FOLLOW_STATUS.FOLLOWING}}});"use strict";m.when("A","brand-follow-data-storage-helper","brand-follow-constants").register("on-brand-follow-status-change",function(g,c,a){var e=g.$;g.state.bind("brand-follow-status",
function(g,h){for(var f in h)h.hasOwnProperty(f)&&h[f]&&(c.getFollowStatus(f)===a.BRAND_FOLLOW_STATUS.FOLLOWING?e("[data-bfid\x3d'"+f+"']").each(function(){e(this).text(e(this).data(a.FOLLOWING_TEXT_DATA_KEY));e(this).attr(a.ARIA_LABEL_KEY,e(this).data(a.ARIA_LABEL_FOLLOWING_DATA_KEY))}):e("[data-bfid\x3d'"+f+"']").each(function(){e(this).text(e(this).data(a.FOLLOW_TEXT_DATA_KEY));e(this).attr(a.ARIA_LABEL_KEY,e(this).data(a.ARIA_LABEL_FOLLOW_DATA_KEY))}))})});"use strict";m.when("A").register("brand-follow-button-event-helper",
function(g){return{triggerFollowButtonLoadedEvent:function(){g.trigger("brandFollow:followButton:loaded")},triggerFollowButtonRedirectionEvent:function(c){g.trigger("brandFollow:followButton:redirectToAuthPortal",c)}}});"use strict";m.when("A","brand-follow-data-storage-helper","brand-follow-constants","brand-follow-afs-helper","brand-follow-auth-portal-link-builder","brand-follow-button-event-helper","brand-follow-metrics-client","brand-follow-csm-helper").register("brand-follow-button-click-handler",
function(g,c,a,e,f,h,p,k){var b=g.$;g.on("brandFollow:followButton:loaded",function(){b(a.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).undelegate(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR,"click");b(a.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).delegate(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR,"click",function(d){var g=a.FOLLOW_CSM_PREFIX+":clickHandler";k.incrementCSMCounter(g);var m=b(this).find(a.Brand_FOLLOW_BUTTON_SELECTOR).first(),n=m.data(a.BFID_DATA_KEY),q=m.data(a.REF_DATA_KEY)||a.FOLLOW_REF_TAG;if(n){var t=
c.getFollowStatus(n);t||(t=m.data(a.FOLLOW_STATUS_DATA_KEY)?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);switch(t){case a.BRAND_FOLLOW_STATUS.FOLLOWING:k.incrementCSMCounter(g+":status:following");c.setFollowStatus(n,a.BRAND_FOLLOW_STATUS.PENDING);c.setLastClickEvent(n,a.EVENT_TYPE.UNFOLLOW);e.unfollow(n,q,function(){c.setFollowStatus(n,a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);var b=p.buildFollowButtonClickMetricEvent(m,a.EVENT_TYPE.UNFOLLOW,d);p.processMetricEvent(b,{n:1})},function(){c.setFollowStatus(n,
a.BRAND_FOLLOW_STATUS.FOLLOWING)});break;case a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING:k.incrementCSMCounter(g+":status:not_following");c.setFollowStatus(n,a.BRAND_FOLLOW_STATUS.PENDING);c.setLastClickEvent(n,a.EVENT_TYPE.FOLLOW);e.follow(n,q,function(){c.setFollowStatus(n,a.BRAND_FOLLOW_STATUS.FOLLOWING);var b=p.buildFollowButtonClickMetricEvent(m,a.EVENT_TYPE.FOLLOW,d);p.processMetricEvent(b,{n:1});try{localStorage.setItem(a.FOLLOWED_BRAND_TOOLTIP_SIGNAL,"true")}catch(B){}},function(){c.setFollowStatus(n,
a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING)},function(){h.triggerFollowButtonRedirectionEvent(d);var a=f.signin();l.location.assign(a)});break;case a.BRAND_FOLLOW_STATUS.NOT_SIGNED_IN:k.incrementCSMCounter(g+":status:not_signed_in");h.triggerFollowButtonRedirectionEvent(d);g=f.signin();l.location.assign(g);break;case a.BRAND_FOLLOW_STATUS.ERROR:k.incrementCSMCounter(g+":status:error");h.triggerFollowButtonLoadedEvent();break;case a.BRAND_FOLLOW_STATUS.PENDING:return k.incrementCSMCounter(g+":status:pending"),
!1;default:k.incrementCSMCounter(g+":status:unknown")}}else k.incrementCSMCounter(g+":emptyBFID")})})});"use strict";m.when("A","brand-follow-data-storage-helper","brand-follow-constants","brand-follow-afs-helper","brand-follow-button-event-helper","brand-follow-csm-helper","on-brand-follow-status-change","ready").register("brand-follow-button-initializer",function(g,c,a,e,f,h){g.on("brandFollow:followButton:loaded",function(){g.$(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR+" "+a.Brand_FOLLOW_BUTTON_SELECTOR).each(function(){var f=
g.$(this),k=f.data(a.BFID_DATA_KEY),b=f.data(a.REF_DATA_KEY)||a.FOLLOW_REF_TAG;if(k!==n){var d=c.getFollowStatus(k);if(d===n||d===a.BRAND_FOLLOW_STATUS.ERROR){d=f.data(a.FOLLOW_STATUS_DATA_KEY);if(f.data(a.BACK_BUTTON_SUPPORT_ENABLED_DATA_KEY)){var m=l.performance||l.webkitPerformance;m=m&&m.navigation&&2==m.navigation.type;!/bot|crawl|spider/i.test(l.navigator&&l.navigator.userAgent)&&m&&(d="")}if(d!==n&&""!==d)c.setFollowStatus(k,d?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);
else{c.setFollowStatus(k,a.BRAND_FOLLOW_STATUS.PENDING);var q=a.FOLLOW_CSM_PREFIX+":FetchFollowStatus";h.incrementCSMCounter(""+q);e.getFollowStatusAndInitCsrf(k,b,function(b){c.setFollowStatus(k,b.isFollowing?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);h.incrementCSMCounter(q+":success");f.data(a.FOLLOW_STATUS_DATA_KEY)!==b.isFollowing&&h.incrementCSMCounter(q+":FoundDiff")},function(){h.incrementCSMCounter(q+":error");c.setFollowStatus(k,a.BRAND_FOLLOW_STATUS.ERROR)},function(){h.incrementCSMCounter(q+
":notSignedIn");c.setFollowStatus(k,a.BRAND_FOLLOW_STATUS.NOT_SIGNED_IN)})}}else d===a.BRAND_FOLLOW_STATUS.FOLLOWING?(f.text(f.data(a.FOLLOWING_TEXT_DATA_KEY)),f.attr(a.ARIA_LABEL_KEY,f.data(a.ARIA_LABEL_FOLLOWING_DATA_KEY))):(f.text(f.data(a.FOLLOW_TEXT_DATA_KEY)),f.attr(a.ARIA_LABEL_KEY,f.data(a.ARIA_LABEL_FOLLOW_DATA_KEY)))}})});f.triggerFollowButtonLoadedEvent()});"use strict";m.when("A","brand-follow-constants","brand-follow-button-event-helper","ready").execute("brand-follow-button-mutation-observer",
function(g,c,a){var e=g.$;(function(){var f=l.MutationObserver||l.WebKitMutationObserver||l.MozMutationObserver;f!==n&&(new f(function(f,g){g=!1;for(var h=0;h<f.length;h++){var b=f[h];if("childList"!==b.type)break;b=b.addedNodes;for(var d,l=0;l<b.length;l++)if(d=b[l],0!==e(d).find(c.Brand_FOLLOW_BUTTON_SELECTOR).length){g=!0;break}if(g){a.triggerFollowButtonLoadedEvent();break}}})).observe(document,{childList:!0,subtree:!0})})()})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("BrandFollowKataComponentAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(l){var h=window.AmazonUIPageJS||window.P,k=h._namespace||h.attributeErrors,f=k?k("PostsSearchWidgetAssets",""):h;f.guardFatal?f.guardFatal(l)(f,window):f.execute(function(){l(f,window)})})(function(l,h,k){l.when("A","rush-framework","related-posts-search-metrics-client","related-posts-carousel-view","af","ready").register("related-posts-search-widget",function(f,h,g,c){h.registerComponent("related-posts-search-widget","related-posts-search-widget",function(b){var e=f.$(b.elem());b={sushiEndpoint:b.prop("sushiEndpoint"),
requestId:b.prop("requestId"),pageType:b.prop("pageType"),pageId:b.prop("pageId"),appMode:b.prop("appMode"),platform:b.prop("platform"),mShopBuild:b.prop("mShopBuild"),carouselName:b.prop("carouselName")||"posts-feed-preview-carousel",placementProductId:b.prop("placementProductId"),instanceId:b.prop("instanceId"),weblabName:b.prop("weblabName"),widgetModelType:b.prop("widgetModelType"),marketplaceId:b.prop("marketplaceId")};e=new c(e);var a=new g(e,b);e.initEvents(b.carouselName,a);e.$carouselContainer.length||
a.emitCsmCounter("PostsCarouselWidgetExpectedButNotLoaded")})});"use strict";l.when("A","a-carousel-framework","af","ready").register("related-posts-carousel-view",function(f,k){function g(e){this.$carouselContainer=e.find(".posts-feed-preview-wrapper")}function c(e,a){var d=e.getAttr("pageNumber");e=e.getAttr("totalPages");var b=a.find(".a-carousel-goto-prevpage");a=a.find(".a-carousel-goto-nextpage");if(b.length||a.length)b.toggleClass("aok-hidden",1===d),a.toggleClass("aok-hidden",d===e)}var b=
{};g.prototype.getCarouselElement=function(){return this.$carouselContainer};g.prototype.initEvents=function(e,a){var d=this;k.onInit(e,function(m){b[e]?a.emitCsmCounter("PostsCarouselWidgetAlreadyInitialized"):m?(a.emitCsmCounter("PostsCarouselWidgetInitialized"),d.auiCarousel=m,c(m,d.$carouselContainer),f.on(f.constants.BROWSER_EVENTS.SCROLL,function(){a.handleUserScroll()}),m.onChange("px",function(){c(m,d.$carouselContainer);a.handleUserScroll()}),m.onChange("pageSize",function(){a.handleCarouselResize()}),
d.$carouselContainer.find(".posts-feed-preview-card").click(function(d){a.handleUserClick(d)}),h.addEventListener("beforeunload",function(){a.handleUnload()}),h.addEventListener("pagehide",function(){a.handleUnload()}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&a.handleUnload();"visible"===document.visibilityState&&a.handlePageLoad()}),b[e]=!0,a.initialize(),a.handlePageLoad()):a.emitCsmCounter("PostsCarouselWidgetCarouselNotFound")})};return g});
"use strict";l.when("A","posts-sushi-client","related-posts-measure","af","ready").register("related-posts-search-metrics-client",function(f,l,g){function c(a,d){this.carouselView=a;this.metricConfig=d;this.state={postVisibilityEventStates:{},postImpressionMetadata:{},carouselOnScreen:!1,unloadHandled:!1};this.sushiClient=new l(h,this.metricConfig.sushiEndpoint)}var b={PostImpression:2,PostPartialImpression:1,CarouselOffScreen:1,PostClick:1,PostView:2,PostOffScreen:1,PageEgress:1},e=f.$;c.prototype.initialize=
function(){this.isCarouselOutOfViewPort()||this.checkPostsClientSideMetrics()};c.prototype.handlePageLoad=function(){this.carouselInstance=this.generateInstanceId();this.requestInstance=this.generateInstanceId()};c.prototype.generateInstanceId=function(){return Math.round(Math.floor(999999*Math.random())+1)};c.prototype.emitCsmCounter=function(a){this.sushiClient.ueCount(a)};c.prototype.decorateMetricPayload=function(a){a.request_id=this.metricConfig.requestId;a.request_instance=this.requestInstance;
a.carousel_instance=this.carouselInstance;a.page_type=this.metricConfig.pageType;a.page_id=this.metricConfig.pageId;a.app_mode=this.metricConfig.appMode;a.app_build="1.0";a.platform=this.metricConfig.platform;a.placement_product_id=this.metricConfig.placementProductId;a.instance_id=this.metricConfig.instanceId;a.widget_model_type=this.metricConfig.widgetModelType;a.marketplace_id=this.metricConfig.marketplaceId;this.metricConfig.mShopBuild&&(a.mshop_build=this.metricConfig.mShopBuild);this.metricConfig.weblabName&&
(a.weblab_name=this.metricConfig.weblabName);a.event_version=b[a.event_type];return a};c.prototype.handleUserScroll=function(){this.checkPostsClientSideMetrics()};c.prototype.handleCarouselResize=function(){this.checkPostsClientSideMetrics()};c.prototype.getOriginPx=function(a){a=e("#"+a);var d=a.offset();return a.length?d.left+","+d.top:"-1,-1"};c.prototype.getPosts=function(){return this.carouselView.getCarouselElement().find(".posts-feed-preview-card")};c.prototype.postOriginsAreInvalid=function(){var a=
this.carouselView.getCarouselElement(),d=this.getPosts(),b=null,c=!1,n=-1;a=a.is(":visible");for(var f=0;f<d.length;f++){var h=e(d[f]),g=h.attr("id");if(h=h.is(":visible")){-1===n&&(n=f);g=this.getOriginPx(g);if(b){if(d=g===b)this.emitCsmCounter("PostsCarouselInvalidOrigins:LastVisible:"+(c?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:CurVisible:"+(h?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:CarouselVisible:"+(a?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:FirstVisibleIndex:"+
n);return d}b=g;c=h}}this.emitCsmCounter("PostsCarouselInvalidOrigins:NoCardsVisible:"+(b?"false":"true"));this.emitCsmCounter("PostsCarouselInvalidOrigins:CardsInvis:CarouselVisible:"+(a?"true":"false"));return!0};c.prototype.checkPostsClientSideMetrics=function(){if(this.postOriginsAreInvalid()){this.emitCsmCounter("PostsCarouselInvalidOrigins");var a=!this.isCarouselOutOfViewPort();this.emitCsmCounter("PostsCarouselInvalidOrigins:OnScreen:"+(a?"true":"false"))}else this.checkPostImpressionMetrics(),
this.checkPostCarouselOffScreenMetric()};c.prototype.checkPostImpressionMetrics=function(){for(var a=this.getPosts(),d=0;d<a.length;d++){var b=e(a[d]),c=b.attr("id"),f=b.attr("data-post-rank");this.checkPostViewMetric(c,f);this.checkPostOffScreenMetric(c,f);b.is(":visible")&&(this.checkPostPartialImpressionMetric(c,f),this.checkPostImpressionMetric(c,f))}};c.prototype.postEventEmittedSinceComingOnScreen=function(a,d){return this.state.postVisibilityEventStates[d]?this.state.postVisibilityEventStates[d][a]||
!1:!1};c.prototype.shouldEmitMetrics=function(a,d){return!this.postEventEmittedSinceComingOnScreen(a,d)};c.prototype.checkPostCarouselOffScreenMetric=function(){if(this.state.carouselOnScreen&&this.isCarouselOutOfViewPort()){this.state.carouselOnScreen=!1;var a=this.decorateMetricPayload({event_type:"CarouselOffScreen"});this.sushiClient.processEvent(a,{n:1});this.carouselInstance=this.generateInstanceId()}};c.prototype.checkPostPartialImpressionMetric=function(a,d){this.shouldEmitMetrics("PostPartialImpression",
a)&&this.isPartialImpression(a)&&(this.state.carouselOnScreen=!0,d=this.buildPostEvent("PostPartialImpression",a,d),this.sushiClient.processEvent(d,{n:1}),this.updateImpressionState(a,"PostPartialImpression"))};c.prototype.isPartialImpression=function(a){a=g.getElementViewportExtents(a);return(a.isTopInViewport||a.isBottomInViewport)&&(a.isLeftInViewport||a.isRightInViewport)};c.prototype.checkPostViewMetric=function(a,d){if(this.shouldEmitMetrics("PostView",a)&&this.isView(a)){d=this.buildPostEvent("PostView",
a,d);var b=f.now()-this.state.postVisibilityEventStates[a].PostImpression;0<b&&36E5>b&&(d.dwell_time_ms=Math.round(b));this.sushiClient.processEvent(d,{n:1});this.updateImpressionState(a,"PostView")}};c.prototype.isView=function(a){if(this.postEventEmittedSinceComingOnScreen("PostImpression",a))return a=g.getElementViewportAreas(a),a.viewportArea<.5*a.totalArea};c.prototype.checkPostImpressionMetric=function(a,d){this.shouldEmitMetrics("PostImpression",a)&&this.isImpression(a)&&(d=this.buildPostEvent("PostImpression",
a,d),this.sushiClient.processEvent(d,{n:1}),this.updateImpressionState(a,"PostImpression",f.now()))};c.prototype.isImpression=function(a){a=g.getElementViewportAreas(a);return a.viewportArea>=.5*a.totalArea};c.prototype.checkPostOffScreenMetric=function(a,d){this.isPostOutOfViewPort(a)&&this.postEventEmittedSinceComingOnScreen("PostPartialImpression",a)&&(d=this.buildPostEvent("PostOffScreen",a,d),this.sushiClient.processEvent(d,{n:1}),this.state.postVisibilityEventStates[a].PostImpression=!1,this.state.postVisibilityEventStates[a].PostPartialImpression=
!1,this.state.postVisibilityEventStates[a].PostView=!1)};c.prototype.isPostOutOfViewPort=function(a){return!f.onScreen(e("#"+a),0)};c.prototype.isCarouselOutOfViewPort=function(){return!f.onScreen(this.carouselView.getCarouselElement(),0)};c.prototype.buildPostEvent=function(a,d,b){return this.decorateMetricPayload({event_type:a,post_id:d.split("Posts-")[1],rank:parseInt(b,10),origin_px:this.getOriginPx(d)})};c.prototype.updateImpressionState=function(a,d,b){var e=this.state.postVisibilityEventStates[a]||
{};e[d]="undefined"===typeof b?!0:b;this.state.postVisibilityEventStates[a]=e};c.prototype.handleUserClick=function(a){var d=e(a.target),b=d.attr("data-post-id"),c=d.attr("data-post-rank"),f=d.attr("data-click-target");if(null===b||null===c||b===k||c===k)c=d.closest(".posts-feed-preview-card"),b=c.attr("id"),c=c.attr("data-post-rank");if(null===f||f===k)f=d.closest("[data-click-target]"),f=null!==f&&f!==k?f.attr("data-click-target"):"UNKNOWN";var g=this.buildPostEvent("PostClick",b,c);g.click_target=
f;"FollowButton"===f&&h.BrandFollowSharedUtils&&e.isFunction(h.BrandFollowSharedUtils.getLastClickAction)&&(g.click_action=h.BrandFollowSharedUtils.getLastClickAction(a.target));this.sushiClient.processEvent(g,{n:1});a=d.closest("[data-click-action]");null!==a&&a!==k&&"Egress"===a.attr("data-click-action")&&"FollowButton"!==f&&(a=a.attr("data-target-destination")||"NONE",this.emitPageEgressMetric(b,c,a,f))};c.prototype.emitPageEgressMetric=function(a,b,c,e){a=this.buildPostEvent("PageEgress",a,b);
a.destination_type=c;a.click_target=e;this.sushiClient.processEvent(a,{n:1})};c.prototype.handleUnload=function(){if(!this.state.unloadHandled){this.state.unloadHandled=!0;for(var a=this.getPosts(),b=0;b<a.length;b++){var c=e(a[b]),g=c.attr("id");c=c.attr("data-post-rank");if(this.postEventEmittedSinceComingOnScreen("PostImpression",g)&&this.shouldEmitMetrics("PostView",g)){c=this.buildPostEvent("PostView",g,c);var h=f.now()-this.state.postVisibilityEventStates[g].PostImpression;0<h&&36E5>h&&(c.dwell_time_ms=
Math.round(h));this.sushiClient.processEvent(c,{n:1});this.updateImpressionState(g,"PostView")}}this.state.carouselOnScreen&&(a=this.decorateMetricPayload({event_type:"CarouselOffScreen"}),this.sushiClient.processEvent(a,{n:1}),this.state.carouselOnScreen=!1);this.state.carouselInstance=this.generateInstanceId();this.sushiClient.onBeforeUnload()}};return c});"use strict";l.when("A","af","ready").register("related-posts-measure",function(f){function k(){var b=c(h),e=b.scrollTop(),a=b.scrollLeft(),
d=h.innerHeight||b.height();b=h.innerWidth||b.width();return{top:e,left:a,height:d,width:b,bottom:e+d,right:a+b}}function g(b){var c=b.offset(),a=c.top;c=c.left;var d=b.height();b=b.width();return{top:a,left:c,height:d,width:b,bottom:a+d,right:c+b}}var c=f.$;return{getElementViewportAreas:function(b){b=c("#"+b);var e=k(),a=e.width*e.height,d=g(b),h=d.width*d.height;e=Math.max(Math.min(d.right,e.right)-Math.max(d.left,e.left),0)*Math.max(Math.min(d.bottom,e.bottom)-Math.max(d.top,e.top),0);return b.length&&
f.onScreen(b,0)?{totalArea:h,viewportArea:e,totalViewportArea:a}:{totalArea:1,viewportArea:0,totalViewportArea:a}},getElementViewportExtents:function(b){b=c("#"+b);var e=k(),a=g(b);return b.length&&f.onScreen(b,0)?{isTopInViewport:a.top>=e.top&&a.top<e.bottom,isBottomInViewport:a.bottom>=e.top&&a.bottom<e.bottom,isLeftInViewport:a.left>=e.left&&a.left<e.right,isRightInViewport:a.right>=e.left&&a.right<e.right}:{isTopInViewport:!1,isBottomInViewport:!1,isLeftInViewport:!1,isRightInViewport:!1}},getViewportCoordinates:k,
getElementLocation:g}})});
/* ******** */
(function(e){var d=window.AmazonUIPageJS||window.P,f=d._namespace||d.attributeErrors,c=f?f("SearchFollowButtonAssets",""):d;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,d,f){e.when("jQuery","rush-framework","af").register("rdx-follow-button",function(c,e){function k(a){d.ue&&d.ue.tag&&d.ue.count&&(d.ue.tag(a,"searchEntityFollow"),d.ue.count(a+"Count",1))}function l(a){a.removeClass("aok-hidden")}e.registerComponent("rdx-follow-button","rdx-follow-button",
function(a){function e(a){b.removeClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(g);b.find(".rdx-follow-button-button").attr("aria-label",t);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-following-icon").addClass("rdx-follow-button-follow-icon");b.unbind().click(function(){p(a)});l(b)}function m(a){b.addClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(n);b.find(".rdx-follow-button-button").attr("aria-label",
u);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-follow-icon").addClass("rdx-follow-button-following-icon");b.unbind().click(function(){v(a)});l(b)}function w(){b.removeClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(g);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-following-icon").addClass("rdx-follow-button-follow-icon");b.unbind().click(function(){"undefined"!==typeof sessionStorage&&(sessionStorage.followKey=
h);d.location.href=x});l(b)}function p(a){c.ajax({type:"POST",contentType:"application/json; charset\x3dutf-8",url:y,data:JSON.stringify({authenticity_token:a,entity_id:h,category:q,ref:z}),success:function(){m(a)},error:function(){e();r.removeClass("aok-hidden");k("EntityFollowError")}})}function v(a){c.ajax({type:"DELETE",url:A+"\x26"+c.param({authenticity_token:a}),data:{},success:function(){e(a)},error:function(){m(a);r.removeClass("aok-hidden");k("EntityUnfollowError")}})}var b=c(a.elem()).find(".rdx-follow-button"),
r=c(a.elem()).find(".rdx-follow-button-alert"),h=a.prop("entityID"),q=a.prop("entityType"),B=a.prop("followStatusUrl"),y=a.prop("followUrl"),A=a.prop("unfollowUrl"),x=a.prop("flexSignInUrl"),g=a.prop("followText"),n=a.prop("followingText"),t=a.prop("followARIALabel"),u=a.prop("followingARIALabel"),z=a.prop("followReftag");"undefined"!==typeof h&&"undefined"!==typeof q&&("undefined"===typeof g&&(g="Follow"),"undefined"===typeof n&&(n="Following"),function(){c.ajax({type:"GET",url:B,data:{},success:function(a){if(a.isFollowable)if(a.signedIn)if(a.isFollowing)m(a.csrf);
else{var b=h;var c=/rdx-entity-follow=([^#&]+)/.exec(d.location.search);(c&&2===c.length?c[1]:f)!==b||"undefined"===typeof sessionStorage?b=!1:(c=sessionStorage.followKey,sessionStorage.removeItem("followKey"),b=c===b);b?p(a.csrf):e(a.csrf)}else w()},error:function(){k("EntityFollowStatusError")}})}())})})});
/* ******** */
(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,b=f?f("SearchEntityWidgetAssets",""):e;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,e,f){d.when("jQuery","a-truncate").register("rdx-entity-paragraph-common",function(b,c){return{rdxEntityLineHeightOverride:function(a){b(a.elem()).find(".rdx-entity-paragraph").each(function(a,c){a=b(c);c=a.attr("data-a-max-rows");a.css({"line-height":"1.5em","max-height":1.5*c+"em"})})},rdxEntityParagraphARIATruncate:function(a){a=
b(a.elem());a.find(".a-truncate-full").attr("aria-hidden","true");a.find(".a-truncate-cut").attr("aria-hidden","false")},rdxEntityUpdateParagraphTruncate:function(a){a=b(a.elem()).find(".a-truncate");c.get(a).update()}}});"use strict";d.when("rush-framework","rdx-entity-paragraph-common").register("rdx-entity-paragraph-truncate",function(b,c){b.registerComponent("rdx-entity-paragraph-truncate","rdx-entity-paragraph-truncate",function(a){c.rdxEntityLineHeightOverride(a);c.rdxEntityParagraphARIATruncate(a);
c.rdxEntityUpdateParagraphTruncate(a)})});"use strict";d.when("jQuery","rush-framework").register("enable-keyboard-navigation-outline",function(b){b=b("#entity-widget-carousel");if(0<b.length){b=b[0].getElementsByClassName("a-carousel-card");for(var c=0;c<b.length;c++){var a=b[c].getElementsByClassName("a-link-normal");a&&0<a.length&&(a[0].classList.remove("s-no-outline"),0<a[0].children.length&&0<a[0].children[0].children.length&&(a=a[0].children[0].children[0],a.width===a.height&&(a.style.width=
"95%")))}}})});
/* ******** */
(function(f){var q=window.AmazonUIPageJS||window.P,n=q._namespace||q.attributeErrors,e=n?n("SearchWebKnowledgeWidgetAssets",""):q;e.guardFatal?e.guardFatal(f)(e,window):e.execute(function(){f(e,window)})})(function(f,q,n){f.when("A","s-web-application-controller","rush-util","tab-nav-util").register("tab-nav-ajax",function(e,d,f,p){return{ajaxTabClick:function(e){var a=e.selectedTab.$tab;e=a.attr("id");var k=a.attr("data-ajaxUrl"),b=a.attr("data-asinIdToMetadata"),g=a.closest("[data-widgetId]").attr("data-widgetId");
a=a.closest("[data-uuid]").attr("data-uuid");var c="",l=!1,m={};f.isNullOrUndefined(g)||2!==g.split(":").length||(c=g.split(":")[0]);g={uuid:a,ajaxUrl:k};(l=p.checkCriticalDataMissing(g))?p.logMissingCriticalData(g,c):(m.suffix=":"+a+":"+e,"undefined"!==typeof b&&(m.asinIdToMetadata=b),p.logMetric("tab_navigation:"+c),d.requestPartialContent(k,m)["catch"](function(){p.logMetric("tab_navigation:"+c+":ajax_call_failure")}))}}});f.when("A","jQuery","rush-framework","s-actions","rush-util","tab-nav-util",
"tab-nav-ajax","a-carousel-framework").register("know-tab-nav",function(e,d,f,p,k,a,q,b){f.registerComponent("s-tab-navigation-component","s-tab-navigation-component",function(g){var c=g.elem(),l=d(c);c=l.closest("[data-uuid]").attr("data-uuid");var m=l.closest("[data-widgetId]").attr("data-widgetId"),h=a.getMatchingElement(l,".a-carousel-container"),f=l.closest(".a-tab-content"),n=a.getActiveTabHeight(l),t=a.getMatchingElement(l,"[id*\x3dtab-navigation-tab-spinner]"),v="",x=!1,u=f.attr("id"),w=f.closest(".a-tab-container").find(".know-tab-nav-tabs-set").find("li.know-tab-nav-tab-header#"+
a.escapeSpecialHashCharacter(u)),r=a.getMatchingElement(h,"[id*\x3dtab-navigation-asin-header]");k.isNullOrUndefined(m)||2!==m.split(":").length||(v=m.split(":")[0]);m={uuid:c,carousel:h,tabContent:f,initialActiveTabHeight:n};(x=a.checkCriticalComponentDataInvalid(m))?(a.logMissingCriticalData(m,v),a.logCounter("tab-navigation-missing-widget-data",!1)):(g.on(p.LOAD_SEARCH_PAGE+":"+c+":"+u,function(){t=a.getMatchingElement(l,"[id*\x3dtab-navigation-tab-spinner]");!f.is(".a-hidden")&&0<t.length&&(h.addClass("aok-hidden"),
t.height(n),t.html('\x3cdiv class\x3d"a-spinner-wrapper know-tab-nav-spinner"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium"\x3e\x3c/span\x3e\x3c/div\x3e'))}),g.on(p.RESULT_ITEM_READY+":"+c+":"+u,function(c){var e=f.attr("id"),d=document.createElement("div");k.isNullOrUndefined(c)||k.isBlank(e)?(a.logMetric("tab_navigation:"+v+":ajax_asin_invalid"),a.logCounter("tab-navigation-invalid-payload",!1)):(c=c.item.html,d.innerHTML=c,d=d.firstElementChild.getAttribute("data-asin"),k.isNotBlank(d)&&!f.is(".a-hidden")&&
(d="#tab-navigation-replace-"+a.escapeSpecialHashCharacter(e)+"-"+d,d=l.find(d)[0],k.isNullOrUndefined(d)||(c=a.getAsinContent(c),0<c.length&&(g.replace(d,c[0].innerHTML),k.isNullOrUndefined(t)||0!==f.find("[id*\x3dtab-navigation-replace]").length?a.logCounter("tab-navigation-asins-not-matching",!0):(t.remove(),h.removeClass("aok-hidden"),a.forceTextTruncation(l.find(".know-tab-nav-asin-header, .know-tab-nav-asin-header-intro")),0<r.length&&a.setElementHeight(a.getMatchingElement(h,"#tab-navigation-tab-link-top-space-"+
a.escapeSpecialHashCharacter(e)),r.outerHeight(!0)),a.setElementHeight(a.getMatchingElement(h,"#tab-navigation-tab-link-"+a.escapeSpecialHashCharacter(e)),0<r.length?h.height()-r.outerHeight(!0):h.height()),b.createAll(),b.initializeAll(),a.logCounter("tab-navigation-carousel-successfully-initialized",!0))))))}),0<r.length&&a.setElementHeight(a.getMatchingElement(h,"#tab-navigation-tab-link-top-space-"+a.escapeSpecialHashCharacter(u)),r.outerHeight(!0)),a.setElementHeight(a.getMatchingElement(h,"#tab-navigation-tab-link-"+
a.escapeSpecialHashCharacter(u)),0<r.length?h.height()-r.outerHeight(!0):h.height()),a.setLineClampClass(a.getMatchingElement(h,"#tab-navigation-tab-link-line-clamp-"+a.escapeSpecialHashCharacter(u))),e.on("a:tabs:"+c+":"+f.data("a-name")+":select",q.ajaxTabClick),w.removeClass("know-tab-nav-disable-tab"),w.addClass("know-tab-nav-enable-tab"))})});f.when("jQuery","rush-util","a-truncate").register("tab-nav-util",function(e,d,f){function p(b,a){var c=e(b),g;a.forEach(function(b){g=c.find(b);0<g.length&&
(c=g)});return c}function k(b){return(b.match(/(\s|^)s-line-clamp-\d+(?!\S)\b/g)||[]).map(e.trim)}function a(b){e(b).removeClass(function(b,a){return k(a).join(" ")}).addClass("s-line-clamp-2")}function n(b){var a=q.ue;a&&a.tag&&a.tag(b)}return{getAsinContent:function(b){b=p(b,[".template\\\x3dSEARCH_RESULTS",".s-latency-cf-section",".s-card-container"]);b.find(".a-spacing-medium").removeClass("a-spacing-medium");b.find('[class*\x3d"status-badge"]').remove();a(b.find("[class*\x3ds-line-clamp]"));
return b},findLineClampClass:k,getActiveTabHeight:function(b){b=e(b).closest(".a-tab-container").find(".a-tab-content").not(".a-hidden").height();return d.isNullOrUndefined(b)?400:b},escapeSpecialHashCharacter:function(b){return d.isBlank(b)?b:b.replace(/#/g,"\\#")},logMetric:n,logCounter:function(b,a){var c=q.ue;c&&c.count&&(c.count(b,1),c.count("tab-navigation-error-rate",a?0:1))},checkCriticalDataMissing:function(b){for(var a in b)if(d.isNullOrUndefined(b[a])||d.isBlank(b[a]))return!0;return!1},
checkCriticalComponentDataInvalid:function(b){return d.isNullOrUndefined(b.uuid)||d.isBlank(b.uuid)||0>=e(b.carousel).length||0>=e(b.tabContent).length||!d.isNumber(b.initialActiveTabHeight)?!0:!1},logMissingCriticalData:function(b,a){for(var c in b)(d.isNullOrUndefined(b[c])||d.isBlank(b[c]))&&n("tab-navigation:"+a+":"+c)},getMatchingElement:function(a,d){return e(a).find(d)},setElementHeight:function(a,d){e(a).height(d)},setLineClampClass:a,setCSSPropertyForObject:function(a,e,c){d.isNullOrUndefined(c)||
a.css(e,c)},forceTextTruncation:function(a){return a.filter(".a-truncate").add(a.find(".a-truncate")).filter(":visible").filter(function(a,b){f.get(b).update();return!0})}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchWebOamAsinsWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchWebResultsNavigationWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchWebSpecBasedShoppingWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchWebTileWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var d=window.AmazonUIPageJS||window.P,v=d._namespace||d.attributeErrors,a=v?v("HuddlesChatboxJS",""):d;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,d,v){c.when("A","huddles-core","ready").register("huddles-chatbox-interaction-2.0",function(a,b){function e(){if(p.width()&&p.offset()){var a=p.width();return a+p.offset().left-c.width()>.9*a?h.css("right",f):h.css("right",f+a)}a=parseInt(x.css("padding-right"),10);return h.css("right",f+a)}function k(){if(0!==
r.length&&null!==r.position()){var a=c.height(),b=Math.max(0,r.position().top+r.height()-c.scrollTop());300>a-b?n.height(0):n.height(Math.min(500,a-b)-u.outerHeight())}}function m(){k();e()}var c=a.$(d),x=a.$("body"),r=a.$("#navbar, #navWrapper, .header-contents-container").first(),p=a.$("#nav-flyout-ewc"),h=a.$(".huddles-chatbox"),n=a.$(".huddles-chatbox__content"),u=a.$(".huddles-chatbox__toolbar"),t=a.$(".huddles-chatbox__toolbar-minimize"),f=parseInt(h.css("right"),10);setInterval(e,3E3);c.resize(a.debounce(m,
100));c.scroll(a.debounce(k,100));return{minimizeChatbox:function(b){h.show();b?(n.hide(),t.addClass("huddles-chatbox__vertical-flip")):a.slideUp(n,200,"ease-out",function(){t.addClass("huddles-chatbox__vertical-flip")})},maximizeChatbox:function(){},restoreChatbox:function(b){n.show();m();b?(h.show(),t.removeClass("huddles-chatbox__vertical-flip")):a.slideDown(h,200,"ease-out",function(){t.removeClass("huddles-chatbox__vertical-flip")})},closeChatbox:function(){a.slideUp(h,200,"ease-out")}}});"use strict";
c.when("A","ready").register("huddles-chatbox-storage-2.0",function(a){function b(){try{return k&&"sessionStorage"in d&&null!==d.sessionStorage&&sessionStorage}catch(m){return!1}}var e="huddle-chatbox"+d.location.pathname,k=!1;return{enableSessionStorage:function(){k=!0},getChatboxState:function(){if(b())return JSON.parse(sessionStorage.getItem(e))||{};k&&c.log("sessionStorage not available","WARN");return{}},setChatboxState:function(a){b()&&sessionStorage.setItem(e,JSON.stringify(a))},DISPLAY_CODE:{MINIMIZED:"MINIMIZED",
MAXIMIZED:"MAXIMIZED",NORMAL:"NORMAL"}}});"use strict";c.when("A","ready").register("huddles-chatbox-metrics-2.0",function(a){return{logCounter:function(a,c){d.ue&&d.ue.count&&(a="HuddlesChatbox."+a,d.ue.count(a,(d.ue.count(a)||0)+(c||1)))}}});"use strict";c.register("huddles-chatbox-feature-config-2.0",function(){return{chatbox:!0}});"use strict";c.when("A","huddles-chatbox-feature-config-2.0","ready").register("huddles-init-2.0",function(a,b){function e(a){var b=d.ue.sn||d.ue_sn;return b&&b.substring(b.length-
a.length,b.length)===a}return{initialize:function(){if(!d.ue||"PackageProgressTracker"!==d.ue_pty||e("amazon.com"))d.HuddlesChatboxConfig?c.log("Chatbox config already registered","WARN"):b.chatbox&&(d.HuddlesChatboxConfig={},a.get("/conversations/chatbox-config",{params:{originalUrl:encodeURIComponent(d.location.href),pty:d.ue_pty},timeout:4E4,success:function(b){if(b.chatboxSupported){if(a.objectIsEmpty(b.endpointConfig)||a.objectIsEmpty(b.startupArgs)){c.log("Invalid Huddles chatbox config","ERROR");
d.HuddlesChatboxConfig=null;return}var e={chatboxSupported:!0,chatboxEndpointConfig:b.endpointConfig,chatboxStartupArgs:a.$.extend({},b.startupArgs,{renderContext:{isRemote:!0}}),enableSessionStorage:b.enableSessionStorage}}else e={chatboxSupported:!1},c.log("Chatbox functionality suppressed","WARN");c.declare("huddles-chatbox-config-2.0",e);d.HuddlesChatboxConfig=e;b.chatboxContainer&&a.$(b.chatboxContainer).appendTo("body")},error:function(a,b,e){d.HuddlesChatboxConfig=null;c.log("Failed to get Huddles chatbox config. "+
b+": "+e,"ERROR")}}))}}});c.when("A","huddles-core","huddles-chatbox-interaction-2.0","huddles-chatbox-storage-2.0","huddles-chatbox-metrics-2.0","huddles-chatbox-config-2.0","ready").register("huddles-chatbox-2.0",function(a,b,e,d,m,w){function k(a){f[l||"INBOX"]=a;d.setChatboxState(f)}function r(g){var d=g.displayCode||q.NORMAL,c=a.$.extend({},n,g);g.showEmbedded&&g.container?(g.container instanceof a.$&&(g.container=g.container.get(0)),b.startHuddleApp(g.container,u,c),m.logCounter("Rendered.Embedded")):
(d===q.MINIMIZED?e.minimizeChatbox(!0):(g=document.querySelector(".huddles-chatbox__content"),b.startHuddleApp(g,u,c),d===q.MAXIMIZED?(e.restoreChatbox(!0),e.maximizeChatbox()):e.restoreChatbox()),f={},k(d),m.logCounter("Rendered."+d))}function p(a){l=null;r(a||{})}function h(a){if(!a||!a.huddleId)return c.log("Required render parameter huddleId missing for renderHuddleChat","FATAL"),!1;l=a.huddleId;r(a)}var n=w.chatboxStartupArgs,u=w.chatboxEndpointConfig,t=[];w.enableSessionStorage&&d.enableSessionStorage();
(function(){b.subscribeToHuddlesStore&&b.subscribeToHuddlesStore(function(a,b){function d(a,b){if(a&&a.messages&&a.messages.get(b)&&a.messages.get(b).displayMessages)return a.messages.get(b).displayMessages}function g(a,b){return b.filter(function(b){return a.filters.messageFilter?a.filters.messageFilter(b):a.filters.slotFilter(b.slot)})}var c;b&&b.huddle&&b.huddle.get(l)&&b.huddle.get(l).jid&&(c=b.huddle.get(l).jid);b=d(b,c);var e=d(a,c),f=[];b&&0<b.size&&e===v?f=b:b&&e&&b.size>e.size&&(f=b.filter(function(a){return!e.has(a.ID)}));
(f=f.filter(function(a){return a&&a.campfireMessage&&!a.campfireMessage.wasSentByUs}))&&0<f.size&&t.forEach(function(a){var b=Object.keys(a.filters||{}).length?g(a,f):f;0<b.size&&a.handler(b.size)})})})();var f=d.getChatboxState(),q=d.DISPLAY_CODE,l;a.objectIsEmpty(f)||a.each(f,function(a,b){"INBOX"===b?p({showEmbedded:!1,displayCode:a}):h({huddleId:b,showEmbedded:!1,displayCode:a})});return{renderInbox:p,renderHuddleChat:h,restoreChatbox:function(){if(!l||!f[l]||f[l]===q.MINIMIZED){var d={};l&&(d.huddleId=
l);d=a.$.extend({},n,d);var c=document.querySelector(".huddles-chatbox__content");b.startHuddleApp(c,u,d)}e.restoreChatbox();k(q.NORMAL);m.logCounter("Restored")},closeChatbox:function(c){c?(c instanceof a.$&&(c=c.get(0)),b.closeHuddleApp(c),m.logCounter("Closed.Embedded")):(e.closeChatbox(),c=document.querySelector(".huddles-chatbox__content"),b.closeHuddleApp(c),f={},d.setChatboxState(f),m.logCounter("Closed"))},minimizeChatbox:function(){e.minimizeChatbox();var a=document.querySelector(".huddles-chatbox__content");
b.closeHuddleApp(a);k(q.MINIMIZED);m.logCounter("Minimized")},maximizeChatbox:function(){e.maximizeChatbox();k(q.MINIMIZED);m.logCounter("Maximized")},subscribeToMessageReceived:function(a){t.push(a)},setPersonaName:b.setPersonaName,deprecated_watchPartyEvent:b.deprecated_watchPartyEvent}});"use strict";c.when("A","huddles-chatbox-2.0","ready").execute(function(a,b){a.declarative("minimizeChatbox","click",function(c){a.$(".huddles-chatbox__content").is(":visible")?b.minimizeChatbox():b.restoreChatbox()});
a.declarative("closeChatbox","click",function(a){b.closeChatbox()})})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,q=f._namespace||f.attributeErrors,b=q?q("FloatingActionButtonWidgetAssetsCommon",""):f;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,f,q){e.register("s-fab-unread-badging-flag",function(){return{enabled:1}});e.register("s-fab-hover-hint-flag",function(){return{enabled:1}});e.when("A","ready").register("s-fab-controller",function(){var b=null,a=null;return{registerComponent:function(g){b=g;a&&a()},setOnComponentRegistered:function(g){a=
g;b&&a()},registerOnOpenHandler:function(a){b.registerOnOpenHandler(a)},registerOnCloseHandler:function(a){b.registerOnCloseHandler(a)},registerOnControlCloseHandler:function(a){b.registerOnControlCloseHandler(a)},registerHoverHandler:function(){b.registerHoverHandler()},isOpen:function(){return b.isOpen()},isVisible:function(){return b.isVisible()},setUnreadMessageCount:function(a){return b.setUnreadMessageCount(a)},expandContentPane:function(){b.expandContentPane()},minimizeContentPane:function(){b.minimizeContentPane()},
showComponent:function(){b.showComponent()},hoverHintEnabled:function(){return b.hoverHintEnabled()},showHoverHint:function(){b.showHoverHint()},getElements:function(){return b.elements}}});e.when("A","s-fab-constants","s-fab-utilities","s-fab-controller","ready").register("s-fab-component-registration",function(b,a,g,c){var e=b.$;return{setup:function(b,f,v){function h(){d.$floatingActionButtonContent.width(Math.ceil(d.$floatingActionButton[0].getBoundingClientRect().width))}function w(b){b===a.CONTENT_VISIBLE?
d.$floatingActionButtonHoverHintContainer.removeClass(a.AUI_HIDDEN_CLASS):d.$floatingActionButtonHoverHintContainer.addClass(a.AUI_HIDDEN_CLASS)}function t(){return v.hoverHintEnabled&&d.$floatingActionButtonHoverHintContainer.length}function r(){d.$floatingActionButtonHoverHintClose.unbind("click");d.$floatingActionButtonHoverHintClose.click(function(){k.hoverHintHasBeenClosed=!0;w(a.CONTENT_HIDDEN)})}function u(b){b===a.CONTENT_VISIBLE?d.$floatingActionButtonContentWrapper.removeClass(a.AUI_HIDDEN_CLASS):
d.$floatingActionButtonContentWrapper.addClass(a.AUI_HIDDEN_CLASS)}function m(b){d.$floatingActionButtonInteractionIcon=l.find(a.FAB_INTERACTION_ICON);d.$floatingActionButtonInteractionIcon.removeClass(a.OPEN_IMAGE_CLASS);d.$floatingActionButtonInteractionIcon.removeClass(a.CLOSE_IMAGE_CLASS);d.$floatingActionButtonInteractionIcon.addClass(b);try{var c=g.extractContentURL(d.$floatingActionButtonInteractionIcon.css("content"));d.$floatingActionButtonInteractionIcon.attr("src",c)}catch(C){g.metrics.addOne(a.METRICS.COUNTERS.IMAGE_SRC_SET_FAILURE)}}
function n(b){d.$floatingActionButtonInputArea=l.find(a.FAB_INPUT_AREA_CONTAINER);b?d.$floatingActionButtonInputArea.addClass("aok-hidden"):d.$floatingActionButtonInputArea.removeClass("aok-hidden")}function A(){a.CONTAINER_OPEN===a.CONTAINER_OPEN&&h();u(a.CONTENT_VISIBLE);w(a.CONTENT_HIDDEN);m(a.CLOSE_IMAGE_CLASS);n(!0)}function x(){a.CONTAINER_CLOSED===a.CONTAINER_OPEN&&h();u(a.CONTENT_HIDDEN);m(a.OPEN_IMAGE_CLASS);n(!1)}function p(){return!d.$floatingActionButtonContentWrapper.hasClass(a.AUI_HIDDEN_CLASS)}
function B(){d.$floatingActionButtonHoverHintContainer.width(d.$floatingActionButton[0].getBoundingClientRect().width);w(a.CONTENT_VISIBLE)}function y(){k.hasBeenClicked||g.metrics.addOne(a.METRICS.COUNTERS.INITIAL_FAB_CLICK);k.hasBeenClicked=!0;if(k.onOpenHandler)k.onOpenHandler();A()}var l=e(b.elem()).parent(),d={$floatingActionButton:l.find(a.FAB_BUTTON_SELECTOR),$floatingActionButtonMain:l.find(a.FAB_BUTTON_MAIN_SELECTOR),$floatingActionButtonSecondaryMainContent:l.find(a.FAB_BUTTON_SECONDARY_MAIN_CONTENT_SELECTOR),
$floatingActionButtonContainer:l.find(f),$floatingActionButtonControl:l.find(a.FAB_BUTTON_CONTROL_SELECTOR),$floatingActionButtonContent:l.find(a.FAB_CONTENT_SELECTOR),$floatingActionButtonContentWrapper:l.find(a.FAB_CONTENT_WRAPPER_SELECTOR),$floatingActionButtonInteractionIcon:l.find(a.FAB_INTERACTION_ICON),$floatingActionButtonUnreadMessagesBadge:l.find(a.FAB_UNREAD_MESSAGES_BADGE),$floatingActionButtonUnreadMessagesCount:l.find(a.FAB_UNREAD_MESSAGES_VALUE),$floatingActionButtonHoverHintContainer:l.find(a.FAB_HOVER_HINT_CONTAINER),
$floatingActionButtonHoverHintClose:l.find(a.FAB_HOVER_HINT_CLOSE_BUTTON),$floatingActionButtonWrapper:l.find(a.FAB_WRAPPER_SELECTOR),$rightCol:e(a.RIGHT_COL_SELECTOR),$floatingActionButtonInputArea:l.find(a.FAB_INPUT_AREA_CONTAINER)},k={maxUnreadMessagesCount:99,onOpenHandler:null,onCloseHandler:null,onControlCloseHandler:null,hasBeenClicked:!1,hoverHintHasBeenClosed:!1};g.metrics.addOne(a.METRICS.COUNTERS.FAB_COMPONENT_REGISTRATION);d.$floatingActionButtonControl.unbind("click");d.$floatingActionButtonControl.click(function(){if(!p())y();
else if(k.onControlCloseHandler)k.onControlCloseHandler()});d.$floatingActionButtonMain.unbind("click");d.$floatingActionButtonMain.click(function(){if(p()){if(x(),k.onCloseHandler)k.onCloseHandler()}else y()});d.$floatingActionButtonSecondaryMainContent.unbind("click");d.$floatingActionButtonSecondaryMainContent.click(function(){if(p()){if(x(),k.onCloseHandler)k.onCloseHandler()}else y()});t()&&r();d.$rightCol.length&&d.$floatingActionButtonWrapper.css("margin-right",Math.ceil(d.$rightCol[0].getBoundingClientRect().width));
c.registerComponent({registerOnOpenHandler:function(a){k.onOpenHandler=a;if(p())k.onOpenHandler()},registerOnCloseHandler:function(a){k.onCloseHandler=a;if(!p())k.onCloseHandler()},registerOnControlCloseHandler:function(a){k.onControlCloseHandler=a},registerHoverHandler:function(){d.$floatingActionButtonContainer.mouseenter(function(){p()||k.hoverHintHasBeenClosed||k.hasBeenClicked||B()}).mouseleave(function(){w(a.CONTENT_HIDDEN)})},isOpen:p,isVisible:function(){return!d.$floatingActionButtonContainer.hasClass(a.AUI_HIDDEN_CLASS)},
setUnreadMessageCount:function(a){a&&0<a?(d.$floatingActionButtonUnreadMessagesCount.text(Math.min(k.maxUnreadMessagesCount,a)),d.$floatingActionButtonUnreadMessagesBadge.css("opacity","1")):d.$floatingActionButtonUnreadMessagesBadge.css("opacity","0")},expandContentPane:A,minimizeContentPane:x,showComponent:function(){d.$floatingActionButtonContainer.removeClass(a.AUI_HIDDEN_CLASS);h()},hoverHintEnabled:t,showHoverHint:B,elements:{$button:d.$floatingActionButton,$container:d.$floatingActionButtonContainer,
$contentContainer:d.$floatingActionButtonContent}})}}});e.when("ready").register("s-fab-constants",function(){return{COMPONENT_NAME:"s-floating-action-button",CLOSE_IMAGE_CLASS:"s-floating-action-button-close-image",OPEN_IMAGE_CLASS:"s-floating-action-button-open-image",FAB_CONTAINER_SELECTOR:"#s-fab-container",FAB_BUTTON_SELECTOR:".s-fab-button",FAB_BUTTON_MAIN_SELECTOR:".s-fab-button-content-main-container",FAB_BUTTON_SECONDARY_MAIN_CONTENT_SELECTOR:".s-fab-button-secondary-content-main-container",
FAB_BUTTON_CONTROL_SELECTOR:".s-fab-button-content-control-container",FAB_CONTENT_SELECTOR:".s-floating-action-button-content",FAB_CONTENT_WRAPPER_SELECTOR:".s-floating-action-button-content-wrapper",FAB_EMPTY_SELECTOR:"#s-fab-empty",FAB_INTERACTION_ICON:".s-fab-button-image-right",FAB_USE_CASE_SELECTOR:"#fab_useCase",FAB_WRAPPER_SELECTOR:".s-fab-sticky-wrapper",CONTAINER_OPEN:"CONTAINER_OPEN",CONTAINER_CLOSED:"CONTAINER_CLOSED",FAB_UNREAD_MESSAGES_BADGE:".s-fab-button-badge-right-container",FAB_UNREAD_MESSAGES_VALUE:".s-fab-button-badge-right-value",
FAB_INPUT_AREA_CONTAINER:".s-fab-button-input-area-container",FAB_HOVER_HINT_CONTAINER:".s-fab-hover-hint",FAB_HOVER_HINT_CLOSE_BUTTON:".s-fab-hover-hint-close-image",TEST_DIV_OUTSIDE_FAB:".test-div-outside-fab",RIGHT_COL_SELECTOR:"#rightCol",CONTENT_VISIBLE:"CONTENT_VISIBLE",CONTENT_HIDDEN:"CONTENT_HIDDEN",AUI_HIDDEN_CLASS:"aok-hidden",METRICS:{COUNTERS:{INITIAL_FAB_CLICK:"s-fab-ifc",IMAGE_SRC_SET_FAILURE:"s-fab-issf",FAB_COMPONENT_REGISTRATION:"s-fab-fcr",FAB_RENDER_FAILURE:"s-fab-frf"}}}});e.when("ready").register("fab-page-type",
function(){return f.ue_pty});e.when("ready").register("s-fab-utilities",function(){return{buildQueryString:function(b){var a,g=[];for(a in b)g.push(encodeURIComponent(a)+"\x3d"+encodeURIComponent(b[a]));return"?"+g.join("\x26")},buildSignInURL:function(){var b={"openid.assoc_handle":{"amazon.com":"usflex","amazon.co.uk":"gbflex","amazon.de":"deflex","amazon.fr":"frflex","amazon.es":"esflex","amazon.in":"inflex","amazon.it":"itflex","amazon.co.jp":"jpflex","amazon.ca":"caflex"}[f.location.hostname.replace(/.+?(?=amazon)/,
"")],"openid.claimed_id":"http://specs.openid.net/auth/2.0/identifier_select","openid.identity":"http://specs.openid.net/auth/2.0/identifier_select","openid.mode":"checkid_setup","openid.ns":"http://specs.openid.net/auth/2.0","openid.pape.max_auth_age":0,"openid.return_to":f.location.href};return"/ap/signin"+this.buildQueryString(b)},extractContentURL:function(b){var a=/url\("(.*)"\)/mg.exec(b);try{return a[1]}catch(g){throw Error("Failed to parse url from content ("+b+").");}},metrics:{timer:function(b,
a){f.ue&&f.ue.count&&f.ue.count(b,new Date-a)},addOne:function(b){f.ue&&f.ue.count&&f.ue.count(b,1)}}}});e.when("ready").register("s-live-chat-constants",function(){return{COMPONENT_NAME:"s-fab-component-livechatsupport",FAB_CONTAINER_SELECTOR:"#s-fab-container-livechatsupport",UNAUTHORIZED_ERROR:401,NOT_FOUND_ERROR:404,HUDDLE_ID_GET_OR_CREATE_FETCH_ENDPOINT:"/prepurchase/chat",HUDDLE_ID_GET_EXISTING_FETCH_ENDPOINT:"/prepurchase/chat/existing",RESOLVE_CHAT_ENDPOINT:"/prepurchase/chat/resolve",NEW_HUDDLE:"NEW_HUDDLE",
EXISTING_HUDDLE:"EXISTING_HUDDLE",HUDDLES_THEME:{chat_view__background:"#f5ffff",chat_view__gradient:"#e2e9e9",chat_header__background:"#1196AB",message__background__outgoing:"#007185",my_component__border:"#555555",announcement__background:"unset",announcement__align_items:"flex-start"},QUERY_PARAMETERS:{ASIN:"asin",PRIME:"isPrime",POSTAL_CODE:"postalCode",SEARCH_QUERY:"searchQuery",TITLE:"title",REFERRING_PAGE:"referringPage",CETECH_LIVE_CHAT_PREQUALIFIERS_443376:"CETECH_LIVE_CHAT_PREQUALIFIERS_443376"},
SELECTORS:{ASIN:"#fab_asin",IS_PRIME:"#fab_isPrimeCustomer",POSTAL_CODE:"#fab_customerZipCode",SEARCH_QUERY:"#fab_searchQuery",TITLE:"#fab_title"},METRICS:{TIMERS:{FETCH_HUDDLE_FETCH_TIME:"s-fab-lcs-ft"},COUNTERS:{FAB_RENDER_FAILURE:"s-fab-lcs-frf",FETCH_HUDDLE_ID_NOT_OK:"s-fab-lcs-fin",FETCH_HUDDLE_ID_NOT_FOUND:"s-fab-lcs-finf",FETCH_HUDDLE_ID_OK:"s-fab-lcs-fio",FETCH_HUDDLE_ID_NOT_AUTHORIZED:"s-fab-lcs-fina",FETCH_HUDDLE_ID_THROTTLED:"s-fab-lcs-fit",FETCH_HUDDLE_ID_THROTTLED_WHILE_VISIBLE:"s-fab-lcs-fitv",
RESOLVE_OK:"s-fab-lcs-frok",RESOLVE_NOT_OK:"s-fab-lcs-frnok"}}}});e.declare("s-fab-live-chat-flags",{hoverHintEnabled:!0,statusBadgeEnabled:!0});e.when("huddles-init-2.0","s-fab-component-livechatsupport","load").execute(function(b){b.initialize();e.when("A","s-fab-controller","s-live-chat-constants","s-fab-live-chat-flags","s-fab-utilities","huddles-chatbox-2.0","s-live-chat-weblabs","load","ready").register("s-prepurchase-chat",function(a,b,c,e,h,r,q){var g=0;b.setOnComponentRegistered(function(){function v(){g=
0;b.setUnreadMessageCount(g)}function t(e){var g=e.onError,f=e.onSuccess,n=e.onComplete;e=e.type===c.NEW_HUDDLE?c.HUDDLE_ID_GET_OR_CREATE_FETCH_ENDPOINT:c.HUDDLE_ID_GET_EXISTING_FETCH_ENDPOINT;z=new Date;a.ajax(e+u,{method:"get",success:function(a){var e=a.huddle_id;h.metrics.timer(c.METRICS.TIMERS.FETCH_HUDDLE_FETCH_TIME,z);e?(h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_OK),r.renderHuddleChat({huddleId:e,showEmbedded:!0,container:b.getElements().$contentContainer,theme:c.HUDDLES_THEME}),
f&&f(a),n&&n()):b.isVisible()?(h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_THROTTLED_WHILE_VISIBLE),g&&g()):h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_THROTTLED)},error:function(a){a.http.status===c.UNAUTHORIZED_ERROR?h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_AUTHORIZED):a.http.status===c.NOT_FOUND_ERROR?h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_FOUND):h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_OK);g&&g(a.http.status);n&&n()}})}var z,u="",
m={};r.subscribeToMessageReceived&&r.subscribeToMessageReceived({handler:function(a){!b.isOpen()&&e.statusBadgeEnabled&&(g+=a,b.setUnreadMessageCount(g))},filters:{slotFilter:function(a){return"MESSAGE"===a}}});m[c.QUERY_PARAMETERS.ASIN]=a.$(c.SELECTORS.ASIN).val()||"";m[c.QUERY_PARAMETERS.PRIME]=a.$(c.SELECTORS.IS_PRIME).val()||"";m[c.QUERY_PARAMETERS.POSTAL_CODE]=a.$(c.SELECTORS.POSTAL_CODE).val()||"";m[c.QUERY_PARAMETERS.SEARCH_QUERY]=a.$(c.SELECTORS.SEARCH_QUERY).val()||"";m[c.QUERY_PARAMETERS.TITLE]=
a.$(c.SELECTORS.TITLE).val()||"";m[c.QUERY_PARAMETERS.REFERRING_PAGE]=btoa(document.referrer);m[c.QUERY_PARAMETERS.CETECH_LIVE_CHAT_PREQUALIFIERS_443376]=q.CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT;try{r.closeChatbox()}catch(n){}u=h.buildQueryString(m);t({type:c.EXISTING_HUDDLE,onSuccess:function(a){a.engaged&&b.expandContentPane();b.registerOnOpenHandler(v)},onError:function(){b.registerOnOpenHandler(function(){t({type:c.NEW_HUDDLE,onSuccess:function(){b.registerOnOpenHandler(v);f.ue&&ue.trigger&&
ue.trigger(c.QUERY_PARAMETERS.CETECH_LIVE_CHAT_PREQUALIFIERS_443376,q.CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT)},onError:function(a){a&&a===c.UNAUTHORIZED_ERROR&&(a=h.buildSignInURL(),f.location.href=a)}})})},onComplete:function(){b.showComponent();b.hoverHintEnabled()&&!b.isOpen()&&b.showHoverHint()}});b.registerOnControlCloseHandler(function(){a.ajax(c.RESOLVE_CHAT_ENDPOINT,{method:"get",success:function(){h.metrics.addOne(c.METRICS.COUNTERS.RESOLVE_OK)},error:function(a){a.http.status===
c.NOT_FOUND_ERROR?b.minimizeContentPane():h.metrics.addOne(c.METRICS.COUNTERS.RESOLVE_NOT_OK)}})})})})});e.when("A","s-fab-component-registration","s-fab-live-chat-flags","fab-page-type","ready").register("s-fab-register-component-for-selector",function(b,a,g,c){return function(f){var h=function(){a.setup({elem:function(){return f}},f,g)};"Detail"===c&&(h(),e.register("s-fab-component-livechatsupport"),b.on("a:pageUpdate",b.debounce(function(){h()},750)))}});e.when("A","s-fab-register-component-for-selector",
"s-fab-constants","s-fab-utilities").register("s-fab-validate-and-register-component",function(b,a,g,c){return function(f,h){b.$(f).length&&(b.$(g.FAB_EMPTY_SELECTOR).length?(c.metrics.addOne(h.COUNTERS.FAB_RENDER_FAILURE),e.register("s-fab-component-render-failure")):a(f))}});e.when("s-fab-validate-and-register-component","s-live-chat-constants").execute(function(b,a){b(a.FAB_CONTAINER_SELECTOR,a.METRICS)});e.when("s-fab-validate-and-register-component","s-fab-constants").execute(function(b,a){b(a.FAB_CONTAINER_SELECTOR,
a.METRICS)});e.when("ready").register("s-live-chat-weblabs",function(){return{CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT:"C"}})});
/* ******** */
(function(c){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,d=n?n("FloatingActionButtonWidgetAssets",""):m;d.guardFatal?d.guardFatal(c)(d,window):d.execute(function(){c(d,window)})})(function(c,m,n){c.when("ready").register("s-fab-dynamic-comparison-constants",function(){return{COMPONENT_NAME:"s-fab-component-dynamiccomparison",FAB_CONTAINER_SELECTOR:"#s-fab-container-dynamiccomparison",SELECTORS:{ITEM_COUNT:"#fab_itemCount"},METRICS:{COUNTERS:{FAB_RENDER_FAILURE:"s-fab-dc-frf"}}}});
c.declare("s-fab-dynamic-comparison-flags",{hoverHintEnabled:!1,statusBadgeEnabled:!0});c.when("A","s-fab-controller","s-fab-dynamic-comparison-constants","s-fab-component-dynamiccomparison","load","ready").register("s-fab-dynamic-comparison",function(c,a,b){var e=0;a.setOnComponentRegistered(function(){a.registerOnOpenHandler(function(){a.getElements().$button.removeClass("s-fab-dc-button-closed");a.getElements().$button.addClass("s-fab-dc-button-open")});a.registerOnCloseHandler(function(){a.getElements().$button.removeClass("s-fab-dc-button-open");
a.getElements().$button.addClass("s-fab-dc-button-closed")});e=c.$(b.SELECTORS.ITEM_COUNT).val()||0;a.setUnreadMessageCount(e);a.showComponent()})});c.when("A","rush-framework","s-fab-dynamic-comparison-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-dynamic-comparison-flags","ready").execute(function(d,a,b,e,l,f,k){d.$(b.FAB_CONTAINER_SELECTOR).length&&(d.$(e.FAB_EMPTY_SELECTOR).length?(l.metrics.addOne(b.METRICS.COUNTERS.FAB_RENDER_FAILURE),c.register("s-fab-component-render-failure")):
(a.registerComponent(b.COMPONENT_NAME,b.COMPONENT_NAME,function(a){f.setup(a,b.FAB_CONTAINER_SELECTOR,k)}),c.register("s-fab-component-dynamiccomparison")))});c.when("A","rush-framework","s-live-chat-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-live-chat-flags","ready").execute(function(d,a,b,e,l,f,k){d.$(b.FAB_CONTAINER_SELECTOR).length&&!d.$(e.FAB_EMPTY_SELECTOR).length&&(a.registerComponent(b.COMPONENT_NAME,b.COMPONENT_NAME,function(a){f.setup(a,b.FAB_CONTAINER_SELECTOR,
k)}),c.register("s-fab-component-livechatsupport"))});c.when("ready").register("s-jeeves-chat-constants",function(){return{COMPONENT_NAME:"s-fab-component-jeeveschatsupport",FAB_CONTAINER_SELECTOR:"#s-fab-container-jeeveschatsupport",JEEVES_FAB_TOGGLE_ICON_CLASS:"jeeves-fab-toggle-button-image",JEEVES_FAB_HOVER_HINT_CLOSE_IMAGE_CLASS:"jeeves-fab-hover-hint-close-image",JEEVES_FAB_CHAT_BUTTON_IMAGE_CLASS:"jeeves-fab-chat-button-image",UNAUTHORIZED_ERROR:401,NOT_FOUND_ERROR:404,STATUS_OK:200,CREATE_HUDDLE_FROM_INGRESS_FETCH_ENDPOINT:"/huddles-api/v1/huddles/JEEVES/new",
SELECTORS:{SEARCH_QUERY:"#fab_searchQuery",PRODUCT_CATEGORY:"#fab_productCategory"},METRICS:{TIMERS:{FETCH_HUDDLE_FETCH_TIME:"s-fab-jcs-ft"},COUNTERS:{FETCH_HUDDLE_ID_NOT_OK:"s-fab-jcs-fin",FETCH_HUDDLE_ID_NOT_FOUND:"s-fab-jcs-finf",FETCH_HUDDLE_ID_OK:"s-fab-jcs-fio",FETCH_HUDDLE_ID_NOT_AUTHORIZED:"s-fab-jcs-fina",FAB_RENDER_FAILURE:"s-fab-jcs-frf"}}}});c.declare("s-fab-jeeves-chat-flags",{hoverHintEnabled:!0,statusBadgeEnabled:!0});c.when("huddles-init-2.0","s-fab-component-jeeveschatsupport").execute(function(d){d.initialize();
c.when("A","s-fab-controller","s-jeeves-chat-constants","s-fab-utilities","huddles-chatbox-2.0","s-fab-unread-badging-flag","s-fab-constants","ready").register("s-jeeves-chat",function(a,b,c,d,f,k,u){var e=0;b.setOnComponentRegistered(function(){function l(a,c,b){a.subscribeToMessageReceived({handler:function(a){!c.isOpen()&&b.enabled&&(e+=a,c.setUnreadMessageCount(e))},filters:{messageFilter:function(a){return"MESSAGE"===a.slot&&a.timestamp>x}}})}function n(b){var e=b.onError,g=b.onSuccess,f=b.onComplete,
k=new Date;a.ajax(c.CREATE_HUDDLE_FROM_INGRESS_FETCH_ENDPOINT,{method:"post",params:b.huddleData,contentType:"application/json; charset\x3dutf-8",paramsFormat:"json",success:function(a){d.metrics.timer(c.METRICS.TIMERS.FETCH_HUDDLE_FETCH_TIME,k);g&&g(a);f&&f()},error:function(a){e&&e(a.http.status);f&&f()}})}function v(){var a=document.getElementsByClassName("jeeves-error-fallback")[0];a&&a.classList.add("aok-hidden")}function p(){r&&clearTimeout(r);r=a.delay(function(){h=null},150);h?b.isOpen()&&
500<=Date.now()-h&&(b.minimizeContentPane(),a.off(a.constants.BROWSER_EVENTS.SCROLL,p),a.$(document).unbind("click",q),h=null):h=Date.now()}function q(c){document.querySelector(u.FAB_WRAPPER_SELECTOR)&&!document.querySelector(u.FAB_WRAPPER_SELECTOR).contains(c.target)&&(b.minimizeContentPane(),a.off(a.constants.BROWSER_EVENTS.SCROLL,p),a.$(document).unbind("click",q))}var y=a.$(c.SELECTORS.SEARCH_QUERY).val()||"",z=a.$(c.SELECTORS.PRODUCT_CATEGORY).val()||"",w,t=!1,x=(new Date).getTime(),h=null,r=
null;try{f.closeChatbox()}catch(g){}b.showComponent();b.registerOnOpenHandler(function(){var g=document.getElementsByClassName("jeeves-spinner ")[0],h=document.getElementsByClassName("jeeves-error-fallback")[0];e=0;b.setUnreadMessageCount(e);a.on(a.constants.BROWSER_EVENTS.SCROLL,p);a.$(document).click(q);t||(h&&h.classList.add("aok-hidden"),g&&g.classList.remove("aok-hidden"),w={ingressContext:JSON.stringify({searchQuery:y,productCategory:z})},n({huddleData:w,onSuccess:function(a){a=a.id;t=!0;d.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_OK);
f.renderHuddleChat({huddleId:a,showEmbedded:!0,container:b.getElements().$contentContainer,skin:"SKY",chatPlatformType:"HYBRID_CHATBOT_AMAZON_CONNECT"});l(f,b,k)},onError:function(a){a&&a===c.UNAUTHORIZED_ERROR?(d.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_AUTHORIZED),a=d.buildSignInURL(),m.location.href=a):(a===c.NOT_FOUND_ERROR?d.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_FOUND):d.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_OK),h&&(g&&g.classList.add("aok-hidden"),
h.classList.remove("aok-hidden")))},onComplete:function(){t&&g&&g.classList.add("aok-hidden")}}))});b.registerOnCloseHandler(function(){v();a.off(a.constants.BROWSER_EVENTS.SCROLL,p);a.$(document).unbind("click",q)});b.registerOnControlCloseHandler(function(){v();b.minimizeContentPane();a.off(a.constants.BROWSER_EVENTS.SCROLL,p);a.$(document).unbind("click",q)})})})});c.when("A","rush-framework","s-jeeves-chat-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-jeeves-chat-flags",
"ready").execute(function(d,a,b,e,l,f,k){d.$(b.FAB_CONTAINER_SELECTOR).length&&(d.$(e.FAB_EMPTY_SELECTOR).length?(l.metrics.addOne(b.METRICS.COUNTERS.FAB_RENDER_FAILURE),c.register("s-fab-component-render-failure")):(a.registerComponent(b.COMPONENT_NAME,b.COMPONENT_NAME,function(a){f.setup(a,b.FAB_CONTAINER_SELECTOR,k)}),c.register("s-fab-component-jeeveschatsupport")))})});
/* ******** */
(function(g){var k=window.AmazonUIPageJS||window.P,m=k._namespace||k.attributeErrors,f=m?m("NileInlineCustomerExperienceWidgetCommonAssets",""):k;f.guardFatal?f.guardFatal(g)(f,window):f.execute(function(){g(f,window)})})(function(g,k,m){g.now("nile-inline-error-chunk-handler").execute(function(f){f||g.when("A","nile-inline-loader-utils","nile-inline-element-prefix-utils","ready").register("nile-inline-error-chunk-handler",function(d,b,a){return{handleChunk:function(e,g){var c=a.prefixed("nile-inline-hidden");
if(d.$(a.prefixedId("nile-inline-answer-generic-error")).hasClass(c)){b.hideLoader();b.hideTrailingLoader();var h=a.prefixedId("nile-inline-answer-container");d.$(h).removeClass(c);h=a.prefixedId("nile-inline-answer-text-container-error");d.$(h).removeClass(c);d.$(h).addClass(a.prefixed("nile-inline-text-container-collapsed-error"));var f=a.prefixedId("nile-inline-ai-generated-label");"sensitive_chunk"===g?d.$(f).addClass(c):d.$(f).removeClass(c);d.$(h).html(e)}}}})});g.now("nile-inline-feedback-chunk-handler").execute(function(f){f||
g.when("A","nile-inline-element-prefix-utils","nile-inline-feedback-actions","ready").register("nile-inline-feedback-chunk-handler",function(d,b,a){return{handleChunk:function(e){e=d.$(e);d.$(b.prefixedId("nile-inline-feedback-container")).html(e);a.showFeedback();return e}}})});g.now("nice-srp-utils").execute(function(f){f||g.when("A","ready").register("nice-srp-utils",function(d){function b(l,a){l=(l||"").split(".").map(Number);for(a=(a||"").split(".").map(Number);l.length<a.length;)l.push(0);for(;a.length<
l.length;)a.push(0);for(var c=0;c<l.length;++c)if(l[c]!==a[c])return l[c]>a[c]?1:-1;return 0}function a(){var a=c();return"Amazon"===a.name||"Amazon.com"===a.name}var e=d.$,f=[],c=function(){var a;return function(){if(!a){var c=document.cookie.match(/(?:^|;)\s*amzn-app-id\s*=\s*([^\s;]+)/);c=c?c[1].split("/"):[];var b=/(?:^|;)\s*micron\s*=\s*1\s*(?:$|;)/.test(document.cookie);a={name:c[0],version:c[1],isMicron:b}}return a}}(),h=function(){var a;return function(){if(!a){var c=document.cookie.match(/(?:^|;)\s*session-id\s*=\s*([^\s;]+)/);
c&&(a=c[1])}return a}}(),g=function(){var a;return function(){if(!a){var c=document.cookie.match(/(?:^|;)\s*amzn-app-ctxt\s*=\s*\d\.\d?\s*([^\s;]+)/);if(c)try{a=JSON.parse(decodeURIComponent(c[1]))}catch(n){}}return a}}();return{getAppInfo:c,getAppSessionId:h,getAppContext:g,makeIdempotent:function(a){var c=!1;return function(){c||(a.apply(this,arguments),c=!0)}},makeRateLimited:function(a,c){var b=!1,d=e.extend(!0,{},{minPeriodInMilliseconds:2E3},c);return function(){b||a.apply(this,arguments);b=
!0;setTimeout(function(){b=!1},d.minPeriodInMilliseconds)}},idempotentDeclarative:function(a,c,b){function e(a,c,b){var e;d.declarative(a,c,function(a){e===m&&(e=a.type);a.type===e&&b(a)})}var h=a+c;f[h]||("click touchstart"===c||"touchstart click"===c?e(a,c,b):d.declarative(a,c,b),f[h]=!0)},goToUrl:function(a){k.location.href=a},isMshop:a,isAppXSupported:function(){var e=c();return a()&&e.version&&!e.isMicron?Number(e.version.split(".")[0])%2?0<=b(e.version,"15.11"):0<=b(e.version,"20.8"):!1},truncateURIComponent:function(a,
c,b){if(!a||encodeURIComponent(a).length<=c)return a;b=b||"…";c-=encodeURIComponent(b).length;for(var e="",d=0,h=a.length-1;d<=h;){var f=Math.floor((h+d)/2),g=a.slice(0,f);encodeURIComponent(g).length<=c?(e=g,d=f+1):h=f-1}return e+b},decodeHtmlEntities:function(a){var c=document.createElement("textarea");c.innerHTML=a;return c.value}}})});g.now("nile-inline-csm").execute(function(f){f||g.when("A","ready").register("nile-inline-csm",function(){function d(b,a,e){"function"===typeof uet&&(e?uet(b,a,
{wb:1},e):uet(b,a,{wb:1}))}return{recordRequestStart:function(b,a){"string"===typeof b&&b.trim()&&d("bb",b,a)},recordFirstInferenceLatency:function(b){"string"===typeof b&&b.trim()&&(d("be",b),"function"===typeof uex&&uex("ld",b,{wb:1}))},recordCsmCount:function(b){ue.count(b,1)}}})});g.now("nile-inline-csrf").execute(function(f){f||g.when("A","ready").register("nile-inline-csrf",function(d){return{getRawCsrfToken:function(b){return d.$(b).find("input[name\x3danti-csrftoken-a2z]").val()}}})});g.now("nile-inline-element-prefix-utils").execute(function(f){f||
g.when("ready").register("nile-inline-element-prefix-utils",function(){var d="";return{setupElementPrefix:function(b){d=b+"-"},prefixed:function(b){return d+b},prefixedId:function(b){return"#"+d+b}}})});g.now("nile-inline-loader-utils").execute(function(f){f||g.when("A","nile-inline-element-prefix-utils","ready").register("nile-inline-loader-utils",function(d,b){return{showTrailingLoader:function(){var a=b.prefixed("nile-inline-hidden");var e=b.prefixedId("nile-inline-feedback-container");(e=!d.$(e).hasClass(a)&&
0<d.$(e).children().length)||(e=b.prefixedId("nile-inline-answer-generic-error"),e=!d.$(e).hasClass(a)&&0<d.$(e).children().length);e||(e=b.prefixedId("nile-inline-answer-text-container-error"),e=!d.$(e).hasClass(a)&&0<d.$(e).children().length);e||d.$(b.prefixedId("nile-trailing-loader")).removeClass(a)},hideTrailingLoader:function(){var a=b.prefixed("nile-inline-hidden");d.$(b.prefixedId("nile-trailing-loader")).addClass(a)},showLoader:function(){var a=b.prefixed("nile-inline-hidden");d.$(b.prefixedId("nile-inline-data-container")).removeClass(a);
d.$(b.prefixedId("nile-inline-loader-spinner")).removeClass(a)},hideLoader:function(){var a=b.prefixed("nile-inline-hidden");d.$(b.prefixedId("nile-inline-loader-spinner")).addClass(a);d.$(b.prefixedId("nile-inline-data-container")).addClass(a)}}})});g.now("nile-inline-state-manager").execute(function(f){f||g.when("A","nile-inline-element-prefix-utils","ready").register("nile-inline-state-manager",function(d,b){function a(){return b.prefixed("nice-state")}return{getState:function(){return d.state(a())},
setState:function(b){d.state.replace(a(),b)},extend:function(b){d.state(a(),b)}}})});g.now("nile-inline-uuid-generator").execute(function(f){f||g.when("A","ready").register("nile-inline-uuid-generator",function(d){return{generateUuid:function(){function b(){var a=new Uint32Array(4);k.crypto.getRandomValues(a);var b=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){b++;var e=a[b>>3]>>b%8*4&15;return("x"===c?e:e&3|8).toString(16)})}function a(){function a(){return Math.floor(65536*
(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}return function(){return"undefined"!=typeof k.crypto&&"undefined"!=typeof k.crypto.getRandomValues?b():a()}}()}})});g.now("nile-inline-event-stream-builder").execute(function(f){f||g.when("A","jQuery","ready").register("nile-inline-event-stream-builder",function(d,b){function a(a){this.url=a;this.eventListeners={};this.connectionSuccessfullyClosedCallback=this.errorCallback=this.httpRequest=m}function e(a){var c=
a.newMessage();return function(b,d){if(0===b.length){if(c.type in a.eventListeners)a.eventListeners[c.type](c);c=a.newMessage()}else if(0<d){var e=b.slice(0,d);b=b.slice(d+(" "===b[d+1]?2:1));switch(e){case "data":c.data=c.data?c.data+"\n"+b:b;break;case "event":c.type=b;break;case "id":c.lastEventId=b;break;case "retry":e=parseInt(b,10),isNaN(e)||(c.retry=e,a.retryCallback(c.retry))}}}}function f(a){var c=0,b=-1,d=!1;return function(e){for(var f=e.length,g=c;c<f;){d&&"\n"===e[c]&&(g=++c);for(var h=
-1;c<f&&-1===h;++c)switch(e[c]){case ":":-1===b&&(b=c-g);break;case "\r":d=!0;h=c;break;case "\n":h=c}if(-1===h)break;a(e.slice(g,h),b);g=c;b=-1}g!==f&&0!==g&&(c=g)}}a.prototype.addEventListener=function(a,b){this.eventListeners[a]=b};a.prototype.setErrorCallback=function(a){this.errorCallback=a};a.prototype.setConnectionSuccessfullyClosedCallback=function(a){this.connectionSuccessfullyClosedCallback=a};a.prototype.newMessage=function(){return{lastEventId:"",type:"",data:""}};a.prototype.isSuccessfulStatusCode=
function(a){return 0===a||200<=a&&300>a};a.prototype.buildRequestStageChangeCallback=function(a){return function(){switch(a.httpRequest.readyState){case XMLHttpRequest.DONE:a.isSuccessfulStatusCode(a.httpRequest.status)?a.connectionSuccessfullyClosedCallback!==m&&a.connectionSuccessfullyClosedCallback():a.errorCallback!==m&&a.errorCallback()}}};a.prototype.buildOnProgressCallback=function(a,b){return function(){b(a.httpRequest.responseText)}};a.prototype.retryCallback=function(a){};a.prototype.startPostStream=
function(a,b,d){var c=f(e(this));this.httpRequest=new XMLHttpRequest;this.httpRequest.onreadystatechange=this.buildRequestStageChangeCallback(this);this.httpRequest.onprogress=this.buildOnProgressCallback(this,c);this.httpRequest.ontimeout=this.errorCallback;this.httpRequest.onerror=this.errorCallback;this.httpRequest.open("POST",this.url,!0);this.httpRequest.timeout=d;this.httpRequest.setRequestHeader("accept","text/event-stream");this.httpRequest.setRequestHeader("Content-Type","application/json");
this.httpRequest.setRequestHeader("anti-csrftoken-a2z",b);this.httpRequest.send(JSON.stringify(a))};a.prototype.close=function(a){this.httpRequest.onerror=function(){};this.httpRequest.abort()};return{buildStreamingEndpointCall:function(b){return new a(b)}}})});g.now("nile-inline-collapse-bottom-sheet").execute(function(f){f||g.when("A","nile-inline-element-prefix-utils").register("nile-inline-collapse-bottom-sheet",function(d,b){return{registerCollapseBottomSheetActions:function(){var a=b.prefixed("nile-inline-widget");
a=d.$("[data-component-type\x3d"+a+"]");if(1===a.length||1===a.parent().length){a=a.parent()[0];var e=!1;(new IntersectionObserver(function(a){e?a[0].isIntersecting?g.when("mash").execute(function(a){a.dispatchEvent({type:"nice:inViewPort"})}):g.when("mash").execute(function(a){a.dispatchEvent({type:"nice:outViewPort"})}):e=!0},{threshold:.05})).observe(a)}}}})})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,b=d?d("NileEventsJavascriptLibrary",""):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,d){a.when("TriggerRequestTypeMap","NileEventsConstants").register("DispatchNileConversationEvent",function(b,a){return{dispatchEvent:function(c,f,g,e,h){if("string"!==typeof f||""===f.trim())throw Error("Invalid query: Must be a non-empty string");if(a[g]===d)throw Error("Invalid qis: Provided qis is not supported: "+
g);if(a[e]===d||b[e]===d)throw Error("Invalid triggerRequest: Provided triggerRequest is not supported: "+e);c.dispatchEvent({type:b[e],detail:{query:f,actionType:a.NILE_ACTION_TYPE,actionId:a[e],payload:{qis:a[g],triggerRequest:a[e],searchRequestId:h}}})}}});"use strict";a.when("NileEventsConstants").register("TriggerRequestTypeMap",function(a){return{TRENDING_RELATED_QUESTION:"savx:action"}});"use strict";a.register("NileEventsConstants",function(){return{TRENDING_RELATED_QUESTION:"TRENDING_RELATED_QUESTION",
QIS_NILE_ADS_TRENDING_RELATED_QUESTION:"NileAdsTrendingRelatedQuestion",NILE_ACTION_TYPE:"INVOKE_NILE_BACKEND_API"}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("NileInlineCustomerExperienceWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(h){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,p=n?n("InlineExpansionSlotAssets",""):m;p.guardFatal?p.guardFatal(h)(p,window):p.execute(function(){h(p,window)})})(function(h,m,n){var p;h.when("A","rush-dispatcher","ies-slot-utils","ies-helper-utils-ccx","ies-ajax-utils","ies-csm-logger-utils","ies-events","ies-constants","ready").register("ajax-ies",function(a,b,c,e,g,f,k,d){function r(f){if(null!==f.ajaxUrl&&0<=f.ajaxUrl.indexOf(d.ALM_BRAND_ID))u=d.ALM_USE_CASE,
y=!1,A=!0;else return u=e.identifyAndSetUseCase(f)}function l(){if(u===d.ALM_USE_CASE)return d.VIEWPORT_WIDTH_PARAMETER+m.innerWidth}function B(b,a){var e;if((!A||!E)&&b&&a){(e=document.querySelector(d.HIDDEN_IES_SELECTOR))&&e.remove();p=document.documentElement.clientWidth;q=document.querySelector(d.BASE_SELECTOR);w=b.closest("."+d.ASIN_CARD_SELECTOR).get(0);if(q){a:{b=d.SLOT_NAME_CLASS_PATTERN;var x;if(q)for(e=q.classList,x=0;x<e.length;x++){var r=e[x];if(r!==d.OPEN_INLINE_ANIMATION&&r&&0===r.indexOf(b)){b=
r;break a}}b=null}if(b&&a.name&&b===a.name)return;if(c.doesSlotExistInRow(q,w)){e=q;e.classList.remove(b);e.classList.add(a.name);c.removeContent(e);c.showPlaceholder(e);a.ajaxUrl+=l();g.retrieveContent({data:a,slotElement:e,contentSelector:d.CONTENT_SELECTOR,placeHolderSelector:d.PLACEHOLDER_SELECTOR,errorSelector:d.ERROR_SELECTOR,slotAfterHideEvent:k.INLINE_EXPANSION_SLOT_AFTER_CLOSE,metricPrefix:a.metricPrefix,useCaseIdentifier:u});return}}t=c.createSlot(a.name,a.metricPrefix,u);F&&a.sheetHeight&&
c.setSlotHeight(d.BASE_SELECTOR_ID,a.sheetHeight);null!==t?(a.ajaxUrl+=l(),g.retrieveContent({data:a,slotElement:t,contentSelector:d.CONTENT_SELECTOR,placeHolderSelector:d.PLACEHOLDER_SELECTOR,errorSelector:d.ERROR_SELECTOR,slotAfterHideEvent:k.INLINE_EXPANSION_SLOT_AFTER_CLOSE,metricPrefix:a.metricPrefix,useCaseIdentifier:u}),v=c.detectRow(w),n=v[0],1<v.length?(G=v[0].getBoundingClientRect(),H=v[v.length-1].getBoundingClientRect(),z=u===d.ALM_USE_CASE?p:H.right-G.left):z=v[0].getBoundingClientRect().width,
c.moveSlot(t,n,z),A&&(E=!0)):f.logCsmCounter(a.metricPrefix+d.SLOT_CREATION_FAILURE_METRIC_SUFFIX,1)}}function C(){function b(b){var f=b.slotToShow;b=b.selectedCard;c.moveSlot(f,n,z);y&&b.scrollIntoView({behavior:"smooth"});c.showSlot(f)}t?q?c.hideSlotThenScroll({slotToClose:q,slotToShow:t,selectedCard:w,callback:b}):(y&&w.scrollIntoView({behavior:"smooth"}),c.showSlot(d.BASE_SELECTOR)):null===t&&q&&y&&w.scrollIntoView({behavior:"smooth"});t=null}var q,F=!1,n,G,H,v,z,w,t,u="",y=!0,A=!1,E=!1;a.declarative("inline-expansion-slot-open-action",
"click",function(b){b&&(r(b.data),B(b.$target,b.data))});b.on("search-add-to-cart:success",C);a.on("puis:add-to-cart-button:add:success:fresh",C);a.on("puis:add-to-cart-button:add:success:retail",C);a.declarative("inline-expansion-slot-close-action","click",function(b){b=b.data.metricPrefix+d.CLOSE_BUTTON_METRIC_SUFFIX;c.hideSlot(d.BASE_SELECTOR);f.logCsmCounter(b,1)});a.declarative("puis-atcb-add-action-retail","click",function(k){var c=k.$currentTarget.context.parentElement,e,g=d.RETAIL_DECLARATIVE_ACTION_LISTENER_ERROR;
try{if(c)if((e=c.attributes.getNamedItem("data-action"))&&"inline-expansion-slot-open-action"===e.value&&k.$currentTarget){var l=a.parseJSON(k.$currentTarget.context.parentElement.attributes["data-inline-expansion-slot-open-action"].value);r(l);b.trigger(d.RETAIL_DISPATCHER_WEBLAB_SIGNAL);B(k.$currentTarget,l)}else c.classList.contains("mobile-ies-aps-ee-retail-is-swift-eligible")?b.trigger(d.RETAIL_DISPATCHER_WEBLAB_SIGNAL):c.classList.contains("mobile-ies-aps-ee-retail-is-ccs-eligible")&&b.trigger(d.RETAIL_CCS_DISPATCHER_WEBLAB_SIGNAL)}catch(D){h.log("Failed to trigger IES in APS. Error: "+
D,"ERROR","aps-ies-retail-atc-listner"),f.logCsmCounter("search-aps-inline-expansion-slot-"+g,1)}});a.declarative("puis-atcb-add-action-fresh","click",function(k){var c=k.$currentTarget.context.parentElement,e,g=d.ALM_DECLARATIVE_ACTION_LISTENER_ERROR;try{if(c){if((e=c.attributes.getNamedItem("data-action"))&&"inline-expansion-slot-open-action"===e.value&&k.$currentTarget){var l=a.parseJSON(k.$currentTarget.context.parentElement.attributes["data-inline-expansion-slot-open-action"].value);r(l);F=!0;
B(k.$currentTarget,l)}b.trigger(d.ALM_DISPATCHER_WEBLAB_SIGNAL)}}catch(D){h.log("Failed to trigger IES for APS ALM. Error: "+D,"ERROR","aps-ies-fresh-atc-listener"),f.logCsmCounter("search-aps-inline-expansion-slot-"+g,1)}})});h.when("A","ies-slot-utils","ies-constants","ready").execute(function(a,b,c){a.on("resize",function(){var a=document.querySelector(c.BASE_SELECTOR),g=document.documentElement.clientWidth;a&&g!==p&&b.hideSlot(a)})});"use strict";h.when("A","ies-constants","ies-translations").register("ies-slot-utils",
function(a,b,c){function e(b,a){b=b.getBoundingClientRect();a=a.getBoundingClientRect();return a.top===b.top&&a.bottom===b.bottom}var g=a.$;return{createSlot:function(f,k,d){var e=document.createElement("div");if(d===b.ALM_USE_CASE){d=b.TEMPLATE_INLINE_EXPANSION_SLOT_THREE_COL;var g=a.parseJSON(c.IES_STRING_TRANSLATIONS).resources.ies_close_button_aria_label.value;d=d.replace(b.CLOSE_ARIA_LABEL_PLACEHOLDER_REPLACEMENT_STRING,g)}else d=b.TEMPLATE_INLINE_EXPANSION_SLOT;d=d.replace(b.CLOSE_METRIC_PLACEHOLDER_REPLACEMENT_STRING,
k);e.id=b.BASE_SELECTOR_ID;e.className=b.BASE_SELECTOR_CLASSES;e.innerHTML=d;e.classList.add(f);document.body.appendChild(e);return e},moveSlot:function(b,a,d){a.insertAdjacentElement("afterend",b);b.style.width=d+"px"},showSlot:function(a){g(a).removeClass(b.HIDDEN_CLASS).removeClass(b.CLOSE_INLINE_ANIMATION).addClass(b.OPEN_INLINE_ANIMATION)},hideSlot:function(a){var f=g(a);f.hasClass(b.OPEN_INLINE_ANIMATION)&&(f.removeClass(b.OPEN_INLINE_ANIMATION).addClass(b.CLOSE_INLINE_ANIMATION),f.one("animationend oAnimationEnd webkitAnimationEnd",
function(){f.hasClass(b.CLOSE_INLINE_ANIMATION)&&(f.addClass(b.HIDDEN_CLASS),f.remove())}))},removeContent:function(a){a.querySelector("#"+b.CONTENT_SELECTOR).innerHTML=""},hideSlotThenScroll:function(a){var f=g(a.slotToClose);f.removeClass(b.OPEN_INLINE_ANIMATION).addClass(b.CLOSE_INLINE_ANIMATION);f.one("animationend oAnimationEnd webkitAnimationEnd",function(){f.hasClass(b.CLOSE_INLINE_ANIMATION)&&(f.addClass(b.HIDDEN_CLASS),f.remove(),a.callback(a))})},detectRow:function(a){for(var f=[],d=a.previousElementSibling,
c=a.nextElementSibling;null!==d;){if(g(d).hasClass(b.ASIN_CARD_SELECTOR))if(e(a,d))f.unshift(d);else break;d=d.previousElementSibling}for(f.push(a);null!==c;){if(g(c).hasClass(b.ASIN_CARD_SELECTOR))if(e(a,c))f.push(c);else break;c=c.nextElementSibling}return f},doesSlotExistInRow:function(a,c){if(a&&c)for(a=a.previousElementSibling;null!==a;){if(g(a).hasClass(b.ASIN_CARD_SELECTOR))return e(a,c);a=a.previousElementSibling}return!1},setSlotHeight:function(c,e){var d=a.$;d("#"+c).get(0).style.setProperty(b.MIN_HEIGHT_PROPERTY,
e+"px")},showPlaceholder:function(c){c=g(c).find("."+b.PLACEHOLDER_SELECTOR);a.show(c)},hidePlaceholder:function(c){c=g(c).find("."+b.PLACEHOLDER_SELECTOR);a.hide(c)}}});"use strict";h.when("A","ies-slot-utils","ies-helper-utils-ccx","ies-events","ies-csm-logger-utils","a-truncate","ies-constants","ready").register("ies-ajax-utils",function(a,b,c,e,g,f,k){function d(a){var b=document.createElement("div");b.innerHTML=a;a=b.getElementsByTagName("div");return Array.from(a).some(function(a){return"be"!==
a.id})}function m(l){var m=a.now();a.get(l.data.ajaxUrl,{timeout:k.HTTP_REQUEST_TIMEOUT,success:function(b){g.logCsmCounter(l.metricPrefix+k.AJAX_SUCCESS_METRIC_SUFFIX,1);g.logCsmCounter(l.metricPrefix+k.AJAX_SUCCESS_LATENCY_METRIC_SUFFIX,a.now()-m);var h=a.$,n=h(l.slotElement);h=n.find("#"+l.contentSelector);n=n.find("."+l.placeHolderSelector);c.shouldCallCcxUtils(l)?c.handleSuccessForCcx(b,l):(d(b)||g.logCsmCounter(l.metricPrefix+k.AJAX_SUCCESS_MISSING_HTML_RESPONSE_METRIC_SUFFIX,1),a.hide(n),h.html(b),
f.refreshAutoTruncate(),a.trigger(e.AJAX_CONTENT_REQUEST_SUCCESS))},error:function(c){var d=l.slotElement;h.log("Failed to get content. Error: "+c,"ERROR","container-ajax-slot");b.hideSlot(d);g.logCsmCounter(l.metricPrefix+k.AJAX_FAILURE_METRIC_SUFFIX,1);a.trigger(e.AJAX_CONTENT_REQUEST_ERROR)}})}return{retrieveContent:function(a){m(a)}}});"use strict";h.when("A","rush-dispatcher","ies-constants").register("s-ajax-ies-weblab-trigger",function(a,b,c){function e(b){var c;navigator&&navigator.sendBeacon?
(c=navigator.sendBeacon(b))||a.$.ajax({url:b}):a.$.ajax({url:b})}b.on("search-add-to-cart:start",function(){e(c.GSE_DENSE_GRID_OGS_WEBLAB_AJAX_TRIGGER_URL)});b.on(c.ALM_DISPATCHER_WEBLAB_SIGNAL,function(){e(c.GSE_DENSE_GRID_APS_WEBLAB_AJAX_TRIGGER_URL)});return{weblabTrigger:e}});"use strict";h.when("rush-dispatcher","ies-constants","s-ajax-ies-weblab-trigger").register("ies-helper-utils-ccx",function(a,b,c){a.on(b.RETAIL_DISPATCHER_WEBLAB_SIGNAL,function(){c.weblabTrigger(b.CCS_WEBLAB_AJAX_TRIGGER_URL)});
return{handleSuccessForCcx:function(a,b){},identifyAndSetUseCase:function(a){return""},shouldCallCcxUtils:function(a){return!1}}});h.when("ies-nexus-util").register("ies-csm-logger-utils",function(a){return{logCsmCounter:function(b,c){m.ue&&m.ue.count&&m.ue.count(b,c);a.emitCounterData("search:ies:",b,c)}}});"use strict";h.when("A").register("ies-nexus-util",function(a){var b={pageType:m.ue_pty};return{emitCounterData:function(c,e,g){null!==c&&c!==n&&null!==e&&e!==n&&null!==g&&g!==n&&(c={source:c,
counterName:e,counterValue:g},a.$.extend(c,b),m.ue&&m.ue.event&&m.ue.event(c,"cse-blr","cse.CounterData.3"))}}});"use strict";h.declare("ies-events",{AJAX_CONTENT_REQUEST_ERROR:"ajax-ies-error",AJAX_CONTENT_REQUEST_SUCCESS:"ajax-ies-success",INLINE_EXPANSION_SLOT_AFTER_CLOSE:"inlineExpansionSlot:afterHide:"});"use strict";h.declare("ies-constants",{ASIN_CARD_SELECTOR:"gsx-ies-anchor",CLOSE_METRIC_PLACEHOLDER_REPLACEMENT_STRING:"CLOSE_METRIC_PLACEHOLDER",CLOSE_ARIA_LABEL_PLACEHOLDER_REPLACEMENT_STRING:"CLOSE_ARIA_LABEL_PLACEHOLDER",
OPEN_INLINE_ANIMATION:"inline-expansion-slot-open-animation",CLOSE_INLINE_ANIMATION:"inline-expansion-slot-close-animation",MIN_HEIGHT_PROPERTY:"--min-open-height",BASE_SELECTOR:".inline-expansion-slot",BASE_SELECTOR_ID:"inline-expansion-slot",BASE_SELECTOR_CLASSES:"a-section a-spacing-none inline-expansion-slot aok-relative aok-hidden inline-expansion-slot-open-animation",TEMPLATE_INLINE_EXPANSION_SLOT:'    \x3cdiv id\x3d"inline-expansion-slot-content" class\x3d"a-section a-spacing-none inline-expansion-content"\x3e    \x3c/div\x3e    \x3cspan class\x3d"a-declarative"        data-action\x3d"inline-expansion-slot-close-action" data-csa-c-type\x3d"widget"        data-csa-c-func-deps\x3d"aui-da-inline-expansion-slot-close-action"        data-inline-expansion-slot-close-action\x3d"{\x26quot;metricPrefix\x26quot;:\x26quot;CLOSE_METRIC_PLACEHOLDER\x26quot;}"\x3e        \x3ca id\x3d"inline-expansion-close-button" href\x3d"javascript:void(0);" class\x3d"a-section a-spacing-none inline-expansion-slot-close-button"\x3e\x3c/a\x3e    \x3c/span\x3e    \x3cdiv class\x3d"inline-expansion-slot-placeholder puis-padding-left-small puis-padding-right-small"\x3e        \x3cdiv class\x3d"inline-expansion-slot-placeholder-element"\x3e\x3c/div\x3e        \x3cdiv class\x3d"inline-expansion-slot-placeholder-element"\x3e\x3c/div\x3e    \x3c/div\x3e',
TEMPLATE_INLINE_EXPANSION_SLOT_THREE_COL:'   \x3cdiv class\x3d"ies-wrapper"\x3e       \x3cdiv class\x3d"close-button-wrapper"\x3e          \x3cbutton class\x3d"a-sheet-close a-sheet-close-type-icon" aria-label\x3d"CLOSE_ARIA_LABEL_PLACEHOLDER"\x3e               \x3cspan id\x3d"inline-expansion-close-button" class\x3d"a-declarative ies-close-icon"               data-action\x3d"inline-expansion-slot-close-action" data-csa-c-type\x3d"widget"               data-csa-c-func-deps\x3d"aui-da-inline-expansion-slot-close-action"               data-inline-expansion-slot-close-action\x3d"{\x26quot;metricPrefix\x26quot;:\x26quot;CLOSE_METRIC_PLACEHOLDER\x26quot;}"\x3e               \x3c/span\x3e          \x3c/button\x3e       \x3c/div\x3e       \x3cdiv id\x3d"inline-expansion-slot-content" class\x3d"a-section a-spacing-none inline-expansion-content"\x3e       \x3c/div\x3e       \x3c/div\x3e   \x3c/div\x3e    \x3cdiv class\x3d"inline-expansion-slot-placeholder puis-padding-left-small puis-padding-right-small"\x3e        \x3cdiv class\x3d"inline-expansion-slot-placeholder-element-three-col"\x3e\x3c/div\x3e        \x3cdiv class\x3d"inline-expansion-slot-placeholder-element-three-col"\x3e\x3c/div\x3e        \x3cdiv class\x3d"inline-expansion-slot-placeholder-element-three-col"\x3e\x3c/div\x3e        \x3cdiv class\x3d"inline-expansion-slot-placeholder-element-three-col"\x3e\x3c/div\x3e        \x3cdiv class\x3d"inline-expansion-slot-placeholder-element-three-col"\x3e\x3c/div\x3e        \x3cdiv class\x3d"inline-expansion-slot-placeholder-element-three-col"\x3e\x3c/div\x3e       \x3c/div\x3e',
SLOT_NAME_CLASS_PATTERN:"inline-expansion-slot-",DATA_IES_OPEN_ACTION_ATTRIBUTE:"data-inline-expansion-slot-open-action",DATA_IES_CLOSE_ACTION_ATTRIBUTE:"data-inline-expansion-slot-close-action",HIDDEN_CLASS:"aok-hidden",SLOT_CREATION_FAILURE_METRIC_SUFFIX:"-slot-creation-failure-count",CLOSE_BUTTON_ID:"inline-expansion-close-button",CLOSE_BUTTON_SPAN_ID:"inline-expansion-slot-close-span",CLOSE_BUTTON_METRIC_SUFFIX:"-close-button-count",CLOSE_BUTTON_TIME_METRIC_SUFFIX:"-close-button-time",PLACEHOLDER_SELECTOR:"inline-expansion-slot-placeholder",
CONTENT_SELECTOR:"inline-expansion-slot-content",ERROR_SELECTOR:"inline-expansion-slot-ajax-error",OPEN_ACTION:"inline-expansion-slot-open-action",CLOSE_ACTION:"inline-expansion-slot-close-action",HIDDEN_IES_SELECTOR:".inline-expansion-slot-open-animation.aok-hidden",HTTP_REQUEST_TIMEOUT:3E3,AJAX_SUCCESS_METRIC_SUFFIX:"-ajax-success",AJAX_SUCCESS_MISSING_HTML_RESPONSE_METRIC_SUFFIX:"-ajax-success-missing-html-response",AJAX_SUCCESS_LATENCY_METRIC_SUFFIX:"-ajax-success-latency",AJAX_FAILURE_METRIC_SUFFIX:"-ajax-failure",
RETAIL_DECLARATIVE_ACTION_LISTENER_ERROR:"-retail-declarative-action-listener-error",ALM_DECLARATIVE_ACTION_LISTENER_ERROR:"-fresh-declarative-action-listener-error",CCS_SUCCESS_HANDLER_CALLED_METRIC_SUFFIX:"ccs-success-handler-called",CCS_HANDLER_SUCCESS_METRIC_SUFFIX:"ccs-success-handler-success",CCS_USE_CASE_IDENTIFIER_FOUND_METRIC_SUFFIX:"ccs-success-handler-found-ccs-use-case",CCS_USE_CASE_IDENTIFIER_NOT_FOUND_METRIC_SUFFIX:"ccs-success-handler-not-found-ccs-use-case",CCS_ACTUAL_NUM_WIDGETS_LESS_THAN_EXPECTED_METRIC_SUFFIX:"actual-num-widgets-less-than-expected",
CCS_RETURNED_EXPECTED_NUM_WIDGETS_METRIC_SUFFIX:"returned-expected-num-widgets",CCS_GRID_CARDS_WIDGET_COUNT_METRIC_SUFFIX:"grid-card-widget-count",CCS_EMPTY_RESPONSE_METRIC_SUFFIX:"received-empty-response",GSE_DENSE_GRID_OGS_WEBLAB_AJAX_TRIGGER_URL:"/ussx/weblab-trigger?weblabValue\x3dSEARCH_WWGS_OGS_ALM_PUIS_IES_DENSE_GRID_1090947",GSE_DENSE_GRID_APS_WEBLAB_AJAX_TRIGGER_URL:"/ussx/weblab-trigger?weblabValue\x3dSEARCH_WWGS_APS_ALM_PUIS_IES_DENSE_GRID_1149026",CCS_WEBLAB_AJAX_TRIGGER_URL:"/ussx/weblab-trigger?weblabValue\x3dSEARCH_SCX_CSE_893413",
CCS_EE_WEBLAB_AJAX_TRIGGER_URL:"/ussx/weblab-trigger?weblabValue\x3dSEARCH_SCX_CCS_IES_RECOMMENDATIONS_1055939",CCS_EE_CONTROL_WEBLAB_AJAX_TRIGGER_URL:"/ussx/weblab-trigger?weblabValue\x3dSEARCH_SCX_CCS_IES_RECOMMENDATIONS_1055939\x26treatment\x3dC",RETAIL_DISPATCHER_WEBLAB_SIGNAL:"search:retail:add_to_cart:submit-start",RETAIL_CCS_DISPATCHER_WEBLAB_SIGNAL:"search:retail:add_to_cart:submit-start:ccs_ies",ALM_DISPATCHER_WEBLAB_SIGNAL:"search:fresh:add_to_cart:submit-start",ALM_USE_CASE:"alm",ALM_BRAND_ID:"almBrandId",
VIEWPORT_WIDTH_PARAMETER:"\x26vpw\x3d",IES_CLOSE_BUTTON_ARIA_LABEL_A11Y:"ies_close_button_aria_label",GRADIENT_FRAME_CLASS_NAME:"inline-expansion-slot-gradient-frame",CAROUSEL_FRAME_CLASS_NAME:"inline-expansion-slot-carousel-frame",SCROLL_CLASS_NAME:"inline-expansion-slot-scroll",SCROLL_ITEM_OUTER_CLASS_NAME:"inline-expansion-slot-scroll-item-outer",SCROLL_ITEM_CLASS_NAME:"inline-expansion-slot-scroll-item"});"use strict";h.declare("ies-translations",{IES_STRING_TRANSLATIONS:' {   "resources" :    {        "ies_close_button_aria_label" : {          "value" : "Close",            "note" : "This text is to support accessibility for the close button in IES "        }    } }'})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ABSearchFilterAssets@rib",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchEventContainerWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(f){var d=window.AmazonUIPageJS||window.P,k=d._namespace||d.attributeErrors,g=k?k("RufusTeaserWidgetAssets",""):d;g.guardFatal?g.guardFatal(f)(g,window):g.execute(function(){f(g,window)})})(function(f,d,k){f.when("A","rush-framework","jQuery","nav.createTooltip","a-truncate","s-metadata","rufus-teaser-cx-selector-constants","rufus-handle-expand","csm-logger-util").register("nile-zenith-rufus-teaser-widget-component",function(g,n,c,b,w,p,e,y,a){function t(){var a=c(e.RUFUS_TEASER_CX_PILL_TEXT_TRUNCATE);
a.find(e.AUI_TRUNCATE_FULL).text(p.keywords);a.find(e.AUI_TRUNCATE_CUT).text(p.keywords)}function r(c){f.when("rufus-teaser-cx-bsr-teaser").execute("show-widget",function(){var b=!!document.querySelector(e.RUFUS_TEASER_CX_CONTAINER);b||a.logErrorWithLevel("Rufus Teaser CX has blank content",a.CSMLogLevel.INFO);b?c.fadeIn():(a.logErrorWithLevel("Rufus Teaser CX fade in API is being invoked and widget is blank.",a.CSMLogLevel.INFO),c.hide())})}function q(c,b){b===u.DISCOVERY?a.addCount(a.CSMCounterMetric.TEASER_DISCOVERY_PILL_INGRESS,
1):b===u.RECOVERY&&a.addCount(a.CSMCounterMetric.TEASER_RECOVERY_PILL_INGRESS,1);f.when("rufus-teaser-cx-bsr-teaser").execute(function(b){b=!0===b?c.prop("rid"):b||c.prop("rid");a.recordEventNexusMetric(b,a.NexusEventMetrics.TEASER_PILL_INGRESS);a.recordEventNexusMetric(b,a.NexusEventMetrics.PANEL_RESIZE,"teaser_to_expanded")})}var m=k,u={DISCOVERY:"discovery",RECOVERY:"recovery"};a.addCount(a.CSMCounterMetric.TEASER_REGISTER_COMPONENT,1);n.registerComponent("nile-zenith-rufus-teaser-widget-component",
"nile-zenith-rufus-teaser-widget-component",function(l){if(m!==k)a.logErrorWithLevel("Rufus Teaser Widget setup attempted multiple times - setupRufusTeaserWidgetComponent called when tooltip already exists",a.CSMLogLevel.INFO),a.addCount(a.CSMCounterMetric.TEASER_DUPLICATE_SETUP,1);else{var f=a.createCsaElement({nileRequestId:l.prop("rid")});a.sendCSA_BIMetric(f,a.RequestMarkers.RENDER_START);if("expanded"!==c(e.RUFUS_FLYOUT_DIV).attr("data-state")){var h=l.elem();h.parentNode&&h.parentNode.removeChild(h);
h.setAttribute("data-csa-c-type","widget");h.setAttribute("data-csa-c-slot-id","rufus-dsk-teaser-widget-component");h.setAttribute("data-csa-c-content-id","rufus-dsk-teaser-widget-component");h.setAttribute("data-csa-c-nile-request-id",l.prop("rid"));a.createCsaElement(h);var n=c(h),x=n.find(e.RUFUS_TEASER_CX_CONTAINER).removeClass(e.AOK_HIDDEN).end().prop(e.OUTER_HTML);if(x===k||null===x)a.logErrorWithLevel("Error when remove aok-hidden for element rufus-teaser-cx-container: "+JSON.stringify(h.outerHTML),
a.CSMLogLevel.INFO);else{m=b({name:"RufusTeaserWidgetFlyout",content:x,arrow:"top",className:e.RUFUS_TEASER_CX_NAV_TOOLTIP,timeout:1E4,align:{base:e.RUFUS_NAV_DISCO,from:"bottom left",to:"top left",constrainTo:e.RUFUS_NAV_DISCO}});m.onRender(function(){t();var b=w.get(e.RUFUS_TEASER_CX_PILL_TEXT_TRUNCATE),c=b.getFullText();c!==k&&null!=c?b.update():(t(),a.logErrorWithLevel("Error when truncating element rufus-dsk-teaser-pill-text-truncate "+JSON.stringify(n),a.CSMLogLevel.INFO));a.sendCSA_BIMetric(f,
a.RequestMarkers.RENDER_END)});m.onHide(function(){m.isVisible()||(a.recordEventNexusMetric(l.prop("rid"),a.NexusEventMetrics.TEASER_DISMISS),a.addCount(a.CSMCounterMetric.TEASER_DISMISS,1))});var v=l.prop("widgetType");v==u.DISCOVERY?g.declarative(e.RUFUS_TEASER_CX_PILL_INGRESS_CLICK,"click",function(){m.hide();y("nile-zenith-rufus-teaser-widget-component");q(l,v)}):v==u.RECOVERY&&g.declarative(e.RUFUS_TEASER_CX_PILL_INGRESS_CLICK,"click",function(){q(l,v);var a=l.prop("detailPageLink"),b=p.keywords;
a=new URL(a,d.location.origin);a.searchParams.set("tcxcq",encodeURIComponent(b));d.location.href=a});g.declarative(e.RUFUS_TEASER_CX_CLOSE_BUTTON_CLICK,"click",function(){m.hide();a.recordEventNexusMetric(l.prop("rid"),a.NexusEventMetrics.TEASER_CLOSE_CLICK);a.addCount(a.CSMCounterMetric.TEASER_CLOSE_CLICK,1)});r(m)}}}})});f.register("csm-logger-util",function(){function f(){return crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var b=
16*Math.random()|0;return("x"==c?b:b&3|8).toString(16)})}function n(c){var b=document.getElementById("nav-flyout-rufus");if(b){b=b.getElementsByTagName("input");for(var d,f=0;f<b.length;f++)if(b[f].name===c){d=b[f];break}return d&&d.value?d.value:""}}return{RequestMarkers:{RENDER_START:"render-start",RENDER_END:"render-end"},NexusEventMetrics:{TEASER_PILL_INGRESS:"TEASER_PILL_INGRESS",TEASER_CLOSE_CLICK:"TEASER_CLOSE_CLICK",TEASER_DISMISS:"TEASER_DISMISS",TEASER_DUPLICATE_SETUP:"TEASER_DUPLICATE_SETUP",
PANEL_RESIZE:"PANEL_RESIZE"},CSMCounterMetric:{TEASER_DISCOVERY_PILL_INGRESS:"TEASER_DISCOVERY_PILL_INGRESS",TEASER_RECOVERY_PILL_INGRESS:"TEASER_RECOVERY_PILL_INGRESS",TEASER_CLOSE_CLICK:"TEASER_CLOSE_CLICK",TEASER_DISMISS:"TEASER_DISMISS",TEASER_DUPLICATE_SETUP:"TEASER_DUPLICATE_SETUP",TEASER_REGISTER_COMPONENT:"TEASER_REGISTER_COMPONENT"},CSMLogLevel:{INFO:"INFO"},recordEventNexusMetric:function(c,b,g){var p=(new Date).toISOString(),e=f(),w=JSON.stringify({program:"nile-classic-desktop",viewPortHeightPxl:d.innerHeight,
viewPortWidthPxl:d.innerWidth}),a=n("locale"),t=n("marketplaceId");var r="";try{var q=document.cookie.match(/(?:^|;)\s*session-id\s*=\s*([^\s;]+)/);q&&(r=q[1])}catch(m){r=""}q=n("customerId");c={timestamp:p,messageId:e,metadata:w,isBeta:!1,deviceTypeId:"",directedCustomerId:"",appVersion:"",locale:a,marketplaceId:t,uxSessionId:"",sessionId:r,obfuscatedCustomerId:q,nileRequestId:c,clickstreamRequestId:c,eventName:b,eventDetail:g||"",eventTimeUTC:(new Date).toISOString()};b=Object.keys(c);for(g=0;g<
b.length;g++)p=b[g],e=c[p],null===e||e===k?e="":"number"===typeof e&&(e=e.toString()),c[p]=e;d.ue&&d.ue.event(c,"desktop-nile","mshop.nile.events.5")},createCsaElement:function(c){if(d.csa)return d.csa("Content",{element:c})},sendCSA_BIMetric:function(c,b){c&&c("mark",b,performance.now())},logErrorWithLevel:function(c,b){d.ueLogError&&d.ueLogError(Error(c),{message:c,logLevel:b,attribution:"rufus_teaser_cx_discovery"})},addCount:function(c,b){var f=d.ue&&d.ue.count&&d.ue.count(c)!==k?d.ue.count(c):
0;d.ue&&d.ue.count(c,f+b)}}});f.declare("rufus-teaser-cx-selector-constants",{RUFUS_FLYOUT_DIV:"#nav-flyout-rufus",RUFUS_NAV_DISCO:"#nav-rufus-disco",RUFUS_TEASER_CX_NAV_TOOLTIP:"rufus-teaser-cx-nav-tooltip",RUFUS_TEASER_CX_CONTAINER:"#rufus-teaser-cx-container",RUFUS_TEASER_CX_PILL_TEXT_TRUNCATE:"#rufus-dsk-teaser-pill-text-truncate",RUFUS_TEASER_CX_PILL_INGRESS_CLICK:"rufus-dsk-teaser-pill-ingress-click",RUFUS_TEASER_CX_IMAGE_INGRESS_CLICK:"rufus-dsk-teaser-image-ingress-click",RUFUS_TEASER_CX_CLOSE_BUTTON_CLICK:"rufus-dsk-teaser-close-button-click",
AUI_TRUNCATE_FULL:".a-truncate-full",AUI_TRUNCATE_CUT:".a-truncate-cut",AOK_HIDDEN:"aok-hidden",OUTER_HTML:"outerHTML"})});
/* ******** */
////////////////////////////////////////////
;(function (packageFunction) {
  /* istanbul ignore next */
  var p = window.AmazonUIPageJS || window.P;
  /* istanbul ignore next */
  var attribute = p._namespace || p.attributeErrors;
  /* istanbul ignore next */
  var namespacedP = attribute ? attribute("APEAdaptiveSkyscraperWidgetAssets", "") : p;

  /* istanbul ignore next */
  if (namespacedP.guardFatal) {
    namespacedP.guardFatal(packageFunction)(namespacedP, window);
  } else {
    namespacedP.execute(function () {
      packageFunction(namespacedP, window);
    });
  }
}(function(P, window, undefined){
// BEGIN ASSET APEAdaptiveSkyscraperWidgetAssets - 1.0
/////////////////////////
// BEGIN FILE @js_debug_flag.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
var AUI_JS_DEBUG = false;
/////////////////////////
// END FILE @js_debug_flag.js
/////////////////////////
/////////////////////////
// BEGIN FILE ape-adaptive-skyscraper.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
/**
 * Import the vite-built adaptive logic to be used by the Buzz compilation step
 */
/* Importing dist/ape-adaptive-skyscraper.js */
var APEAdaptiveSkyscraper=function(S){"use strict";const f=(e,t=1)=>{var s;if((s=window==null?void 0:window.ue)!=null&&s.count&&e){const n=(window.ue.count(e)||0)+t;window.ue.count(e,n)}},h="adplacements:adaptive-skyscraper:done",C="adplacements:adaptive-skyscraper:error",A="adplacements:adaptive-skyscraper:no-adaptive-skyscrapers",T="adplacements:adaptive-skyscraper:no-blocking-elements",I="adplacements:adaptive-skyscraper:no-space",k=".AdHolder";JSON.stringify({action:"TRIGGER",eventName:"adaptiveSkyReady"});const d=".text/x-dacx-safeframe".replace("/","\\/"),R=`
    ${d}[data-slot-name^="auto-left-advertising"],
    ${d}[data-slot-name^="fresh-ad-left"],
    ${d}[data-slot-name^="alm-"][data-slot-name$="-ad-left"],
    ${d}[data-slot-name^="wfm-ad-left"]
`,v=()=>Array.from(document.querySelectorAll(k)).filter(t=>!t.querySelector(d)),M=(e,t,s)=>{if(e.length>=t)return;const o=t-e.length-1;if(!(o<=0))for(let n=0;n<o;n++){const l=t-n-1;s[l]="inactive"}},N=e=>{const t={};for(const[s,o]of e)o.parentElement&&(t[s]=o.parentElement);return t},b=(e,t)=>{const{cachedFrameContainers:s,skyscraperStates:o}=e,n=Object.entries(s),l=N(n),c=n.length,i=u=>{const E=l[u];E&&(E.style.display="none",E.style.removeProperty("marginTop"))},r=(u,E)=>{const g=l[u];g&&(g.style.removeProperty("display"),g.style.marginTop=String(E)+"px")};let a,p;for(a=1,p=0;a<c&&p<t.length;a++){if(o[a]==="inactive"){i(a);continue}r(a,t[p]),p++}for(;a<c;a++)i(a)},G=()=>Array.from(document.querySelectorAll(R)),O=()=>{var o;const e=G();let t=0;const s={cachedFrameContainers:{},skyscraperStates:{},numByFrameId:{},numSkyscrapers:0};for(const n of e){const c=((o=n.querySelector("iframe"))==null?void 0:o.getAttribute("data-arid"))||"";s.cachedFrameContainers[t]=n,s.numByFrameId[c]=t,s.skyscraperStates[t]="active",s.numSkyscrapers++,t++}return s},U=e=>Math.ceil(e.offsetTop+619+window.innerHeight),w=()=>{const e=document.getElementsByClassName("s-result-list");if(e.length<=0)return 0;const t=e[e.length-1];return Math.ceil(t.offsetTop+t.offsetHeight)},y=(e,t)=>e-t,B=(e,t,s)=>{const o=[s],n=[t],l={},c={};if(!e||e.length<=0)return{tops:o,bottoms:n};for(let i=0;i<e.length;i++){const r=e[i],a=Math.floor(r.offsetTop),p=Math.ceil(a+r.offsetHeight);a>t&&a<s&&!l[a]&&(o.push(a),l[a]=!0),p>=t&&p<s&&!c[p]&&(n.push(p),c[p]=!0)}return o.sort(y),n.sort(y),{tops:o,bottoms:n}},H=(e,t)=>{const s=[];let o=0,n=0;const l=e.length+t.length;for(let c=0;c<l&&n<t.length&&o<e.length;c++){const i=t[n],r=e[o];if(i>=r){o++;continue}if(n<t.length-2&&t[n+1]<r){n++;continue}if(r-i<619){n++;continue}s.push([i,r]),n++,o++}if(AUI_JS_DEBUG)for(let c=0;c<s.length;c++)console.debug("[APE] Available range",s[c]);return s};function L(e,t,s){const o=window.innerHeight,n=[],l=t.slice().reverse();let c=1,i=Number(e.offsetTop);if(l.length<=0)return n;let r=l.pop(),a;for(;c<s&&r;){if(r[0]<i&&(r[0]=i),r[0]>r[1]||r[1]-r[0]<619){a=l.pop(),a&&r[0]>a[0]&&(a[0]=r[0]),r=a;continue}n.push(r[0]-i-619),c++,i=r[0],r[0]+=619+o}return AUI_JS_DEBUG&&console.debug("[APE] Calculated margin tops",n),n}const F=e=>{const{cachedFrameContainers:t,numSkyscrapers:s,skyscraperStates:o}=e,n=t[0],l=U(n),c=w(),i=v();AUI_JS_DEBUG&&console.debug("[APE] Found blocking elements:",i),i.length||f(T);const{tops:r,bottoms:a}=B(i,l,c),p=H(r,a),u=L(n,p,s);return M(u,s,o),u.length<=0&&(f(I),AUI_JS_DEBUG&&console.debug("[APE] No space found for adaptive skyscrapers.")),b(e,u),{marginTops:u,ranges:p,tops:r,bottoms:a,minimumStart:l,maximumEnd:c,blockingElements:i}},m=e=>{const{cachedFrameContainers:t,skyscraperStates:s}=e;Object.values(t).forEach((o,n)=>{s[n]==="active"&&getComputedStyle(o).display==="none"&&(o.classList.add("show"),AUI_JS_DEBUG&&console.debug("[APE] Enabling standard SF skyscraper",n))})},x=e=>{F(e),m(e),f(h)};function D(){const e=O(),{numSkyscrapers:t}=e;if(AUI_JS_DEBUG&&console.debug(`[APE] Found ${t} skyscraper elements`),t<1){f(A);return}if(t===1){AUI_JS_DEBUG&&console.debug("[APE] Activating a single Skyscraper."),m(e),f(A);return}x(e)}const _=(e,t)=>{AUI_JS_DEBUG&&console.debug("[APE] Adaptive Skyscraper triggered.");function s(){try{D()}catch(o){AUI_JS_DEBUG&&console.debug("[APE] Adaptive Skyscraper failed to execute.",o),f(C);return}}e.on(t.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,function(){setTimeout(s,600)}),s()};return P.when("Rush","s-web-application-controller","s-skyscraper-slot","af").execute("ape-adaptive-skyscraper",_),S.executeMain=_,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),S}({});
/* Done importing dist/ape-adaptive-skyscraper.js */

/////////////////////////
// END FILE ape-adaptive-skyscraper.js
/////////////////////////

// END ASSET APEAdaptiveSkyscraperWidgetAssets - 1.0
}));
////////////////////////////////////////////
/* ******** */
(function(r){var t=window.AmazonUIPageJS||window.P,q=t._namespace||t.attributeErrors,f=q?q("SponsoredBrandsVideoAssets",""):t;f.guardFatal?f.guardFatal(r)(f,window):f.execute(function(){r(f,window)})})(function(r,t,q){"use strict";r.when("A","rush-framework","sbv-single-product","sbv-multi-brand-video-mixin").register("sbv-multi-brand-video",function(f,n,k,l){var c=function(){this.attribution=this.name="sbv-multi-brand-video"};f.mixin(c.prototype,l);var p=new c;n.registerComponent(p.name,p.attribution,
function(e){var d=f.$(e.elem());p.setup(p.attribution,d,null,null,e,k,null)})});r.when("A","base-mixin","sbv-multi-brand-video-carousel").register("sbv-multi-brand-video-mixin",function(f,n,k){return{setup:function(l,c,f,e,d,a,b){f=c.find(".sbv-mbv-carousel-container");c=n.setup(l,c,d).build();c.reportAceVideoResponseReceived();k.initialize(f,c,l,d.prop("instrumentationPixelUrl"))}}});"use strict";r.when("A","rush-framework","sbv-video-single-mixin","sbv-single-product","sbv-store-ingress").register("sbv-video-single-product",
function(f,n,k,l,c){var p=function(){this.attribution=this.name="sbv-video-single-product"};f.mixin(p.prototype,k);var e=new p;n.registerComponent(e.name,e.attribution,function(d){var a=f.$(d.elem()),b=a.find(".sbv-product:first").get(0),h=a.find(".sbv-store-ingress:first").get(0);e.setup(e.attribution,a,b,h,d,l,c)})});r.when("A","base-mixin","sbv-video","sbv-ad-unit").register("sbv-video-single-mixin",function(f,n,k,l){return{dupeCheck:function(c,l){var e=c.prop("widgetGroupId")||"";l=0;if("1"===
(c.prop("pageNumber")||"")){if("loom-mobile-inline-slot"===e||"loom-desktop-inline-slot"===e)return"NO_DUPE_INLINE";if("loom-mobile-bottom-slot"===e||"loom-desktop-bottom-slot"===e){c=document.getElementsByClassName("sbv-video-single-product");e=c.length;for(var d="",a="",b=0;b<e;b++){var h=c[b].getAttribute("data-component-props");h=JSON.parse(h);if("1"===h.pageNumber)if(l++,""===d)d=h.advertiserId||"",a=h.campaignId||"";else if(h.advertiserId===d&&h.campaignId===a)return"DUPE_BOTTOM"}}}return 1<
l?"NO_DUPE_BOTTOM_MULTI":"NO_DUPE_BOTTOM_SINGLE"},init:function(c,f,e,d,a,b,h,u){var m=f.find(".sbv-video:first"),z=n.setup(c,f,a).withVideoPreviewImageSrc(a.prop("videoPreviewImageSrc")).withContentHash(a.prop("contentHash")||"").withVideoSrc(a.prop("videoSrc")).withHasAudio("true"===a.prop("hasAudio")).withStoreName(a.prop("storeName")||"").withStoreUrl(a.prop("storeUrl")||"").withStoreCta(a.prop("storeCta")||"").withVideoType(a.prop("videoType")||"").build();if(f.hasClass("aok-hidden")&&f.hasClass("sbv-abd")||
"none"==f.css("display"))z.reportAdRenderSuppressed();else{z.reportAceVideoResponseReceivedWithDupeInfo(this.dupeCheck(a,z),u);if(u="true"===a.prop("isVcpmEnabled")){var p=l.initialize(c,f.get(0));p.attach()}c=k.initialize(c,m.get(0),z,a.prop("instrumentationPixelUrl"),u,p);b.initialize(e,z,c);h&&d&&h.initialize(d,z,c)}},setup:function(c,f,e,d,a,b,h,u){this.init(c,f,e,d,a,b,h,u)}}});r.when("A").register("sbv-video-single-content-mixin",function(f){return{loadAdFeedback:function(n,k,l,c){try{if(c){var p=
f.$(c).attr("data-cid"),e=f.$(c).attr("data-aid"),d=f.$(c).data("slotname"),a=f.$(c).data("searchkeywords"),b=f.$(c).data("keywordEncodingFailed"),h=f.$(c).data("selectionsignals"),u=f.$(c).data("advertiseridns");"true"===b&&n.reportAdFeedbackKeywordEncodingFailure();var m=JSON.stringify({adPlacementMetaData:{adElementId:k,pageType:"Search",slotName:d,pageUrl:"",searchTerms:a},adCreativeMetaData:{adNetwork:"aax",adProgramId:1010,adImpressionId:"",adId:e,adCreativeDetails:[{campaignId:p,advertiserIdNS:""===
u?null:u,selectionSignals:""===h?null:h}]}}),z=t.location.protocol+"//"+t.location.hostname+"/af/feedback-link?pl\x3d"+encodeURIComponent(m),y=new XMLHttpRequest;y.onreadystatechange=function(){if(4===y.readyState&&200===y.status){var a=JSON.parse(y.responseText);if(a&&"ok"===a.status){"html"in a&&a.html&&(l.addClass("aok-hidden"),c.innerHTML=a.html,f.$(c).removeClass("aok-hidden"),n.reportAdFeedbackLoadSucceeded(y.status));if("script"in a&&a.script){var b=document.createElement("script");b.type=
"text/javascript";b.innerHTML=a.script;c.appendChild(b)}f.$(c).find("a").click(function(){n.reportAdFeedbackPopoverOpened()})}else n.reportAdFeedbackLoadFailed(y.status)}};y.open("GET",z,!0);y.send()}}catch(v){k=4E3<v.message.length?v.message.substring(0,3997)+"...":v.message,n.reportAdFeedbackLoadFailedFromErr(k)}}}});r.when("A","sbv-metrics-manager","sbv-automated-test-metrics-client","sbv-platform-compatibility","sbv-latency-event-handler").register("base-mixin",function(f,n,k,l){return{setup:function(c,
f,e){l.setAppVersion(e.prop("appVersion"));return n.builder().withAttribution(c).withWidgetElement(f).withMetricsIdentifier(e.prop("metricsIdentifier")).withAdvertiserId(e.prop("advertiserId")).withCampaignId(e.prop("campaignId")).withSlotId(e.prop("slotId")).withSearchQuery(e.prop("searchQuery")).withWidgetIndex(e.prop("widgetIndex")).withDeviceEnv(e.prop("deviceEnv")||"").withDeviceOs(e.prop("deviceOs")||"").withDeviceType(e.prop("deviceType")||"").withDevicePlatformVersion(e.prop("devicePlatformVersion")||
"").withDeviceModel(e.prop("deviceModel")||"").withDeviceMake(e.prop("deviceMake")||"").withExperience(e.prop("experience")).withExperienceVariation(e.prop("experienceVariation")).withAppVersion(e.prop("appVersion")||"").withStage(e.prop("stage")).withClientId(e.prop("clientId")).withWeblabs(e.prop("weblabs")).withLanguage(e.prop("language")).withMarketplaceId(e.prop("marketplaceId")).withWidgetType(e.prop("widgetType")).withWidgetGroupId(e.prop("widgetGroupId")).withPageType(e.prop("pageType")).withPageNumber(e.prop("pageNumber")).withPageLayout(e.prop("pageLayout")||
"").withSushiSourceGroupEndpoint(e.prop("sushiSourceGroupEndpoint"))}}});r.when("A","3p-promise").register("sbv-adblock-detector",function(f,n){var k={method:"HEAD",mode:"no-cors",headers:{"Content-Type":"plain/text"}};return{timeoutWrapper:function(f){return new n(function(c,l){var e=setTimeout(function(){clearTimeout(e);c()},f)})},fetchWrapper:function(f,c,k){k=this.timeoutWrapper(k);f=t.fetch(f,c);return n.race([f,k])},init:function(){if(f.$(".sbv-video-single-product").find(".sbv-compliant-abd").length){var l=
this.fetchWrapper("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?_\x3d1607460946161",k,2E3);return new n(function(c,f){l.then(function(e){f(e)}).catch(function(e){c(e)})})}}}});r.when("af","ready").register("sbv-latency-event-handler");"use strict";r.when("A","sbv-sushi-client","sbv-client-util").register("sbv-metrics-manager",function(f,n,k){function l(b,h){function u(a,g){var b=m(e.VM_POST_FAILURE);b[d.VIEW_METRICS_FAILURE]=a;b[d.ERROR_MESSAGE]=g;c(b)}function m(a){var g=k.getWidgetDimensions(x),
b=f.$.extend({},w);b[d.EVENT_TYPE]=a;b[d.METRICS_SEQUENCE_NUMBER]=l++;b[d.NETWORK_TYPE]=navigator&&navigator.connection&&navigator.connection.type||"Unknown";b[d.WIDTH]=g.width;b[d.HEIGHT]=g.height;b[d.VIEWPORT_WIDTH]=g.viewportWidth;b[d.VIEWPORT_HEIGHT]=g.viewportHeight;return b}function c(b,g){v&&v.processEvent(b,a);r&&r.processEvent(b)}var l=0,v=n.newClient(b,t,h,"AceVisClientMetrics"),w=null,r=null,x;this.setSushiClient=function(a){v=a};this.setDefaultEventAttributes=function(a){w=f.$.extend({},
a);w[d.USER_AGENT]=navigator.userAgent};this.setWidgetElement=function(a){x=a};this.setAutomatedTestMetricsClient=function(a){r=a};this.reportAceVideoResponseReceived=function(a){var b=m(e.ACE_VIDEO_RESPONSE_RECEIVED);a&&(b[d.CLIENT_EXECUTION_MODE]=a);c(b)};this.reportAceVideoResponseReceivedWithDupeInfo=function(a,b){var g=m(e.ACE_VIDEO_RESPONSE_RECEIVED);g[d.DEBUG_INFO_CONTENT]=a;b&&(g[d.CLIENT_EXECUTION_MODE]=b);c(g)};this.reportDupe=function(a,b){var g=m(e.DUPE);g[d.LOGIC]=a;g[d.REASON]=b;c(g)};
this.reportDupeByCampaignAndAdvertiserId=function(){var a=m(e.DUPE_BY_ADVID_CAMPAIGNID);c(a)};this.reportDupeByContentHash=function(){var a=m(e.DUPE_BY_CONTENT_HASH);c(a)};this.reportAdBlockDetected=function(){var a=m(e.AD_BLOCK_DETECTED);c(a)};this.reportTimeWaitingForScriptToExecute=function(a){var b=m(e.TIME_WAITING_FOR_SCRIPT_TO_EXECUTE);b[d.LOAD_TIME_MS]=a;c(b)};this.reportAdRenderSuppressed=function(){var a=m(e.AD_RENDER_SUPPRESSED);c(a)};this.reportAdFeedbackLoadFailed=function(a){var b=m(e.AD_FEEDBACK_LOAD_FAILED);
b[d.STATUS_CODE]=a;c(b)};this.reportAdFeedbackLoadFailedFromErr=function(a){var b=m(e.AD_FEEDBACK_LOAD_FAILED_FROM_ERR);b[d.ERROR_MESSAGE]=a;c(b)};this.reportAdFeedbackLoadSucceeded=function(a){var b=m(e.AD_FEEDBACK_LOAD_SUCCEEDED);b[d.STATUS_CODE]=a;c(b)};this.reportAdFeedbackKeywordEncodingFailure=function(){var a=m(e.AD_FEEDBACK_KEYWORD_ENCODING_FAILURE);c(a)};this.reportAdFeedbackPopoverOpened=function(){var a=m(e.AD_FEEDBACK_POPOVER_OPENED);c(a)};this.reportMissingVideoFunction=function(a){var b=
m(e.MISSING_VIDEO_FUNCTION);b[d.ERROR_MESSAGE]=a;c(b)};this.reportPreviewImageLoadSuccess=function(a,b){var h=m(e.PREVIEW_IMAGE_LOAD_SUCCESS);h[d.LOAD_TIME_MS]=a;h[d.RETRY_COUNT]=b;c(h)};this.reportPreviewImageLoadFailure=function(a,b){var h=m(e.PREVIEW_IMAGE_LOAD_FAILURE);h[d.LOAD_TIME_MS]=a;h[d.STATUS_CODE]=b;c(h)};this.reportVideoDomainVerificationFailure=function(a){var b=m(e.VIDEO_DOMAIN_VERIFICATION_FAILURE);b[d.ERROR_MESSAGE]=a;c(b)};this.reportVideoReadyForPlayback=function(a,b,h,u,f,l){var g=
m(e.VIDEO_READY_FOR_PLAYBACK);g[d.LOAD_TIME_MS]=a;g[d.RETRY_COUNT]=b;g[d.PERCENT_DOWNLOADED]=h;g[d.VIDEO_TOTAL_LENGTH_MS]=u;g[d.START_TIME_MS]=f;g[d.END_TIME_MS]=l;c(g)};this.reportVideoPlaybackInitiated=function(a){var b=m(e.VIDEO_PLAYBACK_INITIATED);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportVideoPlaybackStarted=function(a,b,h){var g=m(e.VIDEO_PLAYBACK_STARTED);g[d.VIDEO_CURRENT_TIME_MS]=a;g[d.PERCENT_DOWNLOADED]=b;g[d.DROPPED_FRAMES]=h;c(g)};this.reportTimeToFirstFrame=function(a,b,h,u,f){var g=
m(e.TIME_TO_FIRST_FRAME);g[d.LOAD_TIME_MS]=a;g[d.PERCENT_DOWNLOADED]=b;g[d.DROPPED_FRAMES]=h;g[d.START_TIME_MS]=u;g[d.END_TIME_MS]=f;c(g)};this.reportVideoBufferingStarted=function(a,b,h){var g=m(e.VIDEO_BUFFERING_STARTED);g[d.VIDEO_CURRENT_TIME_MS]=a;g[d.PERCENT_DOWNLOADED]=b;g[d.DROPPED_FRAMES]=h;c(g)};this.reportVideoBufferingEnded=function(a,b,h){var g=m(e.VIDEO_BUFFERING_ENDED);g[d.VIDEO_CURRENT_TIME_MS]=a;g[d.PERCENT_DOWNLOADED]=b;g[d.DROPPED_FRAMES]=h;c(g)};this.reportVideoPlaybackFailure=
function(a,b,h){var g=m(e.VIDEO_PLAYBACK_FAILURE);g[d.VIDEO_CURRENT_TIME_MS]=a;g[d.ERROR_MESSAGE]=b;g[d.ERROR_CODE]=h;c(g)};this.reportVideoDurationPlayed=function(a,b,h){var g=m(e.VIDEO_DURATION_PLAYED);g[d.VIDEO_BOUNDRY_CROSSED_TIME_MS]=a;g[d.PERCENT_DOWNLOADED]=b;g[d.DROPPED_FRAMES]=h;c(g)};this.reportPlaybackCompleted=function(a,b){var h=m(e.PLAYBACK_COMPLETED);h[d.VIDEO_CURRENT_TIME_MS]=a;h[d.DROPPED_FRAMES]=b;c(h)};this.reportVideoOnScreen=function(a){var b=m(e.VIDEO_ON_SCREEN);b[d.PERCENT_DOWNLOADED]=
a;c(b)};this.reportVideoOffScreen=function(a,b,h){var g=m(e.VIDEO_OFF_SCREEN);g[d.TIME_ON_SCREEN_MS]=a;g[d.WAS_BUFFERING]=b;g[d.VIDEO_CURRENT_TIME_MS]=h;c(g)};this.reportVideoView=function(a,b){var h=m(e.VIDEO_VIEW);h[d.CONTINUOUS_PLAYBACK_DURATION_MS]=a;c(h);b&&v&&v.flush(v,!0)};this.reportVideoPauseInitiated=function(a){var b=m(e.VIDEO_PAUSED_INITIATED);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportVideoPauseButtonTriggered=function(a){var b=m(e.VIDEO_PAUSE_BUTTON_TRIGGERED);b[d.VIDEO_CURRENT_TIME_MS]=
a;c(b)};this.reportVideoClearedOnHiddenBrowser=function(){var a=m(e.VIDEO_CLEARED_ON_HIDDEN_BROWSER);c(a)};this.reportVideoLoadedOnVisibleBrowser=function(){var a=m(e.VIDEO_LOADED_ON_VISIBLE_BROWSER);c(a)};this.reportVideoPaused=function(a,b,h){var g=m(e.VIDEO_PAUSED);g[d.VIDEO_CURRENT_TIME_MS]=a;g[d.PERCENT_DOWNLOADED]=b;g[d.DROPPED_FRAMES]=h;c(g)};this.reportVideoSoundOn=function(a,b){var h=m(e.VIDEO_SOUND_ON);h[d.VIDEO_CURRENT_TIME_MS]=a;h[d.SOUND_TOGGLE_METHOD]=b;c(h)};this.reportVideoSoundOff=
function(a,b){var h=m(e.VIDEO_SOUND_OFF);h[d.VIDEO_CURRENT_TIME_MS]=a;h[d.SOUND_TOGGLE_METHOD]=b;c(h)};this.reportVideoCcOn=function(a){var b=m(e.VIDEO_CC_ON);b[d.CC_TOGGLE_METHOD]=a;c(b)};this.reportVideoCcOff=function(a){var b=m(e.VIDEO_CC_OFF);b[d.CC_TOGGLE_METHOD]=a;c(b)};this.reportVideoClicked=function(a){var b=m(e.VIDEO_CLICKED);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportProductClicked=function(a){var b=m(e.PRODUCT_CLICKED);a!==q&&(b[d.VIDEO_CURRENT_TIME_MS]=a);c(b)};this.reportProductTitleClicked=
function(){var a=m(e.PRODUCT_TITLE_CLICKED);c(a)};this.reportProductReviewCountClicked=function(){var a=m(e.PRODUCT_REVIEW_COUNT_CLICKED);c(a)};this.reportProductPriceClicked=function(){var a=m(e.PRODUCT_PRICE_CLICKED);c(a)};this.reportLinkClicked=function(a){var b=m(e.LINK_CLICKED);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportCallToActionClicked=function(a){var b=m(e.CALL_TO_ACTION_CLICKED);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportHeadlineClicked=function(a){var b=m(e.HEADLINE_CLICKED);b[d.VIDEO_CURRENT_TIME_MS]=
a;c(b)};this.reportImageClicked=function(a){var b=m(e.IMAGE_CLICKED);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportStoreIngressClicked=function(a){var b=m(e.STORE_INGRESS_CLICKED);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportBlankScreenLoadFailure=function(){var a=m(e.BLANK_SCREEN_LOAD_FAILURE);c(a)};this.reportPlaybackFailedToStartAfterPlay=function(){var a=m(e.PLAYBACK_FAILED_TO_START_AFTER_PLAY);c(a)};this.reportAudioToggleIconDisplayed=function(){var a=m(e.AUDIO_TOGGLE_ICON_DISPLAYED);c(a)};
this.reportCcToggleIconDisplayed=function(){var a=m(e.CC_TOGGLE_ICON_DISPLAYED);c(a)};this.reportPauseIconDisplayed=function(){var a=m(e.PAUSE_ICON_DISPLAYED);c(a)};this.reportPlayButtonShown=function(){var a=m(e.PLAY_BUTTON_SHOWN);c(a)};this.reportPlayButtonClicked=function(a){var b=m(e.PLAY_BUTTON_CLICKED);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportDurationTickerDisplayed=function(a){var b=m(e.VIDEO_DURATION_TICKER_SHOWN);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportVideoAborted=function(a){var b=
m(e.VIDEO_ABORTED);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportVideoSuspended=function(a){var b=m(e.VIDEO_SUSPENDED);b[d.VIDEO_CURRENT_TIME_MS]=a;c(b)};this.reportVideoPlayPromiseRejected=function(a){var b=m(e.VIDEO_PLAY_PROMISE_REJECTED);b[d.ERROR_MESSAGE]=a;c(b)};this.reportVideoPlayPromiseNotSupported=function(){var a=m(e.VIDEO_PLAY_PROMISE_NOT_SUPPORTED);c(a)};this.reportDebugInfoCopiedSuccess=function(a){var b=m(e.DEBUG_INFO_COPIED_SUCCESS);b[d.DEBUG_INFO_CONTENT]=a;c(b)};this.reportDebugInfoCopiedFailure=
function(a){var b=m(e.DEBUG_INFO_COPIED_FAILURE);b[d.ERROR_MESSAGE]=a;c(b)};this.reportDebugInfoCopiedMessageShown=function(){var a=m(e.DEBUG_INFO_COPIED_MESSAGE_SHOWN);c(a)};this.reportDebugInfoCopiedMessageHidden=function(){var a=m(e.DEBUG_INFO_COPIED_MESSAGE_HIDDEN);c(a)};this.reportViewMetricsPostRequestFailure=u;this.reportViewMetricsVideoViewed=function(a,b,h,d){var g=m(e.VM_VIDEO_VIEWED);c(g);d||(h!==q&&null!==h&&b!==q&&null!==b||u(p.VIEWED,"videoPercentInView(p) or videoDurationTimeMs(t) is not present"),
this.emitViewMetrics(a,p.VIEWED,b,h))};this.reportViewMetricsAdUnitViewed=function(a,b,h,d){d&&(d=m(e.VM_AD_UNIT_VIEWED),c(d),h===q||null===h||b===q||null===b?u(p.VIEWED,"auUnitPercentInView(p) or videoContinuousDurationMs(t) is not present"):this.emitViewMetrics(a,p.VIEWED,b,h))};this.reportViewMetricsVideoProgressFiveSeconds=function(a){var b=m(e.VM_VIDEO_PROGRESS_FIVE_SECONDS);c(b);this.emitViewMetrics(a,p.PROGRESS_FIVE_SECONDS)};this.reportViewMetricsVideoFirstQuartile=function(a){var b=m(e.VM_VIDEO_FIRST_QUARTILE);
c(b);this.emitViewMetrics(a,p.FIRST_QUARTILE)};this.reportViewMetricsVideoMidpoint=function(a){var b=m(e.VM_VIDEO_MIDPOINT);c(b);this.emitViewMetrics(a,p.MIDPOINT)};this.reportViewMetricsVideoThirdQuartile=function(a){var b=m(e.VM_VIDEO_THIRD_QUARTILE);c(b);this.emitViewMetrics(a,p.THIRD_QUARTILE)};this.reportViewMetricsVideoComplete=function(a){var b=m(e.VM_VIDEO_COMPLETE);c(b);this.emitViewMetrics(a,p.COMPLETE)};this.reportViewMetricsVideoUnmute=function(a){var b=m(e.VM_VIDEO_UNMUTE);c(b);this.emitViewMetrics(a,
p.UNMUTE)};this.emitViewMetrics=function(a,b,h,c){a===q?u(b,"instrumentationPixelUrl is undefined"):(h=c!==q&&null!==c&&h!==q&&null!==h?JSON.stringify({v:{p:Math.round(100*h),t:parseFloat((c/1E3).toFixed(3)),def:"iab",event:b}}):JSON.stringify({v:{def:"iab",event:b}}),a="/"===a.substr(-1)?a+"v/":a+"/v/",fetch(a+encodeURI(h),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:h}).then(function(a){if(!a.ok&&0!==a.status)throw Error(a.status+" "+a.statusText);}).catch(function(a){u(b,
a.message)}))};this.getDebugMetricAttributes=function(){var a=w[d.SEARCH_QUERY],b=w[d.ADVERTISER_ID],c=w[d.CAMPAIGN_ID],e=w[d.CONTENT_HASH],u=w[d.METRICS_IDENTIFIER],m=w[d.CLIENT_ID],f;a:{if(h&&(f=h.split("-")[1])){f=f.split(".")[0].toUpperCase();break a}f="UNKNOWN"}return{searchQuery:a,advertiserId:b,campaignId:c,contentHash:e,metricsIdentifier:u,clientId:m,region:f,stage:w[d.STAGE]}}}function c(){function a(){var a=[];a[d.METRICS_IDENTIFIER]=c;a[d.ADVERTISER_ID]=e;a[d.CAMPAIGN_ID]=f;a[d.CONTENT_HASH]=
k;a[d.WIDGET_INDEX]=t;a[d.DEVICE_ENV]=r;a[d.DEVICE_OS]=C;a[d.DEVICE_TYPE]=g;a[d.DEVICE_PLATFORM_VERSION]=B;a[d.DEVICE_MODEL]=A;a[d.DEVICE_MAKE]=D;a[d.EXPERIENCE]=I;a[d.EXPERIENCE_VARIATION]=J;a[d.APP_VERSION]=K;a[d.STAGE]=L;a[d.SLOT_ID]=p;a[d.SEARCH_QUERY]=n;a[d.CLIENT_ID]=M;a[d.WEBLABS]=N;a[d.LANGUAGE]=O;a[d.VIDEO_PREVIEW_IMAGE_SRC]=P;a[d.VIDEO_SRC]=Q;a[d.VIDEO_TYPE]=R;a[d.HAS_AUDIO]=S;a[d.STORE_NAME]=T;a[d.STORE_URL]=U;a[d.STORE_CTA]=V;a[d.MARKETPLACE_ID]=W;a[d.WIDGET_TYPE]=X;a[d.WIDGET_GROUP_ID]=
Y;a[d.PAGE_TYPE]=Z;a[d.PAGE_NUMBER]=F;a[d.PAGE_LAYOUT]=aa;return a}var h="sbv-search-widget",c=q,e=q,f=q,k=q,p=q,n=q,t=q,r=q,C=q,g=q,B=q,A=q,D=q,I=q,J=q,K=q,L=q,M=q,N=q,O=q,P=q,Q=q,R=q,S=q,T=q,U=q,V=q,W=q,ba="https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events",G=q,X=q,Y=q,Z=q,F=q,aa=q,ca=q,E=q;this.withAttribution=function(a){h=a||"sbv-search-widget";return this};this.withSearchQuery=function(a){n=a;return this};this.withMetricsIdentifier=function(a){c=a;return this};this.withAdvertiserId=
function(a){e=a;return this};this.withCampaignId=function(a){f=a;return this};this.withContentHash=function(a){k=a;return this};this.withSlotId=function(a){p=a;return this};this.withWidgetIndex=function(a){t=a;return this};this.withDeviceEnv=function(a){r=a;return this};this.withDeviceOs=function(a){C=a;return this};this.withDeviceType=function(a){g=a;return this};this.withDevicePlatformVersion=function(a){B=a;return this};this.withDeviceModel=function(a){A=a;return this};this.withDeviceMake=function(a){D=
a;return this};this.withExperience=function(a){I=a;return this};this.withExperienceVariation=function(a){J=a;return this};this.withAppVersion=function(a){K=a;return this};this.withStage=function(a){L=a;return this};this.withClientId=function(a){M=a;return this};this.withWeblabs=function(a){N=a;return this};this.withLanguage=function(a){O=a;return this};this.withVideoPreviewImageSrc=function(a){P=a;return this};this.withVideoSrc=function(a){Q=a;return this};this.withVideoType=function(a){R=a;return this};
this.withHasAudio=function(a){S=a;return this};this.withStoreName=function(a){T=a;return this};this.withStoreUrl=function(a){U=a;return this};this.withStoreCta=function(a){V=a;return this};this.withMarketplaceId=function(a){W=a;return this};this.withSushiSourceGroupEndpoint=function(a){ba=a||"https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events";return this};this.withAutomatedTestMetricsClient=function(a){G=a;return this};this.withWidgetType=function(a){X=a;return this};this.withWidgetGroupId=
function(a){Y=a;return this};this.withPageType=function(a){Z=a;return this};this.withPageNumber=function(a){if(a){var b=parseInt(a,10);if(!isNaN(b))return F=b,this}F=a;return this};this.withPageLayout=function(a){aa=a;return this};this.withWidgetElement=function(a){ca=a;return this};this.build=function(){E=new l(h,ba);G!==q&&E.setAutomatedTestMetricsClient(G);E.setDefaultEventAttributes(a());E.setWidgetElement(ca);return E}}var p={VIEWED:"VIEWED",PROGRESS_FIVE_SECONDS:"PROGRESS_5_SEC",FIRST_QUARTILE:"FIRST_QUARTILE",
MIDPOINT:"MIDPOINT",THIRD_QUARTILE:"THIRD_QUARTILE",COMPLETE:"COMPLETE",UNMUTE:"UNMUTE"},e={ACE_VIDEO_RESPONSE_RECEIVED:"AceVideoResponseReceived",AD_BLOCK_DETECTED:"AdBlockDetected",AD_RENDER_SUPPRESSED:"AdRenderSuppressed",AUDIO_TOGGLE_ICON_DISPLAYED:"AudioToggleIconDisplayed",BLANK_SCREEN_LOAD_FAILURE:"BlankScreenLoadFailure",CALL_TO_ACTION_CLICKED:"CallToActionClicked",CC_TOGGLE_ICON_DISPLAYED:"CcToggleIconDisplayed",AD_FEEDBACK_KEYWORD_ENCODING_FAILURE:"AdFeedbackKeywordEncodingFailure",AD_FEEDBACK_LOAD_FAILED:"AdFeedbackLoadFailed",
AD_FEEDBACK_LOAD_FAILED_FROM_ERR:"AdFeedbackLoadFailedFromErr",AD_FEEDBACK_LOAD_SUCCEEDED:"AdFeedbackLoadSucceeded",AD_FEEDBACK_POPOVER_OPENED:"AdFeedbackPopoverOpened",DUPE:"Dupe",DUPE_BY_CONTENT_HASH:"DupeByContentHash",DUPE_BY_ADVID_CAMPAIGNID:"DupeByAdvIdCampaignId",DEBUG_INFO_COPIED_SUCCESS:"DebugInfoCopiedSuccess",DEBUG_INFO_COPIED_FAILURE:"DebugInfoCopiedFailure",DEBUG_INFO_COPIED_MESSAGE_SHOWN:"DebugInfoCopiedMessageShown",DEBUG_INFO_COPIED_MESSAGE_HIDDEN:"DebugInfoCopiedMessageHidden",HEADLINE_CLICKED:"HeadlineClicked",
IMAGE_CLICKED:"ImageClicked",LINK_CLICKED:"LinkClicked",MISSING_VIDEO_FUNCTION:"MissingVideoFunction",NO_VIDEO_SRC_ON_ELEMENT:"NoVideoSrcOnElement",PAUSE_ICON_DISPLAYED:"PauseIconDisplayed",PLAY_BUTTON_CLICKED:"PlayButtonClicked",PLAY_BUTTON_SHOWN:"PlayButtonShown",PLAYBACK_COMPLETED:"PlaybackCompleted",PREVIEW_IMAGE_LOAD_FAILURE:"PreviewImageLoadFailure",PREVIEW_IMAGE_LOAD_SUCCESS:"PreviewImageLoadSuccess",PRODUCT_CLICKED:"ProductClicked",PRODUCT_TITLE_CLICKED:"ProductTitleClicked",PRODUCT_REVIEW_COUNT_CLICKED:"ProductReviewCountClicked",
PRODUCT_PRICE_CLICKED:"ProductPriceClicked",STORE_INGRESS_CLICKED:"StoreIngressClicked",TIME_TO_FIRST_FRAME:"TimeToFirstFrame",VIDEO_BUFFERING_ENDED:"VideoBufferingEnded",VIDEO_BUFFERING_STARTED:"VideoBufferingStarted",VIDEO_CC_OFF:"VideoCcOff",VIDEO_CC_ON:"VideoCcOn",VIDEO_CLEARED_ON_HIDDEN_BROWSER:"VideoClearedOnHiddenBrowser",VIDEO_CLICKED:"VideoClicked",VIDEO_DOMAIN_VERIFICATION_FAILURE:"VideoDomainVerificationFailure",VIDEO_DURATION_PLAYED:"VideoDurationPlayed",VIDEO_DURATION_TICKER_SHOWN:"VideoDurationTickerShown",
VIDEO_LOADED_ON_VISIBLE_BROWSER:"VideoLoadedOnVisibleBrowser",VIDEO_OFF_SCREEN:"VideoOffScreen",VIDEO_ON_SCREEN:"VideoOnScreen",VIDEO_PAUSE_BUTTON_TRIGGERED:"VideoPauseButtonTriggered",VIDEO_PAUSED:"VideoPaused",VIDEO_PAUSED_INITIATED:"VideoPausedInitiated",VIDEO_PLAYBACK_FAILURE:"VideoPlaybackFailure",VIDEO_PLAYBACK_INITIATED:"VideoPlaybackInitiated",VIDEO_PLAYBACK_STARTED:"VideoPlaybackStarted",VIDEO_READY_FOR_PLAYBACK:"VideoReadyForPlayback",VIDEO_SOUND_OFF:"VideoSoundOff",VIDEO_SOUND_ON:"VideoSoundOn",
VIDEO_VIEW:"VideoView",PLAYBACK_FAILED_TO_START_AFTER_PLAY:"PlaybackFailedToStartAfterPlay",VIDEO_ABORTED:"VideoAborted",VIDEO_SUSPENDED:"VideoSuspended",VIDEO_PLAY_PROMISE_REJECTED:"VideoPlayPromiseRejected",VIDEO_PLAY_PROMISE_NOT_SUPPORTED:"VideoPlayPromiseNotSupported",VM_VIDEO_VIEWED:"ViewMetricsVideoViewed",VM_AD_UNIT_VIEWED:"ViewMetricsAdUnitViewed",VM_VIDEO_PROGRESS_FIVE_SECONDS:"ViewMetricsVideoProgressFiveSeconds",VM_VIDEO_FIRST_QUARTILE:"ViewMetricsVideoFirstQuartile",VM_VIDEO_MIDPOINT:"ViewMetricsVideoMidpoint",
VM_VIDEO_THIRD_QUARTILE:"ViewMetricsVideoThirdQuartile",VM_VIDEO_COMPLETE:"ViewMetricsVideoComplete",VM_VIDEO_UNMUTE:"ViewMetricsVideoUnmute",VM_POST_FAILURE:"ViewMetricsPostFailure"},d={APP_VERSION:"appVersion",CC_TOGGLE_METHOD:"ccToggleMethod",CLIENT_ID:"clientId",SEARCH_QUERY:"searchQuery",CLIENT_EXECUTION_MODE:"clientExecutionMode",CONTINUOUS_PLAYBACK_DURATION_MS:"continuousPlaybackDurationMs",DEVICE_MAKE:"deviceMake",DEVICE_MODEL:"deviceModel",DEVICE_ENV:"deviceEnv",DEVICE_OS:"deviceOs",DEVICE_TYPE:"deviceType",
DEVICE_PLATFORM_VERSION:"devicePlatformVersion",DEBUG_INFO_CONTENT:"debugInfoContent",DROPPED_FRAMES:"droppedFrames",EXPERIENCE:"experience",EXPERIENCE_VARIATION:"experienceVariation",LOGIC:"logic",REASON:"reason",ERROR_MESSAGE:"errorMessage",ERROR_CODE:"errorCode",EVENT_TYPE:"eventType",HAS_AUDIO:"hasAudio",LOAD_TIME_MS:"loadTimeMs",START_TIME_MS:"startTimeMs",END_TIME_MS:"endTimeMs",MARKETPLACE_ID:"marketplaceId",METRICS_SEQUENCE_NUMBER:"metricsSequenceNumber",METRICS_IDENTIFIER:"metricsIdentifier",
ADVERTISER_ID:"advertiserId",CAMPAIGN_ID:"campaignId",CONTENT_HASH:"contentHash",NETWORK_TYPE:"networkType",PAGE_TYPE:"pageType",PAGE_NUMBER:"pageNumber",PERCENT_DOWNLOADED:"percentDownloaded",RETRY_COUNT:"retryCount",LANGUAGE:"language",SLOT_ID:"slotId",SOUND_TOGGLE_METHOD:"soundToggleMethod",STAGE:"stage",STATUS_CODE:"statusCode",STORE_CTA:"storeCta",STORE_NAME:"storeName",STORE_URL:"storeUrl",TIME_ON_SCREEN_MS:"timeOnScreenMs",USER_AGENT:"userAgent",VIDEO_BOUNDRY_CROSSED_TIME_MS:"videoBoundaryCrossedTimeMs",
VIDEO_CURRENT_TIME_MS:"videoCurrentTimeMs",VIDEO_SRC:"videoSrc",VIDEO_PREVIEW_IMAGE_SRC:"videoPreviewImageSrc",VIDEO_TOTAL_LENGTH_MS:"videoTotalLengthMs",VIDEO_TYPE:"videoType",WAS_BUFFERING:"wasBuffering",WIDGET_INDEX:"widgetIndex",WEBLABS:"weblabs",WIDGET_TYPE:"widgetType",WIDGET_GROUP_ID:"widgetGroupId",VIEW_METRICS_FAILURE:"viewMetricsFailure",PAGE_LAYOUT:"pageLayout",HEIGHT:"height",WIDTH:"width",VIEWPORT_HEIGHT:"viewportHeight",VIEWPORT_WIDTH:"viewportWidth"},a={n:1};return{DUPE_LOGIC:{SINGLE_PAGE:"SINGLE_PAGE",
CROSS_PAGE:"CROSS_PAGE"},DUPE_REASON:{CONTENT_HASH:"CONTENT_HASH",CAMPAIGN_AND_ADV_ID:"CAMPAIGN_AND_ADV_ID"},EVENT_TYPES:e,CC_TOGGLE_OFF_CAUSE:{ICON_TAP:"IconTap",VIDEO_INITIAL_OFF:"VIDEO_INITIAL_OFF"},CC_TOGGLE_ON_CAUSE:{ICON_TAP:"IconTap"},SOUND_TOGGLE_OFF_CAUSE:{ICON_TAP:"IconTap",VIDEO_OFF_SCREEN:"VideoOffScreen"},SOUND_TOGGLE_ON_CAUSE:{ICON_TAP:"IconTap"},DEFAULT_SUSHI_SOURCE_GROUP_ENDPOINT:"https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events",builder:function(){return new c}}});
r.register("sbv-transportation-client",function(){var f=function(){},n=function(){function l(){if(t.XDomainRequest){var c=new t.XDomainRequest;c.onerror=f;c.ontimeout=f;c.onprogress=f;c.onload=f;c.timeout=0;return c}if(t.XMLHttpRequest){c=new t.XMLHttpRequest;if(!("withCredentials"in c))throw"";return c}return null}return{send:function(c,f){if(f&&c){var e=l();if(!e)throw"";e.open("POST",c,!0);e.setRequestHeader&&e.setRequestHeader("Content-type","text/plain");e.send(f)}},isSupported:!0}}(),k=function(){return{send:function(f,
c){if(f&&c&&!t.navigator.sendBeacon(f,c))throw"";},isSupported:!!t.navigator.sendBeacon}}();return{ajaxClient:n,beaconClient:k}});r.when("sbv-transportation-client","sbv-event-manager").register("sbv-sushi-client",function(f,n){function k(c,k,e,d){this.endpoint=e;this.window=k;this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=
1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=f;var a=this;this.compressor=function(a){function b(b){if(b)switch(typeof b){case "number":return!(isNaN(b)||Infinity===b)&&b.toString().length>a.dictionaryIndex.length;case "boolean":break;case "string":return b.length>a.dictionaryIndex.length;default:return!0}return!1}function h(b){a.eventsDictionary[b]="#"+a.dictionaryIndex++;a.reverseEventsDictionary[a.eventsDictionary[b]]=b;return a.eventsDictionary[b]}function c(d){if(b(d)){var e=
0;d instanceof Array?e=2:d instanceof Function?e=null:d instanceof Object&&(e=1);switch(e){case 0:return a.eventsDictionary[d]?a.eventsDictionary[d]:h(d);case 2:var u=[];for(e=0;e<d.length;e++)u[e]=c(d[e]);return u;case 1:e={};for(u in d)Object.prototype.hasOwnProperty.call(d,u)&&(e[a.eventsDictionary[u]?a.eventsDictionary[u]:h(u)]=-1===l.indexOf(u)?c(d[u]):d[u]);return e}}return d}return{compressData:c,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this);
this.onBeforeUnload=function(){!0!==a.unloadHandlerCalled&&(a.flush(a,!0),a.unloadHandlerCalled=!0)};this.stringify=function(a){try{return JSON.stringify(a)}catch(u){}return null};this.resetBatch=function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0};this.sendWithClient=function(a){if(null==this.endpoint||""===this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var b=
this.compressor.buildPOSTObject();return a.send(this.endpoint,b)}throw"";}};this.sendWithPriority=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];try{return this.sendWithClient(b)}catch(m){}}return null};this.flush=function(a,b){a.eventsQueue.length&&(b||!1!==a.window.navigator.onLine)&&(b=a.eventsQueue.length,a.sendWithPriority(a.transportationClient.beaconClient,a.transportationClient.ajaxClient),a.resetBatch(),a.ueCount("EventsSent",b))};this.startHighPriorityQueueTimer=function(){0===
this.highPriorityFlushInterval?this.flush(this,!1):this.highPriorityTimer||(this.highPriorityTimer=setTimeout(this.flush,this.highPriorityFlushInterval,this,!1))};this.startLowPriorityQueueTimer=function(){this.lowPriorityTimer||(this.lowPriorityTimer=setTimeout(this.flush,this.lowPriorityFlushInterval,this,!1))};this.generateMessageId=function(a,b){return a+"-"+b+"-"+this.eventSequence};this.getCurrentISODate=function(){var a=new Date,b=function(a){return 10>a?"0"+a:a};return Date.prototype.toISOString?
a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"};this.decorateEvent=function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())};this.startTimers=function(a){a.n?this.startHighPriorityQueueTimer():this.startLowPriorityQueueTimer()};
this.encodeEvent=function(a,b,c){b=b.length;(499===this.eventsQueue.length||524288<this.batchSize+b)&&this.flush(this,!0);this.batchSize+=b;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(c)};this.addEvent=function(a,b){this.decorateEvent(a,b);var c=this.stringify(a);return c?(this.encodeEvent(a,c,b),!0):!1};this.isValidAPIParam=function(a,b){return a&&-1<a.constructor.toString().indexOf(b)};this.isMaxCallsReached=function(){this.eventSequence++;1E3<this.eventSequence&&
this.ueCount("SushiClientMaxCallsReached");return 1E3<this.eventSequence};this.isValidAPICall=function(a){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")};this.ueCount=function(a,b){if("undefined"!==typeof ue&&ue&&ue.count)return b=0===b?0:b||(ue.count(d+":"+a)||0)+1,ue.count(d+":"+a,b),b};this.processEvent=function(a,b){var c=this.unloadHandlerCalled=!1;this.options=b||{};this.isValidAPICall(a)&&(c=this.addEvent(a,this.options));c?this.ueCount("ClientEventsSuccess"):this.ueCount("ClientEventsFailed");
return c};n.addEventListener(c,t,"beforeunload",100,this.onBeforeUnload);n.addEventListener(c,document,"visibilitychange",100,this.onBeforeUnload);n.addEventListener(c,t,"blur",100,this.onBeforeUnload);n.addEventListener(c,t,"pagehide",100,this.onBeforeUnload);t.app||(t.app={});var b=t.app.willDisappear;t.app.willDisappear=function(){b&&b();a.onBeforeUnload()}}var l=["messageId","timestamp"];return{newClient:function(c,f,e,d){return new k(c,f,e,d)}}});r.when("A").register("sbv-automated-test-metrics-client",
function(f){function n(f){this.videoSingleProduct=f;this.processEvent=function(f){var c=this.videoSingleProduct.data("AUTOMATED_TEST_METRICS_ATTR");c===q&&(c=[]);c.push(f);this.videoSingleProduct.data("AUTOMATED_TEST_METRICS_ATTR",c)}}return{newClient:function(f){return new n(f)}}});r.when("A").register("sbv-platform-compatibility",function(f){function n(){return f.capabilities.isAmazonApp&&f.capabilities.ios}var k=null,l=navigator;return{isIOS:function(){return f.capabilities.ios},isIOSWebView:n,
canUseViewWillDisappearToReportMetrics:function(){if(!n()||!k)return!1;var c=k.split(".");if(2>c.length)return!1;var f=parseInt(c[0]);c=parseInt(c[1]);return 13<f||13===f&&18<=c},setAppVersion:function(c){k=c},isSafari:function(){return!(!l.vendor||!l.vendor.match(/apple/i))},isWebView:function(){return f.capabilities.isAmazonApp},_setNavigator:function(c){l=c}}});r.when("A").register("sbv-platform-placement",function(f){function n(c){return c===e.SPARKLE_MOBILE||c===e.SPARKLE_DESKTOP}function k(c){return c===
e.INLINE_MOBILE||c===e.INLINE_DESKTOP}function l(c){return c===e.BOTTOM_MOBILE||c===e.BOTTOM_DESKTOP}function c(c){return c===e.INLINE_MOBILE}function p(c){return c===e.BOTTOM_MOBILE}var e={SPARKLE_MOBILE:"loom-mobile-top-slot",INLINE_MOBILE:"loom-mobile-inline-slot",BOTTOM_MOBILE:"loom-mobile-bottom-slot",SPARKLE_DESKTOP:"loom-desktop-top-slot",INLINE_DESKTOP:"loom-desktop-inline-slot",BOTTOM_DESKTOP:"loom-desktop-bottom-slot"};return{getAllUpperPlacementSbvAdsProps:function(c,a){var b=k(c),d=l(c);
return[].slice.call(f.$(".sb-video-creative")).map(function(a){return JSON.parse(a.getAttribute("data-component-props"))}).filter(function(c){var e=c.widgetGroupId;if(a===c.pageNumber){if(b)return n(e);if(d)return n(e)||k(e)}return!1})},isTop:n,isInline:k,isBottom:l,isInlineMobileWidget:c,isBottomMobileWidget:p,isMobileNonSparklePage2PlusWidget:function(d,a){return(c(d)||p(d))&&1<parseInt(""+a)}}});r.when("A","sbv-video-single-content-mixin").register("sbv-single-product",function(f,n){var k=function(){this.init=
function(l,c,k){f.$(l).find("a:not(.sbv-store-ingress-link)").click(function(){var d=k&&k.getVideoCurrentTimeMs&&k.getVideoCurrentTimeMs();c.reportProductClicked(d)});var e=f.$(l).find(".sbv-product-img");e.data("imgsrc")&&e.attr("src",e.data("imgsrc"));e=f.$(l).find(".faceout-product-title");f.$(e).find("a").click(function(){c.reportProductTitleClicked()});e=f.$(l).find(".faceout-product-review");f.$(e).find("a").click(function(){c.reportProductReviewCountClicked()});l=f.$(l).find(".faceout-product-price");
f.$(l).find("a").click(function(){c.reportProductPriceClicked()})}};f.mixin(k.prototype,n);return{initialize:function(l,c,n){var e=new k,d=f.$(l).find(".sbv-sponsored-label"),a=f.$(l).find(".sbv-ad-feedback").get(0);e.init(l,c,n);e.loadAdFeedback(c,"video-single-product",d,a);return e}}});r.when("A").register("sbv-store-ingress",function(f){function n(){this.init=function(k,l,c){f.$(k).find("a").click(function(){l.reportStoreIngressClicked(c&&c.getVideoCurrentTimeMs())})}}return{initialize:function(f,
l,c){(new n).init(f,l,c)}}});r.register("sbv-retryable",function(){return function(f,n,k,l){function c(){0<d?(d--,p()):(a.cancel(),e())}var p=f,e=l,d=n,a=this;this._init=function(){p();this._intervalID=setInterval(c,k)};this.cancel=function(){clearInterval(this._intervalID)};this._init()}});r.when("A","sbv-video-mixin").register("sbv-video",function(f,n){var k=function(){this.metricsManager=this.$playIcon=this.$pauseClickRegion=this.$muteClickRegion=this.$unmuteIcon=this.$muteIcon=this.videoPlayer=
null;this.onScreenStartTime=0;this.videoTag=null;this.isVcpmEnabled=!1;this.adUnit=null};f.mixin(k.prototype,n);return{initialize:function(f,c,n,e,d,a){var b=new k;b.init(f,c,n,e,d,a);return b}}});r.when("A","sbv-viewability-manager","sbv-metrics-manager","sbv-video-player-builder","sbv-platform-compatibility","3p-promise","sbv-adblock-detector").register("sbv-video-mixin",function(f,n,k,l,c,p,e){var d=0,a={isViewedLogged:!1,isAdUnitViewLogged:!1,isProgressFiveSecondsLogged:!1,isFirstQuartileLogged:!1,
isMidpointLogged:!1,isThirdQuartileLogged:!1,isCompleteLogged:!1,isUnmuteLogged:!1};return{load:function(){this.videoPlayer.load()},toggleAudio:function(){var a=!this.videoPlayer.isMuted();this.setMuteStatus(a,a?k.SOUND_TOGGLE_OFF_CAUSE.ICON_TAP:k.SOUND_TOGGLE_ON_CAUSE.ICON_TAP)},updateMuteClickRegionAriaPressed:function(){var a="true"===this.$muteClickRegion.attr("aria-pressed");this.$muteClickRegion.attr("aria-pressed",!a)},setMuteButtonStatus:function(a){var b=this.$muteIcon,c=this.$unmuteIcon;
a?(b.css("fill-opacity",1),c.css("fill-opacity",0)):(b.css("fill-opacity",0),c.css("fill-opacity",1))},setMuteStatus:function(a,c){var b=this.videoPlayer,d=this.metricsManager;this.setMuteButtonStatus(a);a?(b.mute(),d&&d.reportVideoSoundOff(b.getCurrentTimeMs(),c)):(b.unmute(),d&&d.reportVideoSoundOn(b.getCurrentTimeMs(),c))},toggleClosedCaption:function(){this.$ccClickRegion&&0!==this.$ccClickRegion.length&&(this.ccOn=!this.ccOn,this.setCcStatus(this.ccOn,this.ccOn?k.CC_TOGGLE_ON_CAUSE.ICON_TAP:
k.CC_TOGGLE_OFF_CAUSE.ICON_TAP))},updateCcClickRegionAriaPressed:function(){var a="true"===this.$ccClickRegion.attr("aria-pressed");this.$ccClickRegion.attr("aria-pressed",!a)},setCcButtonStatus:function(a){var b=this.$ccOnIcon,c=this.$ccOffIcon;a?(b.css("opacity",1),c.css("opacity",0)):(b.css("opacity",0),c.css("opacity",1))},setCcStatus:function(a,c){if(this.$ccContainer){this.setCcButtonStatus(a);this.$ccContainer.css("visibility",a?"visible":"hidden");var b=this.metricsManager;a?b&&b.reportVideoCcOn(c):
b&&b.reportVideoCcOff(c)}},onBrowserVisibilityChange:function(a){if(c.isIOSWebView()){var b=this.videoPlayer;a?b.loadVideoOnBrowserVisible():b.clear()}},initPreviewImage:function(){var a=this.videoTag.dataset.videopreviewsrc;this.videoTag.getAttribute("poster")!==a&&this.videoTag.setAttribute("poster",a)},displayMuteClickRegion:function(a){a?(this.$muteClickRegion.addClass("aok-block"),this.$muteClickRegion.removeClass("aok-hidden"),this.metricsManager.reportAudioToggleIconDisplayed()):(this.$muteClickRegion.addClass("aok-hidden"),
this.$muteClickRegion.removeClass("aok-block"))},displayPauseClickRegion:function(a){this.$pauseClickRegion&&(a?(this.$pauseClickRegion.addClass("aok-block"),this.$pauseClickRegion.removeClass("aok-hidden"),this.metricsManager.reportPauseIconDisplayed()):(this.$pauseClickRegion.addClass("aok-hidden"),this.$pauseClickRegion.removeClass("aok-block")))},displayDurationTicker:function(a){this.$durationTicker&&this.$durationTicker.length&&(a?(this.$durationTicker.removeClass("aok-hidden"),this.metricsManager.reportDurationTickerDisplayed()):
this.$durationTicker.addClass("aok-hidden"))},displayCcClickRegion:function(a){a?(this.$ccClickRegion.addClass("aok-block"),this.$ccClickRegion.removeClass("aok-hidden"),this.metricsManager.reportCcToggleIconDisplayed()):(this.$ccClickRegion.addClass("aok-hidden"),this.$ccClickRegion.removeClass("aok-block"))},showPlayButton:function(a){var b=this.attribution;a?(this.$playButtonClickRegion.removeClass("aok-hidden"),this.metricsManager.reportPlayButtonShown()):(this.$playButtonClickRegion.addClass("aok-hidden"),
n.registerElement(b,this.videoTag,.5,!0,!0,!0,this.onFiftyPercentViewability.bind(this)),n.registerElement(b,this.videoTag,.01,!0,!0,!0,this.onOnePercentViewability.bind(this),{onBrowserVisibilityChange:this.onBrowserVisibilityChange.bind(this)}))},showDebugInfoCopiedHint:function(a){a?(this.$debugInfoCopiedHint.addClass("aok-block"),this.$debugInfoCopiedHint.removeClass("aok-hidden"),this.metricsManager.reportDebugInfoCopiedMessageShown()):(this.$debugInfoCopiedHint.addClass("aok-hidden"),this.$debugInfoCopiedHint.removeClass("aok-block"),
this.metricsManager.reportDebugInfoCopiedMessageHidden())},copyDebugInfoToClipboard:function(){var a=this,c=this.metricsManager;if(navigator&&navigator.clipboard&&navigator.clipboard.writeText){var d=JSON.stringify(this.metricsManager.getDebugMetricAttributes());navigator.clipboard.writeText(d).then(function(){c.reportDebugInfoCopiedSuccess(d);a.showDebugInfoCopiedHint(!0);setTimeout(function(){a.showDebugInfoCopiedHint(!1)},3E3)}).catch(function(a){c.reportDebugInfoCopiedFailure(a.message)})}else c.reportDebugInfoCopiedFailure("No Supports Clipboard API")},
manualPlay:function(){var a=this.videoPlayer,c=this.metricsManager;this.showPlayButton(!1);this.displayPauseClickRegion(!0);a.play();c.reportPlayButtonClicked(a.getCurrentTimeMs());c.reportVideoPlaybackInitiated(a.getCurrentTimeMs());this.$pauseClickRegion&&this.$pauseClickRegion.trigger("focus")},manualPause:function(){var a=this.videoPlayer,c=this.metricsManager;this.showPlayButton(!0);this.displayPauseClickRegion(!1);this.pauseButtonClicked=!0;a.pause();c.reportVideoPauseButtonTriggered(a.getCurrentTimeMs());
c.reportVideoPauseInitiated(a.getCurrentTimeMs());this.$playIcon&&this.$playIcon.trigger("focus")},onOnePercentViewability:function(a,c){a=this.videoPlayer;var b=this.metricsManager;c?(this.onScreenStartTime=this.getCurrentTimeMs(),b.reportVideoOnScreen(a.getPercentDownloaded())):(a.isMuted()||this.setMuteStatus(!0,k.SOUND_TOGGLE_OFF_CAUSE.VIDEO_OFF_SCREEN),c=this.getCurrentTimeMs()-this.onScreenStartTime,b.reportVideoOffScreen(c,0!=this.videoBufferingStartTime,a.getCurrentTimeMs()),this.onScreenStartTime=
0,a.seekToStart(),a.resetContinuousPlaybackDurationMs())},onFiftyPercentViewability:function(a,d){a=this.videoPlayer;var b=this.metricsManager;this.pauseButtonClicked||(d?(a.play(),a.resetContinuousPlaybackDurationMs(),b.reportVideoPlaybackInitiated(a.getCurrentTimeMs()),this.viewSessionStartTime=this.getCurrentTimeMs()):(a.pause(),b.reportVideoPauseInitiated(a.getCurrentTimeMs()),b.reportVideoView(a.getContinuousPlaybackDurationMs(),c.isIOSWebView()),a.resetContinuousPlaybackDurationMs(),this.viewSessionBufferingDuration=
0))},onVideoReadyForPlayback:function(a,c,d,e,f,k){this.metricsManager.reportVideoReadyForPlayback(a,c,d,e,f,k);this.onDurationLeftUpdated(0,e)},onVideoPlaybackFailure:function(a,c,d){this.$ccClickRegion&&this.displayCcClickRegion(!1);this.displayMuteClickRegion(!1);this.displayPauseClickRegion(!1);this.displayDurationTicker(!1);this.metricsManager.reportVideoPlaybackFailure(a,d,c)},onVideoPlaying:function(a,c,d){this.$ccClickRegion&&this.displayCcClickRegion(!0);this.displayMuteClickRegion(!0);this.displayPauseClickRegion(!0);
this.displayDurationTicker(!0);this.metricsManager.reportVideoPlaybackStarted(a,c,d)},onVideoPlaybackPaused:function(a,c,d){this.$ccClickRegion&&this.displayCcClickRegion(!1);this.displayMuteClickRegion(!1);this.displayPauseClickRegion(!1);this.displayDurationTicker(!1);this.metricsManager.reportVideoPaused(a,c,d)},onVideoBufferingStarted:function(a,c,d){var b=this.metricsManager;this.videoBufferingStartTime=this.getCurrentTimeMs();b.reportVideoBufferingStarted(a,c,d)},getCurrentTimeMs:function(){return Date.now()},
onVideoBufferingEnded:function(a,c,d){var b=this.metricsManager;this.videoBufferingStartTime=0;b.reportVideoBufferingEnded(a,c,d)},onTimeToFirstFrame:function(a,c,d,e,f){this.metricsManager.reportTimeToFirstFrame(a,c,d,e,f)},onPlaybackCompleted:function(b,c,d){this.metricsManager.reportPlaybackCompleted(b,c);a.isCompleteLogged||(a.isCompleteLogged=!0,this.metricsManager.reportViewMetricsVideoComplete(d))},onDurationPlayed:function(a,c,d){this.metricsManager.reportVideoDurationPlayed(a,c,d)},onContinuousDurationPlayed:function(a){this.metricsManager.reportVideoView(a,
!0)},logClick:function(){var a=this.videoPlayer,c=this.metricsManager;c&&c.reportVideoClicked(a.getCurrentTimeMs())},getVideoCurrentTimeMs:function(){return this.videoPlayer.getCurrentTimeMs()},onVideoAborted:function(a){var b=this.metricsManager;b&&b.reportVideoAborted(a)},onVideoSuspended:function(a){var b=this.metricsManager;b&&b.reportVideoSuspended(a)},onDurationLeftUpdated:function(a,c){this.$durationTickerSeconds&&this.$durationTickerSeconds.length&&(a=("0"+Math.floor((c-a)/1E3)).slice(-2),
!isNaN(a)&&isFinite(a)&&this.$durationTickerSeconds.html(a))},onVideoUnmute:function(b){a.isUnmuteLogged||(a.isUnmuteLogged=!0,this.metricsManager.reportViewMetricsVideoUnmute(b))},onVideoViewMetricsEvent:function(b,c,d,e){var f=this.isVcpmEnabled?e:b,h=0;this.isVcpmEnabled&&this.adUnit&&(h=this.adUnit.calculateVideoDurationTotalMsRelativeToAdUnit(e));!a.isAdUnitViewLogged&&2E3<=h&&(a.isAdUnitViewLogged=!0,e=this.adUnit.getAdUnitPercentInView(),this.metricsManager.reportViewMetricsAdUnitViewed(d,
e,h,this.isVcpmEnabled));!a.isViewedLogged&&2E3<=f&&(a.isViewedLogged=!0,h=n.getRatioInView(this.videoTag),this.metricsManager.reportViewMetricsVideoViewed(d,h,f,this.isVcpmEnabled));!a.isProgressFiveSecondsLogged&&5E3<=b&&(a.isProgressFiveSecondsLogged=!0,this.metricsManager.reportViewMetricsVideoProgressFiveSeconds(d));!a.isFirstQuartileLogged&&b>=.25*c&&(a.isFirstQuartileLogged=!0,this.metricsManager.reportViewMetricsVideoFirstQuartile(d));!a.isMidpointLogged&&b>=.5*c&&(a.isMidpointLogged=!0,this.metricsManager.reportViewMetricsVideoMidpoint(d));
!a.isThirdQuartileLogged&&b>=.75*c&&(a.isThirdQuartileLogged=!0,this.metricsManager.reportViewMetricsVideoThirdQuartile(d))},onVideoPlayPromiseRejected:function(a){var b=this.metricsManager;c.isIOS()&&null!==a&&""!==a&&a.startsWith("NotAllowedError")&&this.showPlayButton(!0);b&&b.reportVideoPlayPromiseRejected(a)},onVideoPlayPromiseNotSupported:function(){var a=this.metricsManager;a&&a.reportVideoPlayPromiseNotSupported()},init:function(b,h,u,m,p,t){function r(a,b,c){g.onDurationPlayed(a,b,c)}function z(a){g.onContinuousDurationPlayed(a)}
function y(a,b){g.onOnePercentViewability(a,b)}function x(a,b){g.onFiftyPercentViewability(a,b)}function C(){g.load();n.registerElement(b,g.videoTag,.5,!0,!0,!0,x);n.registerElement(b,g.videoTag,.01,!0,!0,!0,y,{onBrowserVisibilityChange:g.onBrowserVisibilityChange.bind(g)})}h=f.$(h);this.videoTag=h.find("video:first").get(0);var g=this;g.attribution=b;g.metricsManager=u;g.isVcpmEnabled=p;g.adUnit=t;a={isViewedLogged:!1,isAdUnitViewLogged:!1,isProgressFiveSecondsLogged:!1,isFirstQuartileLogged:!1,
isMidpointLogged:!1,isThirdQuartileLogged:!1,isCompleteLogged:!1,isUnmuteLogged:!1};if(this.videoTag===q||null===this.videoTag||this.videoTag.load===q||null===this.videoTag.load)u.reportMissingVideoFunction(this.videoTag===q||null===this.videoTag?"videoTag is undefined":this.videoTag.outerHTML?this.videoTag.outerHTML:"load function is undefined and outerHTML is not supported");else{g.initPreviewImage();p=l.builder(this.videoTag).withVideoReadyForPlaybackHandler(function(a,b,c,d,e,f){g.onVideoReadyForPlayback(a,
b,c,d,e,f)}).withTimeToFirstFrameHandler(function(a,b,c,d,e){g.onTimeToFirstFrame(a,b,c,d,e)}).withVideoPlaybackFailureHandler(function(a,b,c){g.onVideoPlaybackFailure(a,b,c)}).withVideoPlayingHandler(function(a,b,c){g.onVideoPlaying(a,b,c)}).withVideoPlaybackPausedHandler(function(a,b,c){g.onVideoPlaybackPaused(a,b,c)}).withPlaybackCompletedHandler(function(a,b){g.onPlaybackCompleted(a,b,m)}).withVideoBufferingStartedHandler(function(a,b,c){g.onVideoBufferingStarted(a,b,c)}).withVideoBufferingEndedHandler(function(a,
b,c){g.onVideoBufferingEnded(a,b,c)}).withVideoPlayedToBoundaryHandler(2E3,r).withVideoPlayedToBoundaryHandler(15E3,r).withVideoPlaybackFailedAfterPlayErrorCallback(function(){u.reportPlaybackFailedToStartAfterPlay()}).withVideoClearedOnHiddenBrowser(function(){u.reportVideoClearedOnHiddenBrowser()}).withVideoLoadedOnVisibleBrowser(function(){u.reportVideoLoadedOnVisibleBrowser()}).withVideoAbortedHandler(function(a){g.onVideoAborted(a)}).withVideoSuspendedHandler(function(a){g.onVideoSuspended(a)}).withTimeUpdateHandler(function(a,
b,c){g.onDurationLeftUpdated(a,b);g.onVideoViewMetricsEvent(a,b,m,c)}).withVideoPlayPromiseRejectedHandler(function(a){g.onVideoPlayPromiseRejected(a)}).withVideoPlayPromiseNotSupportedHandler(function(){g.onVideoPlayPromiseNotSupported()});c.isIOSWebView()&&!c.canUseViewWillDisappearToReportMetrics()&&(p=p.withVideoPlayedToContinuousBoundaryHandler(2E3,z));var B=p.build();g.videoPlayer=B;h.find("a").click(function(){g.logClick()});if(this.videoTag.textTracks){var A=this.videoTag.textTracks[0],D=
h.find('[data-itemid\x3d"sbv-video-cc-text"]')[0];A&&D&&(A.mode="hidden",A.addEventListener("cuechange",function(){var a=A.activeCues;a&&0<a.length&&(D.innerHTML=a[0].text)}.bind(this)))}(p=h.find('[data-itemid\x3d"sbv-video-cc-click-region"]'))&&p.length&&(g.$ccClickRegion=p,g.$ccOffIcon=h.find('[data-itemid\x3d"sbv-video-cc-toggle-off"]'),g.$ccOnIcon=h.find('[data-itemid\x3d"sbv-video-cc-toggle-on"]'),g.$ccContainer=h.find('[data-itemid\x3d"sbv-video-cc-container"]'),g.ccOn=!1,this.setCcStatus(g.ccOn,
k.CC_TOGGLE_OFF_CAUSE.VIDEO_INITIAL_OFF),p.click(function(a){a.preventDefault();g.updateCcClickRegionAriaPressed();g.toggleClosedCaption()}));p=h.find('[data-itemid\x3d"sbv-video-mute-click-region"]');g.$muteClickRegion=p;g.$muteIcon=h.find('[data-itemid\x3d"sbv-video-mute-icon"]');g.$unmuteIcon=h.find('[data-itemid\x3d"sbv-video-unmute-icon"]');g.setMuteButtonStatus(B.isMuted());p.click(function(a){a.preventDefault();g.updateMuteClickRegionAriaPressed();g.toggleAudio();g.$debugInfoCopiedHint&&g.$debugInfoCopiedHint.length&&
(d+=1,5===d&&(g.copyDebugInfoToClipboard(),d=0));if(!B.isMuted())g.onVideoUnmute(m)});p=h.find(".sbv-duration-ticker-seconds");g.$durationTickerSeconds=p;p=h.find(".sbv-duration-ticker-container");g.$durationTicker=p;p=h.find('[data-itemid\x3d"sbv-video-play-click-region"]');t=p.find(".sbv-video-play-button-container");g.$playButtonClickRegion=p;g.$playIcon=t;p.click(function(a){a.preventDefault();g.manualPlay()});p=h.find('[data-itemid\x3d"sbv-video-pause-click-region"]');g.$pauseClickRegion=p;g.pauseButtonClicked=
!1;p.click(function(a){a.preventDefault();g.manualPause()});h=h.find(".sbv-video-debug-info-copied-message-container");g.$debugInfoCopiedHint=h;(h=e.init())?h.then(function(){navigator.onLine&&(g.load(),g.showPlayButton(!0),u.reportAdBlockDetected())}).catch(function(){C()}):C()}}}});r.when("A","sbv-multi-brand-video-carousel-mixin").register("sbv-multi-brand-video-carousel",function(f,n){var k=function(){this.currentPlayingIndex=this.mbvCarouselItemElements=q};f.mixin(k.prototype,n);return{initialize:function(f,
c,p,e){var d=new k;d.init(f,c,p,e);return d}}});r.when("A","a-carousel-framework","sbv-video","sbv-single-product","sbv-viewability-manager","sbv-metrics-manager").register("sbv-multi-brand-video-carousel-mixin",function(f,n,k,l,c,p){var e=this,d=function(a){a=a.newValue-1;var b=e.mbvCarouselItemElements[e.currentPlayingIndex].video;b.onFiftyPercentViewability(0,!1);b.onOnePercentViewability(0,!1);b=e.mbvCarouselItemElements[a].video;b.onOnePercentViewability(1,!0);b.onFiftyPercentViewability(1,!0);
e.currentPlayingIndex=a},a=function(a,c,d,f){a.get().reduce(function(a,b){var e=b.getElementsByClassName("sbv-video")[0];e=k.initialize(d,e,c,f);var h=b.getElementsByClassName("sbv-product")[0];h=l.initialize(h,c,e);a[b.dataset.mbvIndex]={video:e,product:h};return a},e.mbvCarouselItemElements)};return{init:function(b,c,k,m){e.mbvCarouselItemElements={};e.currentPlayingIndex=0;var h=b.find(".sbv-mbv-carousel-element");n.onInit("mbv-carousel",function(b){a(h,c,k,m);f.on("a:carousel:mbv-carousel:change:pageNumber",
d)});return this},onCarouselPageChange:d,initializeCarouselElements:a,getMbvCarouselItemElements:function(){return e.mbvCarouselItemElements}}});r.when("A").register("sbv-page-state",function(f){function n(l,c){var p=k();p[l]=c;f.state("sb-video-state",p)}function k(){return f.state("sb-video-state")||{}}return{addItem:n,getItem:function(f){return k()[f]},getState:k,removeItem:function(l){var c=k();delete c[l];f.state("sb-video-state",c)},updateItem:n}});r.register("sbv-client-util",function(){return{isProgressiveScroll:function(){var f=
null;r.now("s-progressive-scroll-position").execute(function(n){n&&(f=n.get())});return!!f},EXECUTION_MODES:{AF_PAGE_2_PLUS_MOBILE:"AF_PAGE_2_PLUS_MOBILE",AF:"AF"},getWidgetDimensions:function(f){var n={};f&&f[0]&&f[0].getBoundingClientRect&&(n=f[0].getBoundingClientRect());return{width:n.width||0,height:n.height||0,viewportWidth:t.innerWidth,viewportHeight:t.innerHeight}}}});"use strict";r.when("sbv-retryable","sbv-platform-compatibility").register("sbv-video-player-builder",function(f,n){function k(c){var a=
this,b=0,d=0;this._videoElement=c;this._onVideoBufferingEnded=this._onVideoBufferingStarted=this._onPlaybackCompleted=this._onPlaybackPaused=this._onVideoPlaying=this._onVideoPlaybackFailure=this._onTimeToFirstFrame=this._onVideoReadyForPlayback=q;this._lastOnTimeUpdateCurrentTimeMs=0;this._boundaryChecks=[];this._continuousDurationBoundaryChecks=[];this._retryable=null;this._registerEventListeners=function(){var c=a._videoElement;c.oncanplay=function(){return a._handleVideoReadyForPlaybackEvent()};
c.onerror=function(){!a._assetLoaded&&3>a._retryLoadCount?(a._retryLoadCount++,setTimeout(a._videoElement.load.bind(a._videoElement),2E3)):a._handleVideoPlaybackFailureEvent()};c.onplaying=function(){a._handleFirstFramePlayedEvent();a._playbackstate===e.BUFFERING&&a._onVideoBufferingEnded(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames());a._playbackstate!==e.END&&a._onVideoPlaying(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames());a._playbackstate=e.PLAYING};c.onpause=
function(){a._videoElement.currentTime!==a._videoElement.duration&&(a._playbackstate=e.PAUSED,a._onPlaybackPaused(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames()))};c.onended=function(){a._playbackstate=e.END;var c=a.getDurationMs();d+=c-b;b=0;a._onPlaybackCompleted(a.getDurationMs(),a.getDroppedFrames());a._playInternal()};c.onwaiting=function(){a._playbackstate=e.BUFFERING;a._onVideoBufferingStarted(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames())};c.ontimeupdate=
function(){a.cancelPlayRetryable();var b=a.getCurrentTimeMs(),c=a.getDurationMs(),d=a.getContinuousPlaybackDurationMs();a._continuousDurationBoundaryChecks.forEach(function(a){a.reportIfBoundaryCrossed(d)});a._boundaryChecks.forEach(function(c){c.reportIfBoundaryCrossed(a._lastOnTimeUpdateCurrentTimeMs,b,a.getDurationMs(),a.getPercentDownloaded(),a.getDroppedFrames())});a._lastOnTimeUpdateCurrentTimeMs=b;a._onTimeUpdated(b,c,d)};c.onabort=function(){var b=a.getCurrentTimeMs();a._onAborted(b)};c.onsuspend=
function(){var b=a.getCurrentTimeMs();a._onSuspended(b)}};this._getDateTime=function(){return(new Date).getTime()};this._playInternal=function(){a._initiatedPlayTime||(a._initiatedPlayTime=a._getDateTime());var b=a._videoElement.play();b?b.catch(function(b){var c="Unknown";"string"===typeof b?c=b:b instanceof DOMException&&(c=b.name+": "+b.message);a._onVideoPlayPromiseRejected(c)}):a._onVideoPlayPromiseNotSupported()};this.cancelPlayRetryable=function(){a._retryable&&(a._retryable.cancel(),a._retryable=
null)};this._init=function(){a._playbackstate=e.INITIATED;a._loadStartTime=a._getDateTime();a._assetLoaded=!1;a._retryLoadCount=0;a._firstFramePlayed=!1;a._initiatedPlayTime=q};this._init();this._registerEventListeners();this._handleVideoReadyForPlaybackEvent=function(){if(!a._assetLoaded){var b=a._loadStartTime,c=a._getDateTime();a._onVideoReadyForPlayback(c-b,a._retryLoadCount,a.getPercentDownloaded(),a.getDurationMs(),b,c);a._assetLoaded=!0}};this._handleFirstFramePlayedEvent=function(){if(!a._firstFramePlayed){var b=
a._initiatedPlayTime,c=a._getDateTime();a._onTimeToFirstFrame(c-b,a.getPercentDownloaded(),a.getDroppedFrames(),b,c);a._firstFramePlayed=!0}};this._handleVideoPlaybackFailureEvent=function(){var b=a._videoElement;if(b.error){var c="UNKNOWN";if(b.error.code)switch(b.error.code){case 1:c="MEDIA_ERR_ABORTED";break;case 2:c="MEDIA_ERR_NETWORK";break;case 3:c="MEDIA_ERR_DECODE";break;case 4:c="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:c=b.error.code.toString()}a._onVideoPlaybackFailure(a.getCurrentTimeMs(),
c,b.error.message)}};this.addVideoReadyForPlaybackListener=function(b){a._onVideoReadyForPlayback=b;4==a._videoElement.readyState&&(a._onVideoReadyForPlayback(0,0,a.getPercentDownloaded(),a.getDurationMs(),0,0),a._assetLoaded=!0)};this.addVideoPlaybackFailureListener=function(b){a._onVideoPlaybackFailure=b;if(a._videoElement.error&&a._videoElement.error.code)a._videoElement.onerror()};this.play=function(){n.isIOS()?(a._retryable&&a.cancelPlayRetryable(),a._retryable=new f(a._playInternal,10,200,function(){a._assetLoaded&&
null!=a._playbackFailedAfterPlayErrorCallback&&a._playbackFailedAfterPlayErrorCallback()})):a._playInternal()};this.pause=function(){a.cancelPlayRetryable();a._videoElement.pause()};this.seekToStart=function(){var c=a.getCurrentTimeMs();d+=c-b;b=0;a._lastOnTimeUpdateCurrentTimeMs=0;a._videoElement.currentTime=0};this.mute=function(){a._videoElement.muted=!0};this.unmute=function(){a._videoElement.muted=!1};this.isMuted=function(){return a._videoElement.muted};this.getCurrentTimeMs=function(){return Math.round(1E3*
a._videoElement.currentTime)};this.getDurationMs=function(){return Math.round(1E3*a._videoElement.duration)};this.getDroppedFrames=function(){return a._videoElement.getVideoPlaybackQuality?a._videoElement.getVideoPlaybackQuality().droppedVideoFrames:a._videoElement.webkitDroppedFrameCount!=q?a._videoElement.webkitDroppedFrameCount:-1};this.getContinuousPlaybackDurationMs=function(){return d+(a.getCurrentTimeMs()-b)};this.resetContinuousPlaybackDurationMs=function(){var c=a.getCurrentTimeMs();d=0;
b=c===a.getDurationMs()?0:c;a._continuousDurationBoundaryChecks.forEach(function(a){a.resetReported()})};this.getPercentDownloaded=function(){var b=a._videoElement.buffered,c=0;if(b){for(var d=0;d<b.length;d++)c+=b.end(d)-b.start(d);return c/a._videoElement.duration}return 0};this.load=function(){a._videoElement.load()};this.loadVideoOnBrowserVisible=function(){var b=a._videoElement.dataset.videoSource;!a._videoElement.src&&b&&(a._videoElement.src=b,a.load(),a._onVideoLoadedOnVisibleBrowser())};this.clear=
function(){a._videoElement.dataset.videoSource=a._videoElement.src;a._videoElement.removeAttribute("src");a.load();a._onVideoClearedOnHiddenBrowser()}}function l(c,a){this.reportIfBoundaryCrossed=function(b,d,e,f,k){!isNaN(c)&&0<=c&&c<=e&&(b<=d?c>b&&c<=d&&a(c,f,k):(0<c&&c<=d||c>b&&c<=e)&&a(c,f,k))}}function c(c,a){var b=!1;this.resetReported=function(){b=!1};this.reportIfBoundaryCrossed=function(d){var e;if(e=!b)e=!isNaN(c)&&0<=c&&c<d;e&&(b=!0,a(d))}}function p(d){var a=this;this._videoPlayer=new k(d);
this.withVideoReadyForPlaybackHandler=function(b){a._videoPlayer.addVideoReadyForPlaybackListener(b);return a};this.withTimeToFirstFrameHandler=function(b){a._videoPlayer._onTimeToFirstFrame=b;return a};this.withVideoPlaybackFailureHandler=function(b){a._videoPlayer.addVideoPlaybackFailureListener(b);return a};this.withVideoPlayingHandler=function(b){a._videoPlayer._onVideoPlaying=b;return a};this.withVideoPlaybackPausedHandler=function(b){a._videoPlayer._onPlaybackPaused=b;return a};this.withPlaybackCompletedHandler=
function(b){a._videoPlayer._onPlaybackCompleted=b;return a};this.withVideoBufferingStartedHandler=function(b){a._videoPlayer._onVideoBufferingStarted=b;return a};this.withVideoBufferingEndedHandler=function(b){a._videoPlayer._onVideoBufferingEnded=b;return a};this.withVideoPlayedToBoundaryHandler=function(b,c){a._videoPlayer._boundaryChecks.push(new l(b,c));return a};this.withVideoPlayedToContinuousBoundaryHandler=function(b,d){a._videoPlayer._continuousDurationBoundaryChecks.push(new c(b,d));return a};
this.withVideoPlaybackFailedAfterPlayErrorCallback=function(b){a._videoPlayer._playbackFailedAfterPlayErrorCallback=b;return a};this.withVideoAbortedHandler=function(b){a._videoPlayer._onAborted=b;return a};this.withVideoSuspendedHandler=function(b){a._videoPlayer._onSuspended=b;return a};this.withTimeUpdateHandler=function(b){a._videoPlayer._onTimeUpdated=b;return a};this.withVideoPlayPromiseRejectedHandler=function(b){a._videoPlayer._onVideoPlayPromiseRejected=b;return a};this.withVideoPlayPromiseNotSupportedHandler=
function(b){a._videoPlayer._onVideoPlayPromiseNotSupported=b;return a};this.withVideoClearedOnHiddenBrowser=function(b){a._videoPlayer._onVideoClearedOnHiddenBrowser=b;return a};this.withVideoLoadedOnVisibleBrowser=function(b){a._videoPlayer._onVideoLoadedOnVisibleBrowser=b;return a};this.build=function(){var b=a._videoPlayer;if(b._onVideoReadyForPlayback&&b._onTimeToFirstFrame&&b._onVideoPlaybackFailure&&b._onVideoPlaying&&b._onPlaybackPaused&&b._onPlaybackCompleted&&b._onVideoBufferingStarted&&
b._onVideoBufferingEnded&&b._onAborted&&b._onSuspended&&b._onTimeUpdated&&b._onVideoPlayPromiseRejected&&b._onVideoPlayPromiseNotSupported)return a._videoPlayer;throw Error("Need implements all event listeners");}}var e={PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",INITIATED:"initiated",END:"ended"};return{builder:function(c){return new p(c)}}});r.register("sbv-event-manager",function(){function f(f){var c=0,k;for(k in f)c++;return c}function n(f,c,p){return function(e){k[c]&&k[c][p]&&
k[c][p].listeners.forEach(function(c){if(c.callback)try{c.callback(e)}catch(a){r.log(a&&a.message||"Unknown error in callback.","ERROR",f),ue&&ue.count&&ue.count("sbv-js-errors",(ue.count("sbv-js-errors")||0)+1)}})}}var k={};return{addEventListener:function(f,c,p,e,d){k[c]||(k[c]={});k[c][p]||(k[c][p]={listeners:[],generatedCallback:n(f,c,p)},c.addEventListener(p,k[c][p].generatedCallback));k[c][p].listeners.push({priority:e,callback:d});k[c][p].listeners.sort(function(a,b){return a.priority-b.priority})},
removeEventListener:function(l,c,p,e){k[l]&&k[l][c]&&(k[l][c].listeners=k[l][c].listeners.filter(function(c){return c.priority!==p||c.callback!==e}),0===k[l][c].listeners.length&&(l.removeEventListener(c,k[l][c].generatedCallback),delete k[l][c],f(k[l])&&delete k[l]))}}});"use strict";r.when("A","amzn-safe-frame-viewability","sbv-platform-compatibility","sbv-event-manager").register("sbv-viewability-manager",function(f,n,k,l){function c(a){return(a=n.geom(a))&&a.self&&a.self.iv||0}function p(a,b){a.isInView=
b;a.callback(a.ratio,b);a.recurring||r(a.element,a.ratio,a.dispatchOnElementInView,a.dispatchOnElementOutOfView,a.recurring)}function e(a,b){a.dispatchOnElementInView&&b>=a.ratio&&!a.isInView&&p(a,!0);a.dispatchOnElementOutOfView&&b<a.ratio&&a.isInView&&p(a,!1)}function d(a){e(a,0)}function a(a){var b=c(a.element);e(a,b)}function b(){v.forEach(d)}function h(){v.forEach(a)}function q(){var a=document.hidden;a?b():setTimeout(h,50);v.forEach(function(b){if(b.options&&b.options.onBrowserVisibilityChange)b.options.onBrowserVisibilityChange(!a)})}
function m(){b();h()}function r(a,c,d,e,p){var g=v.length;v=v.filter(function(b){return!(b.element===a&&b.ratio===c&&b.dispatchOnElementInView===d&&b.dispatchOnElementOutOfView===e&&b.recurring===p)});0===v.length&&(f.off("afterReady",x),f.off(f.constants.BROWSER_EVENTS.SCROLL,x),f.off(f.constants.BROWSER_EVENTS.RESIZE,x),f.off(f.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,x),l.removeEventListener(document,"visibilitychange",1,q),l.removeEventListener(t,"beforeunload",1,b),k.isWebView()||(l.removeEventListener(t,
"focus",1,h),l.removeEventListener(t,"blur",1,b)),k.isSafari()&&!k.isWebView()&&(l.removeEventListener(t,"pagehide",1,b),l.removeEventListener(t,"pageshow",1,h),l.removeEventListener(t,"popstate",1,m)));return g!==v.length}function y(){k.canUseViewWillDisappearToReportMetrics()&&!H&&(H=!0,t.app||(t.app={}),w=t.app.willDisappear,t.app.willDisappear=function(){b();w&&w()})}var v=[],w,H=!1;var x=f.throttle(function(){v.forEach(a)},50);return{registerElement:function(c,d,e,p,n,r,u,w){d={element:d,ratio:e,
dispatchOnElementInView:p,dispatchOnElementOutOfView:n,recurring:r,callback:u,options:w};0===v.length&&(f.on("afterReady",x),f.on(f.constants.BROWSER_EVENTS.SCROLL,x),f.on(f.constants.BROWSER_EVENTS.RESIZE,x),f.on(f.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,x),l.addEventListener(c,document,"visibilitychange",1,q),k.isWebView()||(l.addEventListener(c,t,"focus",1,h),l.addEventListener(c,t,"blur",1,b)),k.isSafari()&&!k.isWebView()&&(l.addEventListener(c,t,"pagehide",1,b),l.addEventListener(c,t,"pageshow",
1,h),l.addEventListener(c,t,"popstate",1,m)),y());v.push(d);a(d);return d},deregisterElement:r,getRatioInView:c,_handleRatioInViewChange:e,_onBrowserVisibilityChange:q}});r.when("A","sbv-ad-unit-mixin").register("sbv-ad-unit",function(f,n){var k=function(){this.attribution=null;this.adUnitInView=!1;this.videoDurationTotalMsWhenAdInViewFirst=this.videoDurationStartTimeMsWhenAdInViewFirst=0;this.adUnitElement=null};f.mixin(k.prototype,n);return{initialize:function(f,c){var l=new k;l.init(f,c);return l}}});
r.when("A","sbv-viewability-manager").register("sbv-ad-unit-mixin",function(f,n){return{init:function(f,l){this.attribution=f;this.adUnitElement=l},attach:function(){n.registerElement(this.attribution,this.adUnitElement,.5,!0,!0,!0,this.onFiftyPercentViewability.bind(this))},onFiftyPercentViewability:function(f,l){this.adUnitInView=l},isAdUnitInView:function(){return this.adUnitInView},calculateVideoDurationTotalMsRelativeToAdUnit:function(f){this.isAdUnitInView()?this.videoDurationTotalMsWhenAdInViewFirst=
f-this.videoDurationStartTimeMsWhenAdInViewFirst:(this.videoDurationTotalMsWhenAdInViewFirst=0,this.videoDurationStartTimeMsWhenAdInViewFirst=f);return this.videoDurationTotalMsWhenAdInViewFirst},getAdUnitPercentInView:function(){return n.getRatioInView(this.adUnitElement)}}})});
/* ******** */
(function(f){var r=window.AmazonUIPageJS||window.P,n=r._namespace||r.attributeErrors,b=n?n("SearchQuestionAnswerWidgetAssets",""):r;b.guardFatal?b.guardFatal(f)(b,window):b.execute(function(){f(b,window)})})(function(f,r,n){f.when("A","ready").execute("aspa-partial-collapse-expander",function(b){b.on("a:expander:qna_answer_expander:toggle:expand",function(b){b.expander.$expander.find(".a-expander-partial-collapse-header").addClass("aok-hidden");b.expander.$expander.find(".a-expander-partial-collapse-content").addClass("aspa-padding-none")});
b.on("a:expander:qna_question_expander:toggle:expand",function(e){var c=e.expander.$expander.find(".s-line-clamp-2");c.addClass("aok-block").removeClass("aok-inline-block");b.delay(function(){c.addClass("aok-inline-block").removeClass("aok-block")},0);f.when("aspa-sqa-event-module").execute("aspa-sqa-register-event",function(a){if(e.expander.$expander.find("#aspa-sqa-event")&&e.expander.$expander.find("#aspa-sqa-event")[0]&&e.expander.$expander.find("#aspa-sqa-event")[0].dataset){var b=e.expander.$expander.find("#aspa-sqa-event")[0].dataset.aspaSqaEventUrl;
var c=e.expander.$expander.find("#aspa-sqa-event")[0].dataset.aspaSqaEventCsrftoken;b&&c&&a.registerSqaEvent(b.concat("\x26aspa_ctype\x3dquestion_expansion"),c)}});f.when("a-expander").execute("aspa-question-expander",function(a){a.initializeExpanders()})})});"use strict";f.when("jQuery","rush-framework","a-button","lagoon-feedback-form").register("aspa-voting-component",function(b,e,c,a){function h(a,d){for(var g=0;g<a.length;++g)if(a[g].name===d)return a[g].value;return null}function k(a){var d=
{};b.map(a,function(a){d[a.name]=a.value});return d}function m(c){function d(){z||(x.addClass("aok-hidden"),y.addClass("aok-hidden"),n.removeClass("aok-hidden"))}function g(a){a.feedbackSelectors={feedbackContainer:p,buttonSection:p.find(".aspa-vote-buttons"),loadingSection:p.find(".aspa-loading-section"),successSection:p.find(".aspa-success-section"),errorSection:p.find(".aspa-error-section")}}function m(){z?(g(c.currentTarget),a.show(c.currentTarget)):w.removeClass("aok-hidden")}function q(a){401===
a.status?(l.unbind("submit"),l.submit()):(x.removeClass("aok-hidden"),y.removeClass("aok-hidden"))}function e(a){401!==a.status&&n.addClass("aok-hidden")}function f(){for(var d={},b=0;b<v.length;++b)"csm-producer"!==v[b].name&&"csm-schema"!==v[b].name&&(d[v[b].name]=v[b].value);r.ue&&r.ue.event&&r.ue.event(d,E,F);z?(g(c.currentTarget),a.show(c.currentTarget)):(x.addClass("aok-hidden"),y.addClass("aok-hidden"),w.removeClass("aok-hidden"))}var l=b(c.currentTarget),p=l.closest(".aspa-feedback-container"),
x=p.find(".aspa-vote-buttons"),n=p.find(".aspa-loading-section"),w=p.find(".aspa-success-section"),y=p.find(".aspa-error-section"),D=l.attr("action"),G=l.attr("method"),v=l.serializeArray(),A=k(v),E=h(v,"csm-producer"),F=h(v,"csm-schema"),z="THUMBS_DOWN"===(l[0]&&l[0].mainFeedback?l[0].mainFeedback.value:null)&&l[0].useFollowupFeedback&&"true"===l[0].useFollowupFeedback.value,H={"X-Requested-With":"XMLHttpRequest"};c.preventDefault();D?"application/json"===A.contentType?(delete A.contentType,b.ajax({url:D,
type:G,contentType:"application/json",data:JSON.stringify(A),withCredentials:!0,headers:H,beforeSend:d,success:m,error:q,complete:e})):b.ajax({url:D,type:G,data:v,withCredentials:!0,headers:H,beforeSend:d,success:m,error:q,complete:e}):E&&F&&f()}e.registerComponent("aspa-voting-component","aspa-voting-component",function(a){a=b(a.elem()).find(".aspa-vote-form");var d=c(".aspa-upvote-button"),g=c(".aspa-downvote-button");d.isEnabled()||d.enable();g.isEnabled()||g.enable();a.submit(m)})});"use strict";
f.when("A").register("aspa-sqa-event-module",function(b){return{registerSqaEvent:function(e,c){var a={};a["anti-csrftoken-a2z"]=c;b.post(e,{headers:a,timeout:500})}}});f.when("A","rush-framework").register("aspa-impression-logger",function(b,e){e.registerComponent("aspa-impression-logger","aspa-impression-logger",function(c){function a(a){a={request_id:g,slot_id:f,strategy_id:t,marketplace_id:n,subwidget_index:parseInt(u,10),subwidget_id:l,is_subwidget_preexpanded:a?1:0,is_subwidget_opened:null,is_subwidget_closed:null};
r.ue.event(a,m,q)}function e(){k=!k;var a={request_id:g,slot_id:f,strategy_id:t,marketplace_id:n,subwidget_index:parseInt(u,10),subwidget_id:l,is_subwidget_preexpanded:null,is_subwidget_opened:k?1:null,is_subwidget_closed:k?null:1};r.ue.event(a,m,q)}var k=!1,m=c.prop("nexusId"),q=c.prop("schemaId"),d=c.prop("eventName"),g=c.prop("requestId"),f=c.prop("slotId"),t=c.prop("strategyId"),n=c.prop("marketplaceId"),u=c.prop("subwidgetIndex"),l=c.prop("subwidgetId"),p=c.prop("isSubwidgetPreexpanded");m&&
q&&g&&d&&f&&t&&u&&l&&p&&n&&("0"===u&&(k="true"===p,a(k)),b.on(d,e),c.teardown=function(){b.off(d,e)})})});f.when("A","jQuery","rush-framework").register("aspa-asin-click-logger",function(b,e,c){c.registerComponent("aspa-asin-click-logger","aspa-asin-click-logger",function(a){var b=a.prop("nexusId"),c=a.prop("schemaId"),m=a.prop("eventScope"),q=a.prop("requestId"),d=a.prop("slotId"),g=a.prop("strategyId"),f=a.prop("marketplaceId"),t=a.prop("subwidgetIndex"),n=a.prop("subwidgetId"),u=a.prop("asin"),
l=a.prop("asinIndex"),p=a.prop("isAdAsin");b&&c&&m&&q&&d&&g&&t&&n&&u&&l&&p&&f&&e("#"+m).delegate("a","click",function(){var a={request_id:q,slot_id:d,strategy_id:g,marketplace_id:f,subwidget_index:parseInt(t,10),subwidget_id:n,is_clicked:1,asin:u,asin_index:parseInt(l,10),is_ad_asin:parseInt(p,10)};r.ue.event(a,b,c)})})});f.when("jQuery","rush-framework","s-component-utils","rush-util","s-actions").register("aspa-qna-asin-ajax-loader",function(b,e,c,a,h){function k(a,b){b&&b.$target&&0<b.$target.length&&
(b=b.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<b.length&&(b=b.find(".qna-asin-ajax-loader-error-section"))&&0<b.length&&(a?b.show():b.hide())}function m(a,b,d){var g;d&&d.$target&&0<d.$target.length&&(d=d.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<d.length&&((g=d.find(".qna-asin-ajax-loader-spinner"))&&0<g.length&&(a?g.show():g.hide()),(a=d.find(".qna-asin-ajax-loader-header"))&&0<a.length&&(b?a.show():a.hide()))}function q(a){var b=r.ue;b&&b.count&&
b.count(a,1)}function d(a){k(!0,a);m(!1,!1,a);q("qna_question_click_failure_ajax_content_loading")}function g(g,c,e){var f=c.find(".qna-ajax-content-span"),v=f.attr("data-ajaxUrl"),k=f.attr("data-asinIdToMetadata");f={};var h;if(a.isNotBlank(v)&&a.isNotBlank(k)&&(c=c.find(".s-ajax-loader-qna-carousel-item"))&&0<c.length){f.suffix=":"+B;f.asinIdToMetadata=k;x[w]=c.length;for(h=0;h<c.length;h++){var n=c[h].getAttribute("data-asin");k=l.hasOwnProperty(n)?l[n]:[];k.push(c[h]);l[n]=k;p[n]=!1}m(!0,!1,e);
g.requestPartialContent(v,f).then(function(){var a=0,c,g=e.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"),f;if(g&&0<g.length){g=g[0].id+"_"+b(g[0].closest("[data-uuid]")).attr("data-uuid");for(h in p)if(p.hasOwnProperty(h)&&!p[h]){var k=l[h];for(f=0;f<k.length;f++)(c=b(k[f]).closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<c.length&&(c=c[0].id+"_"+b(c[0].closest("[data-uuid]")).attr("data-uuid"),g===c&&(a+=1,q("qna_question_click_failure_ajax_asin_loading"),(c=b(k[f]).closest(".a-carousel-card"))&&
0<c.length&&(c.remove(),l[h]&&l[h].length>f&&l[h].splice(f,1)),0===l[h].length&&(p[h]=!0)))}var h=a;h===x[g]?d(e):(m(!1,!0,e),0===h&&q("qna_question_click_success_ajax_content_loading"))}}).catch(function(){d(e)})}}function I(a){var c,g;if((r.MutationObserver||r.WebKitMutationObserver||r.MozMutationObserver)===n)q("qna_question_click_mutation_observer_not_supported");else if(!y.includes(a)){y.push(a);var d={attributes:!0,childList:!1,subtree:!1};var f=function(a){if(a&&0<a.length)for(c in a)if(a[c]&&
"attributes"===a[c].type&&a[c].target&&"style"===a[c].attributeName&&(g=a[c].target.getAttribute("style"))&&-1<g.indexOf("height")&&-1===g.indexOf("height: 100%")){b(a[c].target).height("100%");e&&e.disconnect();break}};var e=new MutationObserver(f);e.observe(a,d)}}var t,C=!1,u={},l={},p={},x={},B,w,y=[];(c=b.find(".aspa-qna-asin-ajax-loader"))&&0<c.length&&(B=b(c[0].closest("[data-uuid]")).attr("data-uuid"));f.when("A","s-web-application-controller").execute(function(a,c){a.declarative("qaAjaxEnabledClickExpander",
"click",function(a){try{C=!1,(t=a.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<t.length&&(w=t[0].id+"_"+b(t[0].closest("[data-uuid]")).attr("data-uuid"),!u.hasOwnProperty(w)||u.hasOwnProperty(w)&&!u[w])&&(C=u[w]=!0),C&&(k(!1,a),m(!1,!1,a),g(c,t,a))}catch(A){d(a)}})});e.registerComponent("aspa-qna-asin-ajax-loader","aspa-qna-asin-ajax-loader",function(a){a.on(h.RESULT_ITEM_READY+":"+B,function(a){var c,g,d;try{if(l.hasOwnProperty(a.item.asin)&&p.hasOwnProperty(a.item.asin)&&(g=
l[a.item.asin])&&0<g.length){for(d=0;d<g.length;d++){var e=a.item.html;e=e.replace("s-card-container","s-card-container s-card-drop-shadow");e=e.replace("s-result-item","s-result-item s-expand-height");e.indexOf("sg-col-6-of-")&&(e=e.replace("sg-col-6-of-","sg-col-7-of-"));b(g[d]).html(e);(c=b(g[d]).closest(".a-carousel-viewport"))&&0<c.length&&(c.height("100%"),I(c[0]))}p[a.item.asin]=!0}}catch(z){q("qna_question_click_failure_ajax_content_loading")}})})});"use strict";f.when("A","jQuery","a-modal",
"ready").register("lagoon-feedback-form-modal",function(b,e,c){var a=null,f=null,k=null,m={name:"lagoon-feedback-form-modal",width:480,height:400,header:"",data:""};return{show:function(b){b&&(m.data=b,a=m,a.header=b.detailFeedbackWelcomeText.value,m.url=b.url,null===k&&(f=e("\x3cdiv/\x3e",{id:"lagoon-feedback-modal"}),e(document.body).append(f),k=c.create(f,m)),k.update(a).lock().show())},hide:function(){k.unlock().hide()}}});"use strict";f.when("A","jQuery","ready").register("lagoon-feedback-form-bottom-sheet",
function(b,e){function c(a,c){var b=h.instance.getContentContainer();e.ajax(a).done(function(a){b.html(a)}).fail(function(){b.html('\x3cdiv class\x3d"lagoon-feedback-form-error"\x3e'+c+"\x3c/div\x3e")});b.addClass("lagoon-feedback-bottom-sheet-container-round-corner")}var a=null,h=null,k=e('\x3cdiv class\x3d"a-spinner-wrapper"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium lagoon-feedback-bottom-sheet-spinner"\x3e\x3c/span\x3e\x3c/div\x3e');f.when("a-sheet").execute("init",function(c){var b=360>
r.innerWidth?.7*r.innerHeight:385;h={id:0,instance:null,options:{name:"lagoon-feedback-form-bottom-sheet",height:b,inlineContent:k.html(),closeType:"message"}};a=c});b.on("a:sheet:beforeShow:lagoon-feedback-form-bottom-sheet",function(a){(a=a.sheet?a.sheet.getContentContainer():n)&&0<a.length&&a.addClass("lagoon-feedback-bottom-sheet-container-round-corner")});return{show:function(b){if(null!==a&&b){h.options.data=b;null===h.instance&&(h.instance=a.create(h.options));a.showSheet(h.instance);h.instance.$container.attr("id",
"lagoon-feedback-bottom-sheet-container");var e=b.detailFeedbackSomethingWrongText.value;c(b.url,e)}},hide:function(){a.hideSheet(h.instance)},afterHide:function(){h.instance.getContentContainer().html(k.html())}}});"use strict";f.when("A","jQuery","lagoon-feedback-form-modal","lagoon-feedback-form-bottom-sheet","ready").register("lagoon-feedback-form-instance",function(b,e,c,a){return{getFeedbackForm:function(){return/(^| )a-mobile( |$)/.test(document.documentElement.className)?a:c}}});"use strict";
f.when("A","jQuery","a-tooltip","lagoon-feedback-form-instance","ready").register("lagoon-feedback-form",function(b,e,c,a){function f(b){var c=a.getFeedbackForm();return e.isFunction(c[b])}function k(){d.feedbackSelectors.buttonSection.addClass("aok-hidden");d.feedbackSelectors.loadingSection.addClass("aok-hidden");d.feedbackSelectors.successSection.removeClass("aok-hidden")}function m(){f("hide")&&a.getFeedbackForm().hide()}var q=!1,d={actionValue:"",cxId:"",feedbackOptionType:"",id:"",idType:"",
url:"",detailFeedbackWelcomeText:"",detailFeedbackSomethingWrongText:"",feedbackSelectors:""};return{show:function(b){b&&b.id&&b.cxId&&b.idType&&b.feedbackSelectors&&b.feedbackOptionType&&b.detailFeedbackWelcomeText&&b.detailFeedbackSomethingWrongText?(d.id=b.id.value,d.cxId=b.cxId.value,d.idType=b.idType.value,d.feedbackSelectors=b.feedbackSelectors,d.feedbackOptionType=b.feedbackOptionType.value,d.detailFeedbackWelcomeText=b.detailFeedbackWelcomeText.value,d.detailFeedbackSomethingWrongText=b.detailFeedbackSomethingWrongText.value,
d.url="mashov/lagoon/feedback/form?feedbackOptionType\x3d"+b.feedbackOptionType.value+"\x26answerResponseId\x3d"+b.id.value,b.url=d.url,d.actionValue="",q=!1,a.getFeedbackForm().show(b)):k()},submit:function(a){""!==d.actionValue&&(e.ajax({type:"POST",url:"/mashov/v1/feedback",data:JSON.stringify({cxId:d.cxId,idType:d.idType,id:d.id,detailFeedback:d.actionValue,feedbackType:"DETAIL_FEEDBACK"}),contentType:"application/json"}),d.actionValue="",q=!1,k(a),m())},hide:m,update:function(a){d.actionValue=
a.data.optionStringId;var b=null;if(!q){a=e("#lagoon-feedback-submit-mobile");var c=e("#lagoon-feedback-submit-desktop");a[0]!==n?(a.removeClass("a-button-disabled"),a.css("background-color","#007185"),b=a.find(".a-button-input")):c[0]!==n&&(c.removeClass("a-button-disabled"),b=c.find(".a-button-input"));b&&b[0]!==n&&(b[0].disabled=!1);q=!0}},afterHide:function(){f("afterHide")&&a.getFeedbackForm().afterHide();d.actionValue="";q=!1;k()},setDefaultFeedbackContext:function(){d.idType="ANS_RES_ID";d.id=
"TEST_ID";d.cxId="LAGOON_FEEDBACK"}}});"use strict";f.when("A","jQuery","lagoon-feedback-form","ready").execute("lagoon-feedback-form-signals",function(b,e,c){b.declarative("lagoon-feedback-submit-button-click","click",function(a){c.submit(a)});b.declarative("lagoon-feedback-cancel-button-click","click",function(a){c.hide(a)});b.declarative("lagoon-accordion-detail-feedback-click","click",function(a){c.update(a)});b.on("a:sheet:afterHide:lagoon-feedback-form-bottom-sheet",function(a){c.afterHide(a)});
b.on("a:popover:afterHide:lagoon-feedback-form-modal",function(a){c.afterHide(a)})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("PantryCPIMobileAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var d=window.AmazonUIPageJS||window.P,f=d._namespace||d.attributeErrors,a=f?f("PrelaunchAssets",""):d;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,d,f){c.when("A","a-button","tez-nlx-utils").register("nlx-notify-me-utils",function(a,c,t){function f(){function a(a){return(10>a?"0":"")+a}var e=new Date;return e.getUTCFullYear().toString().substr(2)+a(e.getUTCMonth()+1)+a(e.getUTCDate())+a(e.getUTCHours())}function n(a){k.get("/hctp/log/refMarker?ref_\x3d"+
a)}function p(a){var e="",c;for(c in a)""!==e&&(e+="\x26"),e+=c+"\x3d"+encodeURIComponent(a[c]);return e}function g(g){var e=0===k("html.a-mobile").length?!1:!0,h=k(g.target),b=h.data(),u=b.signedIn,v=b.refMarker,w=b.subscribeText,x=b.unsubscribeText,l=b.notifyUri,q=b.action;a:switch(b.source){case "DETAIL":var r="d";break a;default:r="s"}b={topics:b.topic,channels:b.channel,csrfToken:b.token,entityID:b.entityId,entityType:b.entityType,action:b.action,source:b.source,shouldSendConfirmationEmail:b.sendConfirmationEmail};
var m=c("#"+h.closest(".a-button").get(0).id),y=m.text();g.preventDefault();"TEZ_NLX_ENTITY"===b.entityType?t.handleTezNLXNavigation(l):!0!==u?d.location.href=l+"?"+p(b)+"\x26redirectUrl\x3d"+encodeURIComponent("/preferences/subscriptions/your-subscriptions/current-subscriptions?noMoaR\x3d1"):(h.html('\x3cspan class\x3d"a-spinner a-spinner-small"\x3e\x3c/span\x3e'),a.ajax(l,{params:b,method:"post",success:function(){switch(q){case "sub":var a="unsub";var b=x;break;default:a="sub",b=w}m.text(b);h.data("action",
a);a=r;b="sub"===q?"n":"u";var c=f();n(v+"_"+a+"_"+(e?"m":"d")+"_"+c+"_"+b)},error:function(){m.text(y)}}))}var k=a.$;return{generateQueryString:p,registerRefMarker:n,getButtonClickHandler:function(){return g}}});"use strict";c.when("A","nlx-notify-me-utils","rush-framework").register("nlx-notify-me-component",function(a,c,d){var f=a.$;d&&d.registerComponent("nlx-notify-me-component","nlx-notify-me-component",function(a){a=a.elem();a=f(a);var d=c.getButtonClickHandler();a.click(d)})});"use strict";
c.when().register("tez-nlx-utils",function(){return{handleTezNLXNavigation:function(a){d.location.href="https://"+d.location.hostname+a+"\x26ref\x3dtez_nlx_from_search"}}})});
/* ******** */
(function(h){var l=window.AmazonUIPageJS||window.P,m=l._namespace||l.attributeErrors,b=m?m("MashovAssets",""):l;b.guardFatal?b.guardFatal(h)(b,window):b.execute(function(){h(b,window)})})(function(h,l,m){h.when("A","jQuery","a-modal","ready").register("mashov-feedback-form-modal",function(b,d,f){var c=null,a=null,e=null,k={name:"mashov-feedback-modal",width:480,height:400,header:"",data:""};return{show:function(b){"undefined"!==typeof b.data&&(k.data=b.data,c=k,c.header=b.data.detailFeedbackWelcomeText,
k.url=b.data.url,null===e&&(a=d("\x3cdiv/\x3e",{id:"mashov-feedback-modal"}),d(document.body).append(a),e=f.create(a,k)),e.update(c).lock().show())},hide:function(){e.unlock().hide()}}});"use strict";h.when("A","jQuery","ready").register("mashov-feedback-form-bottom-sheet",function(b,d){function f(c,b){var k=a.instance.getContentContainer();d.ajax(c).done(function(g){k.html(g)}).fail(function(){k.html('\x3cdiv class\x3d"mashov-feedback-form-error"\x3e'+b+"\x3c/div\x3e")});k.addClass("mashov-feedback-bottom-sheet-container-round-corner")}
var c=null,a=null,e=d('\x3cdiv class\x3d"a-spinner-wrapper"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium mashov-feedback-bottom-sheet-spinner"\x3e\x3c/span\x3e\x3c/div\x3e');h.when("a-sheet").execute("init",function(k){var b=360>l.innerWidth?.7*l.innerHeight:375;a={id:0,instance:null,options:{name:"mashov-feedback-bottom-sheet",height:b,inlineContent:e.html(),closeType:"message"}};c=k});b.on("a:sheet:beforeShow:mashov-feedback-bottom-sheet",function(a){(a=a.sheet?a.sheet.getContentContainer():
m)&&0<a.length&&a.addClass("mashov-feedback-bottom-sheet-container-round-corner")});return{show:function(b){if(null!==c&&b.data){a.options.data=b.data;null===a.instance&&(a.instance=c.create(a.options));c.showSheet(a.instance);a.instance.$container.attr("id","mashov-feedback-bottom-sheet-container");var d=b.data.detailFeedbackSomethingWrongText;f(b.data.url,d)}},hide:function(){c.hideSheet(a.instance)},afterHide:function(){a.instance.getContentContainer().html(e.html())}}});"use strict";h.when("A",
"jQuery","mashov-feedback-form-modal","mashov-feedback-form-bottom-sheet","mashov-feedback-form-lagoon-orchestrator","ready").register("mashov-feedback-form-instance",function(b,d,f,c,a){var e=null;return{handleOrchestratorMethod:function(c,b){null===e&&c&&c.data&&c.data.cxId===a.LAGOON_FEEDBACK_CX_ID&&(e=a);if(e&&d.isFunction(e[b]))return e[b](c)},getFeedbackForm:function(){return/(^| )a-mobile( |$)/.test(document.documentElement.className)?c:f}}});"use strict";h.when("A","jQuery","a-tooltip","mashov-feedback-form-instance",
"ready").register("mashov-feedback-form",function(b,d,f,c){function a(a){var g=c.getFeedbackForm();return d.isFunction(g[a])}function e(){c.handleOrchestratorMethod(null,"resetFeedback");g=!1}function k(){a("hide")&&c.getFeedbackForm().hide()}function h(){var a=null,g=null,b=d('\x3cdiv id\x3d"mashov-acknowledge-feedback-tooltip-container"\x3e\x3c/div\x3e');d("#mashov-acknowledge-feedback-tooltip-container").remove();d.when(d("#mashov-acknowledge-feedback-tooltip").remove()).then(function(){var p=
n+d(l).height()/2;b.css("top",p);d(document.body).append(b);g={name:"mashov-acknowledge-feedback-tooltip",inlineContent:'\x3ci class\x3d"a-icon a-icon-success a-icon-small mashov-acknowledge-feedback-tooltip-icon" role\x3d"img"\x3e\x3c/i\x3e\x3cdiv class\x3d"mashov-acknowledge-feedback-tooltip-message aok-relative"\x3e'+c.handleOrchestratorMethod(null,"getThankYouMessage")+"\x3c/div\x3e",width:300};a=f.create(b,g);a.show();a.$container.attr("id","mashov-acknowledge-feedback-tooltip");setTimeout(function(){f.remove(a)},
3E3)})}var n=0,g=!1;return{show:function(g){g&&g.data&&a("show")&&(c.handleOrchestratorMethod(g,"setFeedbackContext"),n=Math.abs(document.body.getBoundingClientRect().top),e(),c.getFeedbackForm().show(g))},submit:function(a){c.handleOrchestratorMethod(a,"isReadyToSubmit")&&(c.handleOrchestratorMethod(a,"submitFeedback"),e(),h(),k())},hide:k,update:function(a){c.handleOrchestratorMethod(a,"updateFeedback");var b=null;if(!g){a=d("#mashov-feedback-submit-mobile");var f=d("#mashov-feedback-submit-desktop");
a[0]!==m?(a.removeClass("a-button-disabled"),a.css("background-color","#007185"),b=a.find(".a-button-input")):f[0]!==m&&(f.removeClass("a-button-disabled"),b=f.find(".a-button-input"));b[0]!==m&&(b[0].disabled=!1);g=!0}},afterHide:function(){a("afterHide")&&c.getFeedbackForm().afterHide();e()}}});"use strict";h.when("A","jQuery","mashov-feedback-form","mashov-feedback-form-lagoon-orchestrator","ready").execute("mashov-feedback-form-signals",function(b,d,f,c){b.declarative("mashov-utterance-feedback-thumbs-down-click",
"click",function(a){a.data.cxId===c.LAGOON_FEEDBACK_CX_ID&&f.show(a)});b.declarative("mashov-feedback-submit-button-click","click",function(a){f.submit(a)});b.declarative("mashov-feedback-cancel-button-click","click",function(a){f.hide(a)});b.declarative("mashov-accordion-detail-feedback-click","click",function(a){f.update(a)});b.on("a:sheet:afterHide:mashov-feedback-bottom-sheet",function(a){f.afterHide(a)})});"use strict";h.when("A","jQuery","mashov-feedback-request","ready").register("mashov-feedback-form-lagoon-orchestrator",
function(b,d,f){var c="",a="",e="",k="",h="",l="";return{LAGOON_FEEDBACK_CX_ID:"LAGOON_FEEDBACK",getThankYouMessage:function(){return h},isReadyToSubmit:function(){return""!==c},resetFeedback:function(){c=""},setFeedbackContext:function(g){a=g.data.cxId;e=g.data.id;k=g.data.idType;h=g.data.detailFeedbackSuccessText;l="mashov/lagoon/feedback/form?feedbackOptionType\x3d"+g.data.feedbackOptionType+"\x26answerResponseId\x3d"+g.data.id;g.data.url=l},setDefaultFeedbackContext:function(){k="ANS_RES_ID";
e="TEST_ID";a="LAGOON_FEEDBACK"},submitFeedback:function(){f.saveDetailFeedback(a,k,e,c)},updateFeedback:function(a){c=a.data.optionStringId}}});"use strict";h.when("A","jQuery","mashov-feedback-request","ready").execute("mashov-thumbs-feedback",function(b,d,f){function c(a){return{image:a.find(".mashov-thumbs-up-image"),imageSelected:a.find(".mashov-thumbs-up-selected-image")}}function a(a){return{image:a.find(".mashov-thumbs-down-image"),imageSelected:a.find(".mashov-thumbs-down-selected-image")}}
function e(a){return{feedbackMessage:a.find(".mashov-feedback-message"),thankYouMessage:a.find(".mashov-feedback-acknowledgment-message")}}function k(a){d(a.image).addClass("aok-hidden");d(a.imageSelected).removeClass("aok-hidden")}function h(a){d(a.image).removeClass("aok-hidden");d(a.imageSelected).addClass("aok-hidden")}function m(a){d(a.feedbackMessage).addClass("aok-hidden");d(a.thankYouMessage).removeClass("aok-hidden")}b.declarative("mashov-utterance-feedback-thumbs-up-click","click",function(b){var d=
b.$currentTarget.parent();k(c(d));h(a(d));m(e(d.parent()));l.ue.count("Mashov."+b.data.cxId+".ThumbsUp",1);f.savePositiveFeedback(b.data.cxId,b.data.idType,b.data.id)});b.declarative("mashov-utterance-feedback-thumbs-down-click","click",function(b){var d=b.$currentTarget.parent();k(a(d));h(c(d));m(e(d.parent()));l.ue.count("Mashov."+b.data.cxId+".ThumbsDown",1);f.saveNegativeFeedback(b.data.cxId,b.data.idType,b.data.id)});b.on("load",function(){var a=document.querySelectorAll("span[data-action\x3d'mashov-utterance-feedback-thumbs-up-click']"),
b;for(b=0;b<a.length;b++){var c=JSON.parse(a[b].getAttribute("data-mashov-utterance-feedback-thumbs-up-click"));c=c.cxId||"UNDEFINED_CX_ID";l.ue.count("Mashov."+c+".ThumbsWidgetRendered",1)}})});"use strict";h.when("jQuery").register("mashov-feedback-request",function(b){function d(d){b.ajax({type:"POST",url:"/mashov/v1/feedback",data:JSON.stringify(d),contentType:"application/json"})}return{savePositiveFeedback:function(b,c,a){d({cxId:b,idType:c,id:a,mainFeedback:"THUMBS_UP",feedbackType:"MAIN_FEEDBACK"})},
saveNegativeFeedback:function(b,c,a){d({cxId:b,idType:c,id:a,mainFeedback:"THUMBS_DOWN",feedbackType:"MAIN_FEEDBACK"})},saveDetailFeedback:function(b,c,a,e){d({cxId:b,idType:c,id:a,detailFeedback:e,feedbackType:"DETAIL_FEEDBACK"})}}})});
/* ******** */
(function(h){var d=window.AmazonUIPageJS||window.P,r=d._namespace||d.attributeErrors,g=r?r("ShareWidgetTriggerAssets",""):d;g.guardFatal?g.guardFatal(h)(g,window):g.execute(function(){h(g,window)})})(function(h,d,r){h.now("tafShareOnNetwork").execute(function(d){"undefined"!==typeof d?h.log("tafShareOnNetwork is already registered","WARN","ShareWidgetTriggerAssets"):h.when("A","socialShareUtil").register("tafShareOnNetwork",function(c,a){var d={facebook:{shareEndpoint:"https://www.facebook.com/dialog/share",
params:function(b){return{href:a.decodeEntities(b.url),display:"popup",quote:b.quote?a.decodeEntities(b.quote):"",app_id:"465632727431967"}},ref:"fb",height:450,width:700,isWebShare:!0},pinterest:{shareEndpoint:"https://www.pinterest.com/pin/create/button",params:function(b){return{url:a.decodeEntities(b.url),media:a.decodeEntities(b.image),description:a.decodeEntities(b.description)}},ref:"pi",height:620,width:700,isWebShare:!0},line:{shareEndpoint:"https://social-plugins.line.me/lineit/share",params:function(b){var c=
a.decodeEntities(b.title)+" "+a.decodeEntities(b.description);b=a.decodeEntities(b.url);return{text:c,url:b}},ref:"li",height:620,width:700,isWebShare:!0},twitter:{shareEndpoint:"https://twitter.com/intent/tweet",params:function(b){var c=a.decodeEntities(b.title);b=a.decodeEntities(b.url);if(c){var d=b?Math.min(b.length,20):-1;200<c.length+d+1&&(c=c.substring(0,200-(d+1+3))+"...")}return{text:c,url:b}},ref:"tw",height:470,width:670,isWebShare:!0},email:{shareEndpoint:"mailto:",params:function(b){return{subject:a.decodeEntities(b.title),
body:a.decodeEntities(b.description)+"\n"+a.decodeEntities(b.url)}},ref:"em",isWebShare:!1},sms:{shareEndpoint:"sms:",params:function(b){return{body:a.decodeEntities(b.title)+" "+a.decodeEntities(b.url)}},ref:"sm",isWebShare:!1},whatsapp:{shareEndpoint:"whatsapp://send",params:function(b){return{text:a.decodeEntities(b.title)+"\n"+a.decodeEntities(b.description)+"\n"+a.decodeEntities(b.url)}},ref:"wa",isWebShare:!1}};return{share:function(b,c){var e=d[c];if("undefined"===typeof e)a.logFatal("Unsupported network:"+
c,b.clientRef);else{var g=a.generateReftags(b,e.ref);b.network=c;a.logCSACustomEvent(g.clickReftag,"share",b);b.url=a.updateReftagParam(b.url,g.returnReftag);a.logCounter("Click."+e.ref,1);b=a.buildUrl(e.shareEndpoint,e.params(b),b.devicename,c);a.triggerShare(b,e.isWebShare,e.width,e.height)}}}})});h.when("A","tafShareOnNetwork","socialShareUtil","ready").execute(function(d,c,a){a.logCounter("Render",1);d.declarative("swf-share-network","click",function(e){e=e.data;var b=e.pageStateId,g=d.state(b);
"undefined"===typeof g?a.logFatal("Page state:"+b+" undefined"):c.share(g,e.network)});a.stopTimer()});h.when("A","tafBottomSheet","socialShareUtil","ready").execute(function(d,c,a){a.logCounter("Click.ShareIcon",1);d.declarative("swf-share-network-v2-icon","click",function(e){var b=e.data,g=e.$currentTarget;g.addClass("no-clicks");d.delay(function(){g.removeClass("no-clicks")},1E3);d.capabilities.isAmazonApp?(a.logCounter("ShareIngress.MobileApp.MashShareAvailable",1),h.when("mash").execute(function(a){c.showAppSheet(b,
a)})):"function"===typeof navigator.share?(a.logCounter("ShareIngress.MobileWeb.NativeShareAvailable",1),c.showNativeSheet(b)):(a.logCounter("ShareIngress.MobileWeb.BottomShareSheetAvailable",1),c.showBottomSheet(b))})});h.when("A").register("socialShareUtil",function(g){function c(f,a,b,c){a=new RegExp("([?\x26/])"+a+"\x3d.*?(\x26|$)","i");var l=-1!==f.indexOf("?")?"\x26":"?";return f.match(a)?f.replace(a,"$1"+b+"\x3d"+c+"$2"):f+l+b+"\x3d"+c}function a(){for(var f="",a=0;13>a;a++)f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*
Math.random()));return f}function e(){var a="UNKNOWN",b="UNKNOWN",c={MSHOP_IOS:"MSHOP_IOS",MSHOP_ANDROID:"MSHOP_ANDROID",MSHOP_UNKNOWN:"MSHOP_UNKNOWN",MWEB_IOS:"MWEB_IOS",MWEB_ANDROID:"MWEB_ANDROID",MWEB_UNKNOWN:"MWEB_UNKNOWN",TABLET_IOS:"TABLET_IOS",TABLET_ANDROID:"TABLET_ANDROID",TABLET_UNKNOWN:"TABLET_UNKNOWN",UNKNOWN_UNKNOWN:"DESKTOP"};k.isAmazonApp?a="MSHOP":k.mobile?a="MWEB":k.tablet&&(a="TABLET");k.ios?b="IOS":k.android&&(b="ANDROID");a=a+"_"+b;return c[a]?c[a]:"UNKNOWN_PLATFORM"}function b(){var a=
new Date(Date.now()),b=6E4*a.getTimezoneOffset();b=(new Date(a-b)).toISOString().split("Z")[0].split(".")[0];a=a.toISOString().split("Z")[0].split(".")[0];var c=a.split("T")[0];return{marketplaceId:d.ue&&d.ue.mid?d.ue.mid:"unknown",hitDay:c,hitDatetime:b,hitDatetimeUtc:a,sessionId:d.ue&&d.ue.sid?d.ue.sid:"unknown",pageType:d.ue_pty?d.ue_pty:"unknown",subPageType:d.ue_spty?d.ue_spty:"unknown"}}function m(a,b){var c=a="unknown",f={"com.google.android.gm.ComposeActivityGmail":"Email","com.android.email.activity.MessageCompose":"Email",
"com.google.android.gm.ComposeActivityGmailExternal":"Email","com.twitter.android.composer.TextFirstComposerActivity":"Twitter","com.twitter.android.composer.ComposerActivity":"Twitter","com.twitter.app.dm.DMActivity":"Twitter","com.android.mms.ui.ConversationComposer":"SMS","com.android.mms.ui.ComposeMessageActivity":"SMS","com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity":"SMS","com.facebook.composer.shareintent.ImplicitShareIntentHandler":"Facebook","com.facebook.composer.shareintent.ImplicitShareIntentHandlerDefaultAlias":"Facebook",
"com.facebook.messenger.activity.ShareLauncherActivity":"FacebookMessenger","com.facebook.messenger.intents.ShareIntentHandler":"FacebookMessenger","com.whatsapp.contact.picker.ContactPicker":"WhatsApp","com.whatsapp.ContactPicker":"WhatsApp","com.sina.weibo.EditActivity":"Weibo","com.sina.weibo.composerinde.ComposerDispatchActivity":"Weibo","com.weico.international.activity.compose.SeaComposeActivity":"Weibo","com.pinterest.activity.create.PinItActivity":"Pinterest","jp.naver.line.android.activity.selectchat.SelectChatActivity":"Line",
"com.linecorp.line.share.common.view.FullPickerLaunchActivity":"Line","com.google.android.apps.docs.drive.clipboard.SendTextToClipboardActivity":"Copy","com.instagram.direct.share.handler.DirectShareHandlerActivity":"Instagram","com.snap.mushroom.MainActivity":"Snapchat"},l={px:"BabyRegistry",wr:"WeddingRegistry",sr:"AmazonShowroom",gr:"GiftRegistry",as:"AlexaSkills",dl:"Deal",dp:"DetailPage",qv:"Search",br:"BabyRegistry",al:"AmazonLive",ao:"Voltron",bc:"AmazonBookClub"},d=e(),g=b.url,h=g.split("/");
if(b.network)a=b.network;else if(b.sharingType){var m=b.sharingType.replace(/['"]+/g,"");k.ios?a=m:f[m]&&(a=f[m])}b=l[b.refId]?l[b.refId]:"unknown";f=new RegExp(/^([a-zA-Z0-9]){10}$/);for(l=h.length-1;1<=l;l--)if(h[l].match(f)){c=h[l];break}g=g.match(new RegExp(/^https:\/\/www.amazon./))?h[0]+"/"+h[1]+"/"+h[2]:"unknown";return{channel:a,platform:d,referrerUrl:g,shareRefId:b,asin:c}}function n(a){return"undefined"!==typeof a.pageLevelStateKey?g.state(a.pageLevelStateKey):a.pageLevelData}function p(a,
b){d.ue&&(a="SocialShareJS."+a,d.ue.count(a,(d.ue.count(a)||0)+b))}function q(){d.uet&&d.uet("bb","SocialShareJS",{wb:1})}var k=g.capabilities;q();return{buildUrl:function(a,b,c){b=b||{};var f=Object.keys(b);c=0<f.length&&("sms:"!==a||"IPHONE"!==c)?"?":"";for(var l=0;l<f.length;l++)"?"!==c&&(c+="\x26"),b[f[l]]&&(c+=f[l]+"\x3d"+encodeURIComponent(b[f[l]]));return a+c},logFatal:function(a,b){p("Fatal",1);var c="SHARE_WITH_FRIENDS_JS_WIDGET";b&&(c=c+"_"+b);h.log(a,"FATAL",c)},decodeEntities:function(a){var b=
document.createElement("textarea");b.innerHTML=a;return b.value},getPageData:n,generateReftags:function(b,c){b=n(b);if("undefined"!==typeof b){var d=b.clientRef;var f=b.deviceTypeRef}d=d?d:"un";f=f?f:"un";b=c?c:"un";c=a();b="cm_sw_"+b;d=d+"_"+f+"_"+c;return{returnReftag:b+"_r_"+d,clickReftag:b+"_c_"+d}},generateNativeReftags:function(b){b=b?b.toLowerCase():"ur";var c="ud",d=a(),f=k.isAmazonApp&&k.ios;if(k.isAmazonApp&&k.android)c="apa";else if(f)c="api";else if(k.mobile||k.tablet)c="mwn";return{returnReftag:"cm_sw_r_"+
c+"_"+b+"_"+d,clickReftag:"cm_sw_c_"+c+"_"+b+"_"+d}},updateReftagParam:function(a,b,d){return d?c(a,"ref_?","ref_",b):c(a,"ref_?","ref",b)},generateUUID:a,triggerShare:function(a,b,c,e){if(b){b=screen.width;var f=screen.height;c=c?c:.7*b;e=e?e:.7*f;d.open(a,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+c+",height\x3d"+e+",top\x3d"+(f/2-e/2)+",left\x3d"+(b/2-c/2))}else d.open(a,"_top")},generatePlatform:e,generateClientSideAttributes:b,generateServerSideAttributes:m,logCSACustomEvent:function(a,c,
e){var f=b();e=m(a,e);d.csa&&d.csa("Events",{producerId:"social-share"})("log",{schemaId:"SocialShareCSACustomEvent.CSAShareMetrics.8",customerId:"unknown",marketplaceId:f.marketplaceId,hitDay:f.hitDay,hitDatetime:f.hitDatetime,hitDatetimeUtc:f.hitDatetimeUtc,sessionId:f.sessionId,pageType:f.pageType,subPageType:f.subPageType,refMarker:a,isInternal:2,isRobot:2,httpRequestId:"unknown",referrerUrl:e.referrerUrl,userAgentId:0,channel:e.channel,ingress:e.shareRefId,platform:e.platform,shareHitType:c,
asin:e.asin})},logCounter:p,startTimer:q,stopTimer:function(){d.uet&&d.uet("be","SocialShareJS",{wb:1});d.uex&&d.uex("ld","SocialShareJS",{wb:1})},getFullPageType:function(){return"page:"+(d.ue_pty||"unknown")+",sub:"+(d.ue_spty||d.ue_pti||"unknown")},getAttribution:function(a){a=navigator.platform||a;var b=(k.isAmazonApp?"AmazonApp":"mWeb")+(k.mobile?":mobile":"")+(k.tablet?":tablet":"");k.android&&(a="Android:"+b+k.androidVersion);k.ios&&(a="iOS:"+b);return"SocialShareJS:"+a},truncateMessage:function(a,
b){var c=Array(3).fill(".");return a.length>b?a.substring(0,b-3)+c.join(""):a}}});h.when("a-sheet","socialShareUtil").register("tafBottomSheet",function(d,c){return{showBottomSheet:function(a){c.logCounter("ShareIngress.MobileWeb.CustomShareSheetShow",1);try{var e=c.generateNativeReftags(a.refId),b={name:"cancelButtonSheet",height:400,closeType:"icon"};a.preloadDomId&&(b.preloadDomId=a.preloadDomId);var g=d.create(b);d.showSheet(g);c.logCSACustomEvent(e.clickReftag,"share",a)}catch(n){c.logCounter("ShareIngress.MobileWeb.CustomShareSheetError",
1),a="Error triggering Custom Share on: "+c.getFullPageType()+":"+n.message,h.log(a,"FATAL",c.getAttribution())}},showNativeSheet:function(a){c.logCounter("ShareIngress.MobileWeb.NativeShareSheetShow",1);try{var d=c.generateNativeReftags(a.refId),b=c.updateReftagParam(a.url,d.returnReftag,!0),g=a.description||a.text;c.logCounter("Click.ShareIngress.Native."+a.refId,1);navigator.share({url:b,text:a.title,title:g}).then(function(){c.logCounter("ShareIngress.MobileWeb.NativeShareDone",1);c.logCSACustomEvent(d.clickReftag,
"click_success",a);c.logCSACustomEvent(d.clickReftag,"share",a)}).catch(function(b){c.logCounter("ShareIngress.MobileWeb.NativeShareClosed",1);c.logCSACustomEvent(d.clickReftag,"click_success",a);c.logCSACustomEvent(d.clickReftag,"click_cancel",a)})}catch(n){c.logCounter("ShareIngress.MobileWeb.NativeShareSheetError",1),c.logCSACustomEvent(d.clickReftag,"click_error",a),b="Error triggering Native Share on: "+c.getFullPageType()+":"+n.message,h.log(b,"FATAL",c.getAttribution(a.deviceEnv))}},showAppSheet:function(a,
d){c.logCounter("ShareIngress.MobileApp.MashShareSheetShow",1);try{var b=c.generateNativeReftags(a.refId),e=c.updateReftagParam(a.url,b.returnReftag,!0),g=a.description||a.text,p=a.title+"\n"+e,q=e.length+2,k=c.truncateMessage(a.title,160-q)+"\n"+e,f=c.truncateMessage(a.title,140-q)+"\n"+e;c.logCounter("Click.ShareIngress.Mash."+a.refId,1);d.share({messagePlain:p,messagePlain160:k,messagePlain140:f,messageHTML:p,url:e,subject:g,successCallback:function(){c.logCounter("ShareIngress.MobileApp.MashShareSheetSuccess",
1);c.logCSACustomEvent(b.clickReftag,"click_success",a)},failCallback:function(){c.logCounter("ShareIngress.MobileApp.MashShareSheetFail",1);c.logCSACustomEvent(b.clickReftag,"click_error",a)},shareServiceSelectedCallback:function(d){"'null'"===d||null===d?c.logCSACustomEvent(b.clickReftag,"click_cancel",a):(c.logCounter("ShareIngress.MobileApp.MashShareSheetSharingTypeAvailable",1),a.sharingType=d,c.logCSACustomEvent(b.clickReftag,"share",a))}})}catch(l){c.logCounter("ShareIngress.MobileApp.MashShareSheetError",
1),d="Error triggering Mash Share on: "+c.getFullPageType()+":"+l.message,h.log(d,"FATAL",c.getAttribution(a.deviceEnv))}}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@bottom-sheet",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var d=window.AmazonUIPageJS||window.P,b=d._namespace||d.attributeErrors,a=b?b("SuperFilterAssets@expander",""):d;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,d,b){c.when("A").register("sf-content-expander-handler",function(a){var c,b=0;a.declarative("a-expander-toggle","click",function(){0>=b&&(c="click");b--});a.declarative("a-expander-toggle","keydown",function(a){13===a.$event.keyCode&&(b=1,c="keydown")});a.on("a:expander:toggle:expand",function(a){if(a&&
a.expander&&a.expander.$expander&&"filter-content-expander"===a.expander.expanderName){var b=a.expander.$expander.find(".a-expander-content");b.css("overflow","visible");"keydown"===c&&d.setTimeout(function(){b.find('ul li:first .a-checkbox input[type\x3d"checkbox"]').focus()},25)}})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@filter-search",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(f){var e=window.AmazonUIPageJS||window.P,g=e._namespace||e.attributeErrors,d=g?g("SuperFilterAssets@helpers",""):e;d.guardFatal?d.guardFatal(f)(d,window):d.execute(function(){f(d,window)})})(function(f,e,g){f.register("sf-constants-module",function(){return{DECLARATIVE_ACTION:{SF_SINGLE_SELECT_FILTER:"sf-single-select-filter",SUBMIT_RANGE_DECLARATIVE:"sf-submit-range",SF_SELECT_REFINEMENT_PICKER:"sf-select-refinement-picker",SF_SELECT_DYNAMIC_FILTER:"sf-select-dynamic-filter",SEARCH_INPUT:"super-filter-search",
CLEAR_SEARCH_BTN:"super-filter-clear-search"},CONSTANT_CLASSES:{HIDE_CLASS:"aok-hidden",SF_RIB20_PANEL:".sf-rib20-panel"},CONSTANT_DIV_IDS:{NAV_MAIN:"#nav-main"},CONSTANT_PROPERTY:{NAV_LANGUAGE:"data-nav-language"},METRIC_CONSTANTS:{SF_PRICE_RANGE_PICKER_SELECTED_FROM_MENU:"sf-price-range-picker-selected-from-menu",SF_PRICE_RANGE_PICKER_USAGE:"sf-price-range-picker-usage",SF_ALL_PRICES_PICKER_USAGE:"sf-all-prices-picker-usage",SF_SLIDER_RENDERED_PREFIX:"sf-slider-rendered-",SF_SLIDER_USAGE_PREFIX:"sf-slider-usage-",
SF_SLIDER_LOWER_BOUND_USAGE_PREFIX:"sf-slider-lower-bound-usage-",SF_SLIDER_UPPER_BOUND_USAGE_PREFIX:"sf-slider-upper-bound-usage-",SF_SLIDER_BOTH_BOUNDS_USAGE_PREFIX:"sf-slider-both-bounds-usage-",SF_RESET_PRICE_RANGE_USAGE_PREFIX:"sf-reset-price-range-usage-",SF_PRICE_RANGE_SLIDER_SELECTED:"sf-price-range-slider-selected",SF_GENDER_PICKER_SELECTED_FROM_MENU:"sf-gender-picker-selected-from-menu",SF_GENDER_REFINEMENT_RENDERED:"sf-gender-refinement-rendered",SF_DYNAMIC_PRICE_PICKERS_RENDERED:"sf-dpr-picker-rendered",
SF_DYNAMIC_PRICE_PICKERS_SELECTED:"sf-dpr-picker-selected"},SUPER_FILTER:{SORTS_SECTION:"sorts",BRANDS_SECTION:"brandsRefinements"}}});"use strict";f.register("sf-csm-util",function(){function d(a,b){var c=e.ue;if(c&&c.count){var d=c.count(a)||0;c.count(a,d+b)}}return{incrementCount:function(a){d(a,1)},addCount:function(a,b){var c=e.ue;c&&c.count&&c.count(a,b)},addToCount:d,markLoadingTime:function(a){var b=e.uex;"function"===typeof b&&b("ld",a,{wb:1})},setLatencyMetricsValue:function(a,b){var c=
e.uet;"function"===typeof c&&c(b,a,{wb:1})},setTag:function(a){var b=e.ue;b&&b.tag&&b.tag(a)}}})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("SuperFilterAssets@left-nav",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.register("sf-left-nav-keyboard-handler-constant",function(){return{AUI_CLASS:{CHECKBOX:"a-checkbox"},QUERY_SELECTOR:{REFINEMENT_CONTAINER:"#s-refinements",AUI_CHECKBOX:".a-checkbox"},EVENT_CODE:{SPACE:32}}});b.when("A","sf-left-nav-keyboard-handler-constant").register("sf-left-nav-keyboard-handler",
function(a,b){function c(a){var c=d(a.target);a.which===b.EVENT_CODE.SPACE&&(c.hasClass(b.AUI_CLASS.CHECKBOX)||0<c.find(b.QUERY_SELECTOR.AUI_CHECKBOX).size())&&(a.preventDefault(),a.target.click())}var d=a.$;return{initialize:function(){d(b.QUERY_SELECTOR.REFINEMENT_CONTAINER).keypress(c)}}});b.when("sf-left-nav-keyboard-handler","s-actions","Rush","ready").register("sf-left-nav-keyboard-handler-registration",function(a,b,c){a.initialize();c.on(b.LOAD_SEARCH_PAGE_COMPLETE,a.initialize)})});
/* ******** */
(function(g){var m=window.AmazonUIPageJS||window.P,p=m._namespace||m.attributeErrors,a=p?p("SuperFilterAssets@refinement-metrics",""):m;a.guardFatal?a.guardFatal(g)(a,window):a.execute(function(){g(a,window)})})(function(g,m,p){g.when("A","sf-csm-util","sf-constants-module","ready").register("sf-price-metrics",function(a,b,l){function g(a){var d=a.$target.closest("a");d.length&&a.$target.parents("ul").is("[aria-labelledby^\x3dp_36]")&&(d.hasClass("s-navigation-clear-link")?b.addCount(h.SF_ALL_PRICES_PICKER_USAGE,
1):(b.addCount(h.SF_PRICE_RANGE_PICKER_SELECTED_FROM_MENU,1),b.addCount(h.SF_PRICE_RANGE_PICKER_USAGE,1)))}var t=a.$,h=l.METRIC_CONSTANTS,q=l.DECLARATIVE_ACTION;(function(){var l=t("#p_36-title"),d=t("#filter-p_36");if(l.length||d.length)a.declarative(q.SF_SELECT_REFINEMENT_PICKER,"click",g),b.addCount&&h&&(b.addCount(h.SF_PRICE_RANGE_PICKER_SELECTED_FROM_MENU,0),b.addCount(h.SF_PRICE_RANGE_PICKER_USAGE,0),b.addCount(h.SF_ALL_PRICES_PICKER_USAGE,0))})()});"use strict";g.when("A","sf-csm-util","sf-constants-module",
"s-is-mobile","ready").register("sf-gender-metrics",function(a,b,l,m){function t(c){c=c.$target.closest("a");c.length&&!c.has("span.a-text-bold").length&&c.parents("#gender")&&b.addCount(f.SF_GENDER_PICKER_SELECTED_FROM_MENU,1)}function h(c){var k;g.when("sf-item-util").execute("sf-check-selected-refinement-pill-is-gender",function(B){k=B.getSelectedItem(c);k.length&&!k.hasClass(x.SF_FILTER_ITEM_SELECTED)&&(k.parents('[data-a-expander-name\x3d"sf-gender"]').length||k.parents(".s-vtabs-content#gender").length)&&
b.addCount(f.SF_GENDER_PICKER_SELECTED_FROM_MENU,1)})}function q(){var c=n('[data-a-expander-name\x3d"sf-gender"]');0===c.length&&(c=n(".s-vtabs-content#gender"));return c}function p(c){var b=[];c.find(".sf-filter-floatbox").each(function(c,k){(c=n(k).attr("data-csa-c-content-id"))&&b.push(c)});return b}function d(){return n(".s-mobile-toolbar.sf-rib30-toolbar").length?"RIB3":n(".s-mobile-toolbar.sf-rib20-toolbar").length?"RIB2":n(".s-mobile-toolbar").length?"RIB1":""}function r(){var c=!1,k=d();
b.addCount(f.SF_GENDER_REFINEMENT_RENDERED_IN_RIB,0);b.addCount(f.SF_GENDER_PICKER_SELECTED_FROM_RIB,0);var a=q();u=p(a);if(k)a:{b.addCount(y[k],0),b.addCount(w[k],0),c=u;a=C[k];var e,g=n(l.CONSTANT_DIV_IDS.RIB_COMPONENT);if(c&&a)for(e=0;e<c.length;e++){var h=c[e];h=g.find(a.replace("{genderPickerId}",h));if(0<h.length){c=!0;break a}}c=!1}c&&(b.addCount(f.SF_GENDER_REFINEMENT_RENDERED_IN_RIB,1),b.addCount(y[k],1))}function e(){var c=m?q().length:n("#s-refinements").find("#gender").length;b.addCount(f.SF_GENDER_PICKER_SELECTED_FROM_MENU,
0);b.addCount(f.SF_GENDER_REFINEMENT_RENDERED,0);c&&b.addCount(f.SF_GENDER_REFINEMENT_RENDERED,1)}function z(c){var b;if(c&&c.$currentTarget&&(c=c.$currentTarget.attr("data-csa-c-content-id")))for(b=0;b<u.length;b++){var a=u[b];if(-1!==c.indexOf(a))return!0}return!1}function A(c){var a,e;g.when("sf-item-util").execute("sf-check-selected-refinement-pill-is-gender",function(k){if(e=d())a=k.getSelectedItem(c),a.length&&!a.hasClass(x.SF_FILTER_ITEM_SELECTED)&&z(c)&&(b.addCount(f.SF_GENDER_PICKER_SELECTED_FROM_RIB,
1),b.addCount(w[e],1))})}function D(c){var a;g.when("sf-item-util").execute("sf-check-selected-refinement-pill-is-gender",function(e){a=e.getSelectedItem(c);a:{var d=a;if(d.length&&(e=d.attr("id"),(d=d.attr("href"))&&e&&(-1!==d.indexOf("%3A"+e)||-1!==d.indexOf("%7C"+e)))){e=!1;break a}e=!0}!e&&z(c)&&(b.addCount(f.SF_GENDER_PICKER_SELECTED_FROM_RIB,1),b.addCount(w.RIB3,1))})}var n=a.$,x=l.CONSTANT_CLASSES,f=l.METRIC_CONSTANTS,v=l.DECLARATIVE_ACTION,u=[],C={RIB3:'[data-action\x3d"sf-rib30-dropdown-pill-click"][data-csa-c-content-id*\x3d"{genderPickerId}"]',
RIB2:'.sf-rib-element [data-action\x3d"super-filter-pill-toggle"][data-csa-c-content-id*\x3d"{genderPickerId}"]',RIB1:'.sf-rib-element [data-action\x3d"super-filter-pill-toggle"][data-csa-c-content-id*\x3d"{genderPickerId}"]'},y={RIB3:f.SF_GENDER_REFINEMENT_RENDERED_IN_RIB3,RIB2:f.SF_GENDER_REFINEMENT_RENDERED_IN_RIB2,RIB1:f.SF_GENDER_REFINEMENT_RENDERED_IN_RIB1},w={RIB3:f.SF_GENDER_PICKER_SELECTED_FROM_RIB3,RIB2:f.SF_GENDER_PICKER_SELECTED_FROM_RIB2,RIB1:f.SF_GENDER_PICKER_SELECTED_FROM_RIB1};b.addCount&&
f&&(e(),m?(r(),a.declarative(v.SF_SINGLE_SELECT_FILTER,"click",h),a.declarative(v.SUPER_FILTER_PILL_TOGGLE,"click",A),a.declarative(v.SF_RIB_DROPDOWN_PILL_CLICK,"click",D)):a.declarative(v.SF_SELECT_REFINEMENT_PICKER,"click",t))});"use strict";g.when("A","sf-csm-util","sf-constants-module","s-is-mobile","ready").register("sf-dynamic-price-pickers-metrics",function(a,b,g,m){function l(){return 0<p('[id^\x3d"p_36/dynamic-picker-"]').length}function h(a){a=a.$target;m?(a=a.closest('span[data-action\x3d"'+
r.SF_SELECT_DYNAMIC_FILTER+'"]'),a=0<a.length?0<a.find(".s-filter-item-selected").length:!1):(a=a.closest('li[id^\x3d"p_36/dynamic-picker-"]'),a=0<a.length);a&&b.addCount(d.SF_DYNAMIC_PRICE_PICKERS_SELECTED,1)}function q(){b.addCount(d.SF_PRICE_RANGE_SLIDER_SELECTED,1)}var p=a.$,d=g.METRIC_CONSTANTS,r=g.DECLARATIVE_ACTION;b.addCount&&d&&r&&(a.declarative(r.SF_SELECT_DYNAMIC_FILTER,"click",h),a.on("s:slider:p_36/range-slider:change",q),b.addCount(d.SF_DYNAMIC_PRICE_PICKERS_SELECTED,0),b.addCount(d.SF_PRICE_RANGE_SLIDER_SELECTED,
0),b.addCount(d.SF_DYNAMIC_PRICE_PICKERS_RENDERED,0),l&&b.addCount(d.SF_DYNAMIC_PRICE_PICKERS_RENDERED,1))})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rib-20",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rib-30",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rib-personalization-messaging",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rush-router-wrapper",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@vertical-tabs",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,b=f?f("SuperFilterAssets@super-filter",""):e;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,e,f){d.when("A","R","rush-error-logger","sf-constants-module","ready").register("sf-super-filter",function(b,d,e,f){function g(a,c){try{d.to({url:a},c)}catch(h){var b=Error("Could not load URL");a=h+" url: "+a+" passthroughData: "+JSON.stringify(c);e.error(b,a,"sf-super-filter")}}b.declarative(f.DECLARATIVE_ACTION.SF_SINGLE_SELECT_FILTER,
"click",function(a){a=a.$target.closest("a");a.length&&(a=a.attr("href"),g(a,{}))});return{submitFilterRange:function(a){var c=[];if(a&&a.length){var b=a.attr("action")+"?"+a.serialize();a=a.closest(".sf-range-item");a.length&&c.push(a.attr("id"));g(b,{suppressedNavigationContentIds:c})}},submitDynamicFilterRange:function(a,c){a=a.$target.closest("a");a.length&&(a=a.attr("href"),g(a,{suppressedNavigationContentIds:c}))},submitFilterRangeWithAdditionalIdsToSuppress:function(a,c){var b=c&&Array.isArray(c)&&
0<c.length?c:[];a&&a.length&&(c=a.attr("action")+"?"+a.serialize(),a=a.closest(".sf-range-item"),a.length&&b.push(a.attr("id")),g(c,{suppressedNavigationContentIds:b}))}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@super-filter-landing",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(g){var p=window.AmazonUIPageJS||window.P,w=p._namespace||p.attributeErrors,d=w?w("SuperFilterAssets@sliders",""):p;d.guardFatal?d.guardFatal(g)(d,window):d.execute(function(){g(d,window)})})(function(g,p,w){g.when("A","sf-csm-util","sf-constants-module","ready").register("sf-sliders-metrics",function(d,f,g){function q(c,h){return"number"===typeof c&&0<=c&&c<h}function r(c){return c.closest(".sf-range-content").find(".sf-range-slider").data("slider-id")}var t=g.DECLARATIVE_ACTION,k=g.METRIC_CONSTANTS,
v=[];d.on("sf:slidersController:instanceCreated",function(c,h,d){var g;if(g=c&&-1===v.indexOf(c)&&h)g=Array.isArray(d)&&q(h.lowerBound,d.length)&&q(h.upperBound,d.length);g&&(v.push(c),f.addCount(k.SF_SLIDER_RENDERED_PREFIX+c,1),f.addCount(k.SF_SLIDER_USAGE_PREFIX+c,0),f.addCount(k.SF_SLIDER_BOTH_BOUNDS_USAGE_PREFIX+c,0),f.addCount(k.SF_SLIDER_LOWER_BOUND_USAGE_PREFIX+c,0),f.addCount(k.SF_SLIDER_UPPER_BOUND_USAGE_PREFIX+c,0),f.addCount(k.SF_RESET_PRICE_RANGE_USAGE_PREFIX+c,0))});d.declarative(t.SUBMIT_RANGE_DECLARATIVE,
"submit",function(c){var d=c.$target;c=r(d);var g=d.find('[name\x3d"low-price"]').val();d=d.find('[name\x3d"high-price"]').val();g&&d?f.addCount(k.SF_SLIDER_BOTH_BOUNDS_USAGE_PREFIX+c,1):g?f.addCount(k.SF_SLIDER_LOWER_BOUND_USAGE_PREFIX+c,1):d&&f.addCount(k.SF_SLIDER_UPPER_BOUND_USAGE_PREFIX+c,1);f.addCount(k.SF_SLIDER_USAGE_PREFIX+c,1)});d.declarative(t.SF_SINGLE_SELECT_FILTER,"click",function(c){c=c.$target.parents("div:first");var d=r(c);c.length&&c.hasClass("sf-reset-range-link")&&f.addCount(k.SF_RESET_PRICE_RANGE_USAGE_PREFIX+
d,1)})});"use strict";g.when("A","Rush","s-slider","s-web-application-controller","sf-super-filter","s-is-mobile","rush-error-logger","sf-constants-module","sf-dynamic-price-pickers-cache-controller","sf-price-metrics","sf-sliders-metrics","ready").register("sf-sliders-controller",function(d,f,p,q,r,t,k,v,c){function h(a){return a?m[a]||{}:{}}function u(a){return a.data("slider-id")}function y(a,b,e){b=(a=h(a))&&a[b];e=Math.round(e);return!Array.isArray(b)||0>e||e>=b.length?w:b[e]}function x(a,b){return y(a,
"stepLabels",b)}function D(a,b){var e=a.find("."+b+" span");0===e.length&&(e=a.find("."+b));return e}function E(a,b,e){var d=x(a,e.lowerBound);e=x(a,e.upperBound);a=h(a);if(d){var c=D(b,"sf-lower-bound-label");c.text(d)}e&&(b=D(b,"sf-upper-bound-label"),b.text(e));(b=a.instance)&&b.setAriaValueText(d,e)}function F(a){var b=u(a),e=h(b);b=e&&e.upperBoundParamName;e=a.find('input[name\x3d"'+(e&&e.lowerBoundParamName)+'"]');a=a.find('input[name\x3d"'+b+'"]');return{$sliderLowerBoundHiddenInput:e,$sliderUpperBoundHiddenInput:a}}
function z(a){var b=a.closest(".sf-range-content"),e=b.find(".sf-range-item");if(1===e.length){var d=u(a);a=h(d);a.isDestroyable=!1;a.$outerItemContainer=e;a.outerContentId=b.attr("id");m[d]=a}}function G(a){var b=a.target.closest(".sf-range-slider");a=a.state;var e=u(b);E(e,b,a)}function H(a){z(a);var b=F(a);b=c.cachePricePickers(b.$sliderLowerBoundHiddenInput.val(),b.$sliderUpperBoundHiddenInput.val());r.submitFilterRangeWithAdditionalIdsToSuppress(a,b)}function I(a){var b=a.target.closest(".sf-range-slider"),
e=a.state,d=u(b);E(d,b,e);e=a.state;d=u(b);var c=F(b);c.$sliderLowerBoundHiddenInput.val(y(d,"stepValues",e.lowerBound));c.$sliderUpperBoundHiddenInput.val(y(d,"stepValues",e.upperBound));t&&(0<a.target.closest("#filter-p_36").length?H(b):(z(b),r.submitFilterRangeWithAdditionalIdsToSuppress(b,[])))}function A(a,b){var e=n(b);b=u(e);var c=e.data("slider-props");var g=!!(c&&4===Object.keys(c).length&&c.lowerBoundParamName&&c.upperBoundParamName&&Array.isArray(c.stepValues)&&Array.isArray(c.stepLabels));
var f=h(b);var l=e.find(".s-slider-container");a=new p(b,l);b&&a&&l.length&&g?(d.on("s:slider:"+b+":input",G),d.on("s:slider:"+b+":change",I),t||d.declarative.create(e,J.SUBMIT_RANGE_DECLARATIVE,{}),f.instance=a,f.isDestroyable=!0,f.lowerBoundParamName=c.lowerBoundParamName,f.upperBoundParamName=c.upperBoundParamName,f.stepValues=c.stepValues,f.stepLabels=c.stepLabels,m[b]=f,l=x(b,a.lowerBound),e=x(b,a.upperBound),a.setAriaValueText(l,e),d.trigger("sf:slidersController:instanceCreated",b,a,c.stepValues)):
l.length&&(l.closest(".sf-range-content").addClass(B.HIDE_CLASS),l=Error("Slider not initialized"),a="Slider information: "+JSON.stringify({sliderId:b,sliderObject:a,sliderProps:c}),k.error(l,a,"sf-sliders-controller"))}function K(){Object.keys(m).forEach(function(a){var b=h(a);if(!1===b.isDestroyable){var c=n("#"+b.outerContentId+".sf-range-content").find(".sf-filter-section");0===c.find(".sf-range-item").length&&c.prepend(b.$outerItemContainer);b.isDestroyable=!0;delete b.outerContentId;delete b.$outerItemContainer;
m[a]=b}})}function L(){Object.keys(m).forEach(function(a){var b=h(a).instance;b&&b.unbindEvents();d.off("s:slider:"+a+":input",G);d.off("s:slider:"+a+":change",I);delete m[a]})}function M(a){a.$event.preventDefault();0<a.$target.closest("#filter-p_36").length?H(a.$target):(a=a.$target,z(a),r.submitFilterRangeWithAdditionalIdsToSuppress(a,[]))}function C(){K();L();n(".sf-range-slider").each(A)}var J=v.DECLARATIVE_ACTION,B=v.CONSTANT_CLASSES,m={},n=d.$;t?g.when("filters-panel-view-ready").execute("sf-sliders-mobile-initialization",
function(){if(n(B.SF_RIB20_PANEL).length||n(B.SF_RIB30_PANEL).length)f.on(q.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,C);else f.on(q.ACTIONS.LOAD_REFINEMENTS_COMPLETE,C);n(".sf-range-slider").each(A)}):(d.declarative(J.SUBMIT_RANGE_DECLARATIVE,"submit",M),f.on(q.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,C),n(".sf-range-slider").each(A))})});
/* ******** */
(function(g){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,d=e?e("SuperFilterAssets@dynamic-price-pickers",""):c;d.guardFatal?d.guardFatal(g)(d,window):d.execute(function(){g(d,window)})})(function(g,c,e){g.when("A","Rush","s-web-application-controller","sf-dynamic-pickers-cache","s-is-mobile","sf-super-filter","sf-constants-module","ready").register("sf-dynamic-price-pickers-cache-controller",function(d,c,e,r,f,t,n){function u(b){return f?b.$target.closest('a[id^\x3d"p_36/dynamic-picker-"]'):
b.$target.closest('li[id^\x3d"p_36/dynamic-picker-"]').parent("span")}function v(){var b=h("#filter-p_36.sf-dynamic-content").find(w).first();return f?b.find('a[id^\x3d"p_36/dynamic-picker-"]'):b.find('li[id^\x3d"p_36/dynamic-picker-"]').parent("span")}function x(b){if(!b)return null;var a=v().filter(function(a,c){a=h(c);a=f?a:a.find("a").first();return(a=(new URLSearchParams(a.attr("href"))).get("rh"))&&a.split(",").includes(b)}).first();return 1===a.length?a:null}function m(){k?(l.reinitPickers(),
k=!1):l.invalidateCache()}var p=n.DECLARATIVE_ACTION,q=n.CONSTANT_CLASSES,w='span[data-action\x3d"'+p.SF_SELECT_DYNAMIC_FILTER+'"]',k=!1,h=d.$,l=new r("filter-p_36","p_36/dynamic-picker-",f?"s-filter-item-selected":"a-text-bold",f?"#sf-all-price":".s-navigation-clear-link");d.declarative(p.SF_SELECT_DYNAMIC_FILTER,"click",function(b){var a,c=b.$target;c&&c.closest("#filter-p_36").length&&(f||b.$event.preventDefault(),(c=b.$target)&&c.closest('[id^\x3d"p_36/dynamic-picker-"]').length&&(k=a=l.cachePickers(u(b))),
t.submitDynamicFilterRange(b,a?["p_36/dynamic-picker-"]:[]))});if(f)g.when("filters-panel-view-ready").execute("sf-dynamic-price-pickers-reinit-handler",function(){if(h(q.SF_RIB20_PANEL).length||h(q.SF_RIB30_PANEL).length)c.on(e.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,m);else c.on(e.ACTIONS.LOAD_REFINEMENTS_COMPLETE,m)});else c.on(e.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,m);return{cachePricePickers:function(b,a){b=b?(100*parseInt(b,10)).toString():"";a=a?(100*parseInt(a,10)).toString():"";a=x(b||a?"p_36:"+b+
"-"+a:"");return(k=a=l.cachePickers(a))?["p_36/dynamic-picker-"]:[]}}})});
/* ******** */
(function(e){var c=window.AmazonUIPageJS||window.P,f=c._namespace||c.attributeErrors,d=f?f("SuperFilterAssets@dynamic-pickers-cache",""):c;d.guardFatal?d.guardFatal(e)(d,window):d.execute(function(){e(d,window)})})(function(e,c,f){e.when("A","s-is-mobile","sf-constants-module","ready").register("sf-dynamic-pickers-cache",function(d,g,e){function c(b,a,m,c){this.filterId=b;this.pickersIdPrefix=a;this.selectedPickerClass=m;this.clearPickerSelector=c;this.selectedPickerId=this.$pickers=null}function f(b){return g?
b.attr("id"):b.find("li").attr("id")}function k(b){return g?b:b.find("span").last()}function l(b){return h("#"+b+".sf-dynamic-content").find(n).first()}function p(b,a){return b.filter(function(b,c){return f(h(c))===a}).first()}function q(b,a){return 0<b.filter(function(b,c){b=h(c);c=a.selectedPickerClass;return k(b).hasClass(c)}).length}var h=d.$,n='span[data-action\x3d"'+e.DECLARATIVE_ACTION.SF_SELECT_DYNAMIC_FILTER+'"]';c.prototype.cachePickers=function(b){if(!this.$pickers||!this.$pickers.length){var a=
l(this.filterId);var c=this.pickersIdPrefix;(a=g?a.find('a[id^\x3d"'+c+'"]'):a.find('li[id^\x3d"'+c+'"]').parent("span"))&&a.length&&!q(a,this)&&(this.$pickers=a)}if(this.$pickers&&this.$pickers.length)return(a=!b)||(a=this.selectedPickerClass,a=k(b).hasClass(a)),b=a?null:f(b),this.selectedPickerId=b,!0;this.invalidateCache();return!1};c.prototype.reinitPickers=function(){if(this.$pickers&&this.$pickers.length){var b=this.$pickers.clone();if(this.selectedPickerId){var a=this.clearPickerSelector;var c=
l(this.filterId).find(a).attr("href");a=p(b,this.selectedPickerId);0!==a.length&&((g?a:a.find("a").first()).attr("href",c),c=this.selectedPickerClass,k(a).addClass(c),g&&(a.prepend(h("\x3cdiv\x3e",{class:"a-section sf-icon-deselect"})),a.find("span").last().removeClass("a-color-base").addClass("a-color-link")))}a=l(this.filterId);a.length&&b&&a.append(b);this.selectedPickerId=null}};c.prototype.invalidateCache=function(){this.selectedPickerId=this.$pickers=null};return c})});
/* ******** */
'use strict';(function(r){var n=window.AmazonUIPageJS||window.P,m=n._namespace||n.attributeErrors,K=m?m("SocialShareWidgetAUI","AmazonUI"):n;K.guardFatal?K.guardFatal(r)(K,window):K.execute(function(){r(K,window)})})(function(r,n,m){function K(l){if(Array.isArray(l)){for(var d=0,m=Array(l.length);d<l.length;d++)m[d]=l[d];return m}return Array.from(l)}"use strict";"use strict";r.register("SocialShareWidget",function(){var l;(function(){var d={353:function(f,a,g){Object.defineProperty(a,"__esModule",
{value:!0});var e=g(905),c=g(738);f=function(){function a(){var b=this;this.generateTimestampCollection=function(){var a=(new Date).getTimezoneOffset();a=b.getDateTimeByOffset(a);var q=b.getDateTimeByOffset(0);return{hitDay:a.split("T")[0],hitDatetime:a,hitDatetimeUtc:q}};this.getMarketplaceId=function(a){return"string"==typeof a?a:n.ue&&n.ue.mid?n.ue.mid:c.CSA_DEFAULT_VALUE.string};var q=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:c.CSA_DEFAULT_VALUE.number,
hitDay:q.hitDay,hitDatetime:q.hitDatetime,hitDatetimeUtc:q.hitDatetimeUtc,pageType:n.ue_pty?n.ue_pty:c.CSA_DEFAULT_VALUE.string,subPageType:n.ue_spty?n.ue_spty:c.CSA_DEFAULT_VALUE.string,sessionId:n.ue&&n.ue.sid?n.ue.sid:c.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var b=a.shareDataAttributes;if(this.csaMetricsData.customerId=b.customerId?b.customerId:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=b.requestId?b.requestId:c.CSA_DEFAULT_VALUE.string,
this.csaMetricsData.asin=b.asin?b.asin:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=b.ingress?b.ingress:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=b.platform?b.platform:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(b.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(b.isRobot),this.csaMetricsData.channel=a.channel?a.channel:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:c.CSA_DEFAULT_VALUE.string,
this.csaMetricsData.referrerUrl=a.refererURL?a.refererURL:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(b.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",this.csaMetricsData.triggeredFromScreenshotToast=!!b.triggeredFromScreenshotToast&&b.triggeredFromScreenshotToast,a.weblab)b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=b;a.customizeShareCSAData&&(b=this.csaMetricsData.shareEntities,
b=void 0===b?{}:b,a.customizeShareCSAData.isCustomizedExperienceEnabled===c.TRUE&&(b.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,b.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,b.hasQuote=a.customizeShareCSAData.hasQuote,b.isCustomized=a.customizeShareCSAData.isCustomized,b.customizePreSelected=a.customizeShareCSAData.customizePreSelected,b.isQuotesAvailable=a.customizeShareCSAData.isQuotesAvailable,this.csaMetricsData.shareEntities=
b));a.isCustomShareOptionsSheetEnabled&&(b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b).isCustomShareOptionsSheetEnabled="1",this.csaMetricsData.shareEntities=b);a.caf&&(b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b).cafSwitchEnabled=a.cafSwitchEnabled?c.TRUE:c.FALSE,this.csaMetricsData.shareEntities=b);a.cafEdCXIngressWeblabTreatment&&(b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b).cafEdCxIngressWelabT1="T1"===a.cafEdCXIngressWeblabTreatment?c.TRUE:c.FALSE,b.cafEdCxIngressWelabT2=
"T2"===a.cafEdCXIngressWeblabTreatment?c.TRUE:c.FALSE);return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||c.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=function(b){var c=new Date;0!==b&&(b*=a.MINUTES_TO_MILISECONDS,c=c.getTime()-b,c=new Date(c));return c.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,e.isCSALoaded)()&&n.csa(a.CSAPluginId,
{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",a}();a.default=f},305:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,e){var c={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"email-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(b){var c="?subject\x3d".concat(encodeURIComponent(a.emailSubject||a.title)),e="\x26body\x3d".concat(encodeURIComponent(a.title));b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return"".concat(this.shareBaseUrl).concat(c).concat(e," ").concat(b)}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",
image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b="?url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));var c="\x26description\x3d".concat(encodeURIComponent(a.title)),e="\x26media\x3d".concat(encodeURIComponent(a.image));return"".concat(this.shareBaseUrl).concat(b).concat(c).concat(e,
"\x26method\x3dbutton")}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","line-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","line-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){var c="?text\x3d".concat(encodeURIComponent(a.text)," ").concat(encodeURIComponent(a.title));b="\x26url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));
return"".concat(this.shareBaseUrl).concat(c).concat(b)}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","facebook-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","facebook-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var c=encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_",
"_s_")),e=encodeURIComponent("#"+(a.hashtags[0]||"Amazon"));b=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d".concat(b),"redirect_uri\x3d".concat(c),"hashtag\x3d".concat(e)].join("\x26");return"".concat(this.shareBaseUrl).concat(b)}},tw:{label:"X",name:"x",ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"x-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){var c="?text\x3d".concat(encodeURIComponent(a.title));b="\x26url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));var e="\x26hashtags\x3d".concat(a.hashtags.join(",")),g="\x26via\x3d".concat(encodeURIComponent("Amazon"));return"".concat(this.shareBaseUrl).concat(c).concat(b).concat(e).concat(g)}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"whatsapp-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(a.text),"\n              ").concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(b)}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"sms-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(b){b="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(b)}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-circular.svg"),
imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",name:"copy",ref:"cp",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","link-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","link-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==e?0:e.length){var b={};return e.forEach(function(a){c[a]&&
(b[a]=c[a])}),b}return c}},738:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.Err={Abort:"AbortError"};f=a.CSA_HIT_TYPE={};f.CLICK_SUCCESS="click_success";f.CLICK_ERROR="click_error";f.CLICK_CANCEL="click_cancel";f.SHARE="share";f.CUSTOMIZE_SHARE="click_customize_success";a.customize="customize";a.customShareOptions="customShareOptions";a.customizeShareStateKey="customizeShareCSAData";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.CAF_LEARN_MORE_KEY="learn_more_link";
a.CAF_INFO_ICON_KEY="info_icon";a.UNKNOWN="unknown";a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF="cso_cp";a.CUSTOM_SHARE_OPTIONS_REF_PREFIX="cso";a.BOOKS_REF_PREFIX="bks";a.BOOKS_CUSTOMIZE_PREVIEW_NOT_AVAILABLE="t2cna";a.CAF_REF_PREFIX="caf";a.EMBED_CHANNEL_REF="eb";a.BEST_FORMAT_REF="ffobk";a.FALSE="false";a.TRUE="true";a.CUSTOM_SHEET_CLICK_LATENCY_METRIC="CustomShareSheet.Click";a.CAF_CUSTOM_SHEET_CLICK_LATENCY_METRIC=
"Caf.CustomShareSheet.Click";a.BOOKS_CUSTOM_SHEET_CLICK_LATENCY_METRIC="Books.CustomShareSheet.Click";a.SSF_AUI_PACKAGE_ATTRIBUTION="SocialShareWidgetAUI";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},
twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"},facebook:{refId:"fb",channel:"Facebook"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,
ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,customerId:a.CSA_DEFAULT_VALUE.string,marketplaceId:a.CSA_DEFAULT_VALUE.string};a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING}},905:function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=
a.isNativeWebShareAvailable=a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIpadIOS=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=a.isClipboardAvailable=a.isRTL=a.isTwisterAsin=a.context=a.Device=void 0;var e,c=g(161);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(e||(a.Device=e={}));a.context=function(){var b=e.Other;(0,a.isMobileApp)()&&(0,a.isAndroid)()?b=e.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?b=e.IOS:(0,a.isMobileWeb)()&&(b=e.MWeb);var c="unknown";return(0,
a.isMobileApp)()?c="mshop":(0,a.isMobileWeb)()?c="mweb":(0,a.isDesktop)()&&(c="desktop"),{device:b,page:(0,a.isUeAvailable)()?n.ue_pty:"unknown",subPage:(0,a.isUeAvailable)()?n.ue_spty||n.ue_pti:"unknown",platform:c}};a.isTwisterAsin=function(){return!!n.isTwisterPage||!!n.twisterController||b};a.isRTL=function(){return"rtl"===document.dir};a.isClipboardAvailable=function(){return!!navigator.clipboard&&(0,c.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!n.ue};a.isAUILoaded=
function(){var a;return"undefined"!=typeof n&&(0,c.isString)(null===(a=null===n||void 0===n?void 0:n.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};a.isIE=function(){return(0,c.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,c.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,c.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,c.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,c.testUserAgent)(/trident|Edge/i)};a.isIpadIOS=function(){return(0,c.testUserAgent)(/[a-zA-z]{1,}\/[0-99].[0-99] \(Macintosh; [a-zA-z]{1,} Mac OS X [1-9][0-9]*_[1-9][0-9]*_[1-9][0-9]*\) AppleWebKit\/[1-9][0-9]*.[1-9][0-9]*.[1-9][0-9]*/)||
(0,c.testUserAgent)(/iPad/)};a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,c.getCookie)("amzn-app-id"))};a.isMobileWeb=function(){return 450>=n.screen.availWidth&&((0,c.testUserAgent)(/mobile|mini/i)||(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return n.navigator&&(0,c.isFunction)(n.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&
(0,c.isFunction)(a.share)};a.isCSALoaded=function(){return(0,c.isFunction)(n.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=n.navigator)||void 0===a?void 0:a.vendor)};var b=!1;(0,a.isAUILoaded)()&&n.P.when("mobile-inline-twister-critical").execute(function(){b=!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,
isIpadIOS:a.isIpadIOS,isMobileApp:a.isMobileApp,isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari,isRTL:a.isRTL}},495:function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});var e=g(905),c=g(353),b=g(738);f=function(){function a(){}return a.logCountOnce=function(a){(0,e.isUeAvailable)()&&n.ue.count(a,(n.ue.count(a)||0)+1)},a.emitFullMetricName=function(a,b,c){var q=
this;(0,e.isAUILoaded)()&&n.P.when("A").execute(function(k){k.trigger("".concat(q.BASE_METRIC_NAME,":metrics:logged"),{fullMetricName:a,callee:b,message:c})})},a.logCounter=function(a,b){b=b?".".concat(b):"";a="".concat(this.BASE_METRIC_NAME,".").concat(a).concat(b);this.emitFullMetricName(a,"logCounter");this.logCountOnce(a)},a.logCounterRefactor=function(a,b){b=b?".".concat(b.toLowerCase()):"";a="".concat(this.BASE_METRIC_NAME).concat(b,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());
this.emitFullMetricName(a,"logCounterRefactor");this.logCountOnce(a)},a.logLoad=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.logCountOnce(a)},a.logFatal=function(a){(0,e.isAUILoaded)()&&n.P.log(a,"FATAL",this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,b){(0,e.isCSALoaded)()&&(new c.default).withCSAClickEventData(b).withShareHitType(a).logEvent()},a.startTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,
".").concat(a);this.timers[a]=n.uet&&n.uet("bb",a,{wb:1})},a.stopTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);var b=this.timers[a];(0,e.isUeAvailable)()&&b&&(b=n.uet("be",a,{wb:1})-b,n.ue.count(a,b),n.uex&&n.uex("ld",a,{wb:1}),this.emitFullMetricName(a,"stopTimer","".concat(b,"ms")),delete this.timers[a],this.timers["".concat(a,"_done_in")]=b)},a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.platform=b.UNKNOWN,a.metricName="",a.timers=
{},a.getMetricName=function(b,c){var g;if(void 0===c&&(c=""),(0,e.isUeAvailable)()){var f=(0,e.context)();a.platform=f.platform;a.metricName=c?".".concat(c.toLowerCase()):""}b=b('[data-action\x3d"ssf-share-icon"]').data();c=c?".".concat(c):"";return b?(b=(null===(g=b.ssfShareIcon)||void 0===g?void 0:g.shareDataAttributes)||{},g=b.ingress,b=b.platform,b=void 0===b?"unknown":b,"".concat(void 0===g?"unknown":g,".").concat(b).concat(c).toLowerCase()):""},a}();a.default=f},241:function(f,a,g){Object.defineProperty(a,
"__esModule",{value:!0});var e,c=g(905),b=g(738);!function(a){a.RETURN="r";a.CLICK="cl"}(e||(e={}));f=function(){function a(a,e){if(void 0===a&&(a="ur"),void 0===e&&(e=void 0),this.PREFIX="cm_sw",this.id="",this.refId="",this._isBestFormatEnabled=!1,this.cxt={device:c.Device.Other,page:"",subPage:"",platform:b.UNKNOWN},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=(0,c.context)();this.treatment=e;this.generateUniqueId()}return Object.defineProperty(a.prototype,
"isBestFormatEnabled",{set:function(a){this._isBestFormatEnabled=a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"return",{get:function(){return this.get(e.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(e.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(a){var c,g=null!==(c=this.treatment)&&void 0!==c?c:"";return[this.PREFIX,e.RETURN,this._isBestFormatEnabled?b.BEST_FORMAT_REF:
"",a,this.cxt.device,this.refId,g,this.id].filter(function(a){return a&&""!==a}).join("_")},a.prototype.getClickForChannel=function(a){return[this.PREFIX,e.CLICK,this._isBestFormatEnabled?b.BEST_FORMAT_REF:"",a,this.cxt.device,this.refId,this.id].filter(function(a){return a&&""!==a}).join("_")},a.prototype.generateUniqueId=function(){var a,b=null===(a=null===n||void 0===n?void 0:n.ue)||void 0===a?void 0:a.rid;return b||(b="".concat(Math.random().toString(36).slice(2)).concat(Math.random().toString(36).slice(2)).substring(0,
13)),this.id=b},a.prototype.get=function(a){var c,e=null!==(c=this.treatment)&&void 0!==c?c:"";return[this.PREFIX,a,this._isBestFormatEnabled?b.BEST_FORMAT_REF:"",this.cxt.device,this.refId,e,this.id].filter(function(a){return a&&""!==a}).join("_")},a}();a.default=f},198:function(f,a,g){var e=this&&this.__assign||function(){return e=Object.assign||function(a){for(var b,c=1,k=arguments.length;c<k;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},e.apply(this,
arguments)};Object.defineProperty(a,"__esModule",{value:!0});var c,b=g(495),d=g(738),l=g(905),m=g(474),t=g(161),v=g(738);(0,l.isAUILoaded)()&&n.P.when("mash").execute(function(a){return c=a});f=function(){function a(a){this.sheetOptions={title:v.EMPTY_STRING,text:v.EMPTY_STRING,shareUrl:new m.default("http://amazon.com/","ur"),lang:"en",shareDataAttributes:v.defaultShareDataAttributes,refererURL:"",image:"",customizeShareCSAData:v.defaultCustomizeShareCSAData,isCustomShareOptionsSheetEnabled:!1};
this.sheetOptions=e(e({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=function(){var a,c=this,e=this.sheetOptions.shareDataAttributes.ingress,k={channel:v.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},g=this.shareUrl.return;this.sheetOptions.tinyUrl&&(g=this.sheetOptions.tinyUrl,b.default.logCounter("MWeb.Tiny.Success"),
b.default.logCounterRefactor("Tiny.Success",e));var f=(0,t.isFunction)(this.sheetOptions.sheetShownCallback);try{null===(a=null===n||void 0===n?void 0:n.navigator)||void 0===a||a.share({url:g,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){f&&c.sheetOptions.sheetShownCallback();b.default.logCSAEvent(v.CSA_HIT_TYPE.CLICK_SUCCESS,k);b.default.logCSAEvent(v.CSA_HIT_TYPE.SHARE,k);b.default.logCounterRefactor("ChannelClick",c.sheetOptions.shareDataAttributes.ingress);b.default.logCounter("ShareClick")}).catch(function(a){f&&
c.sheetOptions.sheetShownCallback();b.default.logCSAEvent(v.CSA_HIT_TYPE.CLICK_SUCCESS,k);a.name===v.Err.Abort&&b.default.logCSAEvent(v.CSA_HIT_TYPE.CLICK_CANCEL,k)})}catch(p){b.default.logCSAEvent(v.CSA_HIT_TYPE.CLICK_ERROR,k)}},a.prototype.launchNativeApp=function(){var a=this,k=this.shareUrl.refMarker.click,g=this.sheetOptions.shareDataAttributes,f=this.sheetOptions.refererURL,l=this.sheetOptions.customizeShareCSAData,m=this.sheetOptions.shareDataAttributes.ingress,p=v.EMPTY_STRING,q=this.sheetOptions.caf||
!1,w=this.sheetOptions.cafSwitchEnabled||!1,A=this.sheetOptions.isCustomShareOptionsSheetEnabled||!1,E=this.shareUrl.return;this.sheetOptions.tinyUrl&&(E=this.sheetOptions.tinyUrl,b.default.logCounter("MShop.Tiny.Success"),b.default.logCounterRefactor("Tiny.Success",m));var u={channel:p,refMarker:k,refererURL:f,shareDataAttributes:g,customizeShareCSAData:l,caf:q,cafSwitchEnabled:w,isCustomShareOptionsSheetEnabled:A};k={messagePlain:this.getShareMessage,messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,
messageHTML:this.getShareMessage,url:E,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==c||c.share(e(e({},k),{successCallback:function(){(0,t.isFunction)(a.sheetOptions.sheetShownCallback)&&a.sheetOptions.sheetShownCallback();b.default.logCSAEvent(v.CSA_HIT_TYPE.CLICK_SUCCESS,u)},failCallback:function(a){b.default.logCSAEvent(v.CSA_HIT_TYPE.CLICK_ERROR,u);n.P.log("Error while opening mShop native share sheet, Error message: "+a,"ERROR",d.SSF_AUI_PACKAGE_ATTRIBUTION)},shareServiceSelectedCallback:function(c){c&&
"'null'"!==c?((0,t.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(c),u.channel=a.getChannelByKeyword(c).channel,c=a.getChannelByKeyword(c).refId,u.refMarker=a.shareUrl.refMarker.getClickForChannel(c),b.default.logCSAEvent(v.CSA_HIT_TYPE.SHARE,u),b.default.logCounterRefactor("ChannelClick",a.sheetOptions.shareDataAttributes.ingress),b.default.logCounter("ShareClick"),(0,t.isFunction)(a.sheetOptions.sdTooltipCallback)&&a.sheetOptions.sdTooltipCallback()):b.default.logCSAEvent(v.CSA_HIT_TYPE.CLICK_CANCEL,
u)}}))},a.prototype.launch=function(a){(0,l.isNativeAppShareAvailable)(c)?this.launchNativeApp():(0,l.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,t.isFunction)(a)?a():(b.default.logCounter("Click.ShareUnavailable"),b.default.logCounterRefactor("Click.ShareUnavailable",this.sheetOptions.shareDataAttributes.ingress))},Object.defineProperty(a.prototype,"getShare160Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;b=(0,t.truncate)(this.sheetOptions.title,
160-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;b=(0,t.truncate)(this.sheetOptions.title,140-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return v.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},a.prototype.getChannelByRegex=function(a){return v.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},
a.prototype.getChannelByKeyword=function(a){var b=v.RAW_CHANNEL_PREFIX+a,c=v.DEFAULT_CSA_REF_ID,k=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo|^Facebook$/ig);if(k&&k.length)return{channel:this.getChannelByRegex(k[0].toLowerCase()),refId:this.getRefByRegex(k[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b="SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";
c="em";break;case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b="WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return;return"".concat(this.sheetOptions.title,
" ").concat(a)},enumerable:!1,configurable:!0}),a}();a.default=f},474:function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});var e=g(241);f=function(){function a(b,c,g){this.REF_PARAM_NAME="ref_";a.isValid(b)||(b=a.getDefault());this.url=new URL(b);this._refMarker=new e.default(c,g)}return a.prototype.getUpdatedUrl=function(a){var b=new URL(this.raw);return b.searchParams.set(this.REF_PARAM_NAME,a),b.toString()},Object.defineProperty(a.prototype,"raw",{get:function(){return this.url.toString()},
enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(w){return!1}return!0},a.getDefault=function(){var a,c,e=null===(a=null===n||void 0===n?void 0:n.location)||void 0===a?void 0:a.href;if(!e)return(null===(c=null===n||void 0===n?void 0:n.ue)||void 0===c?0:c.sn)?"https://".concat(n.ue.sn):"https://amazon.com";a=new URL(e);c=a.searchParams.has("psc")?"?psc\x3d1":
"";return n.ue_pti?"".concat(n.location.origin,"/dp/").concat(n.ue_pti).concat(c):(a.search=c,a.href)},a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);return this.getUpdatedUrl(a)},a.prototype.getClickForChannel=function(a){a=this._refMarker.getClickForChannel(a);return this.getUpdatedUrl(a)},Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,
"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=f},161:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.sanitizeInput=a.getCookie=a.testUserAgent=a.truncate=a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};a.isString=function(a){return"string"==
typeof a};a.truncate=function(a,e){void 0===a&&(a="");var c=Array(3).fill(".");return a.length>e?a.substring(0,e-3)+c.join(""):a};a.testUserAgent=function(a){if(!n&&!n.navigator)return!1;try{return a.test(n.navigator.userAgent)}catch(e){return!1}};a.getCookie=function(a){a="".concat(a,"\x3d");for(var e=document.cookie.split(";"),c=0;c<e.length;c++){for(var b=e[c];" "==b.charAt(0);)b=b.substring(1);if(0==b.indexOf(a))return b.substring(a.length,b.length)}return""};a.sanitizeInput=function(a){return a.replace(/[<>&'"]/g,
function(a){switch(a){case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";case "\x26":return"\x26amp;";case "'":return"\x26#39;";case '"':return"\x26quot;";default:return a}})};a.getDPXObject=function(){var a,e;return null===(e=null===(a=n.DetailPage)||void 0===a?void 0:a.StateController)||void 0===e?void 0:e.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,getCookie:a.getCookie,getDPXObject:a.getDPXObject}},
156:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},519:function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=void 0;f=g(305);var e=g(474),c=g(156),b=g(495),l=g(198),d=g(241),m=g(905),t=g(738);g=g(161);a.SocialShareCore={Channels:f.default,Url:e.default,Translations:c.default,Metrics:b.default,ShareSheet:l.default,RefMarker:d.default,Detection:m.default,Constants:t,ToolBelt:g};a.default=a.SocialShareCore}},m={};l=function g(a){var e=m[a];if(void 0!==
e)return e.exports;e=m[a]={exports:{}};return d[a].call(e.exports,e,e.exports,g),e.exports}(519)})();return l});"use strict";r.register("SocialShareWidgetConfig",function(){var l=Object.freeze({MODAL:"modal",POPOVER:"popover"}),d=Object.freeze({IOS:"ios",ANDROID:"android",ARROW:"arrow",VARIABLE:"variable"});return{WIDGET_TYPE:l,WIDGET_ICON:d,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],cnMarketplace:["AAHKV2X7AFYLW"],nonCNChannels:["fb","tw","pi"],defaultShareData:{url:"",title:location.hostname,
text:"",image:"",hashtags:["Amazon"],type:l.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,previewDoh:!1,caf:!1,displayCustomShareSheet:!1,cafSwitch:!1,eventPreviewTreatment:"C",cafIngressId:"",cafIngressTreatment:"C",t:{},associateLink:{},popoverPosition:"triggerBottom",popoverDistance:48,defaultCustomShareOptions:{email:{label:"Email",image:"customchannels-email.png",ref:"em",shareUrl:"mailto:?subject\x3d{subject}\x26body\x3d{body}\x26url\x3d{url}",className:"email",
stringId:"taf_customshare_email"},copy:{label:"Copy",image:"customchannels-link.png",ref:"cp",shareUrl:"",className:"custom-share-copy",stringId:"taf_customshare_copy"},more:{label:"More",image:"customchannels-more.png",ref:"",shareUrl:"",className:"custom-share-native-sheet",stringId:"taf_customshare_more"}},isFallbackShareUrlEnabled:!1,isNewIMessagePreviewGating:!1,isOnShareGatingEnabled:!1,isIpadFixesEnabled:!1,isNewWhatsAppPreview:!1,isBestFormatEnabled:!1,isCafPreviewGenerationMigrationEnabled:!1,
isUnrecognizedUsersRichPreviewEnabled:!1,customizePreSelected:!1,isUnsignedShareSheetGatingEnabled:!1,isUnsignedShareSheetCopyLinkOverrideEnabled:!1,isShortTitleGatingEnabled:!1,isShortTitleAsyncGatingEnabled:!1,titleSource:"",isMWebCustomShareSheetGatingEnabled:!1,isMWebCustomShareSheetLaunchGatingEnabled:!1,isMWebCustomShare:!1,isMWebCustomShareRichPreviewEnabledOverride:!1,isConfigMigrationEnabled:!1},defaultWidgetData:{icon:d.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,
isRobot:2,userAgent:n.navigator.userAgent,platform:"DESKTOP",ingress:n.ue_pty,asin:n.ue_pti,requestId:n.ue_id,customerId:"",marketplaceId:n.ue_mid,triggeredFromScreenshotToast:!1},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg",arrow:"https://m.media-amazon.com/images/G/01/share-icons/share-icon-experiment.svg"},customShareOptions:[]}});"use strict";r.when("A","SocialShareWidget","SocialShareWidgetTemplating",
"SocialShareWidgetConfig","SocialShareWidgetState","SocialShareWidgetNativeUtils","SocialShareWidgetOnShareUtils").register("SocialShareWidgetAUI",function(l,d,E,f,a,g,e){var c=d.SocialShareCore,b=c.Metrics,w=0,q=function(){},A=!1,t=b.getMetricName(l.$);b.startTimer(t);b.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var d=l.$,k=c.Detection,h=c.Translations,z=c.Channels,y=c.Url,x=c.Constants,B=function(a){a=a.data("share")||a.find("[data-share]").data("share");return l.extend({},f.defaultWidgetData,
a)},C=d(".ssf-share-trigger"),p=f.defaultShareData,D=B(C),G=p.url,P=d("#ac-getlink-bottomsheet"),L=d('[data-action\x3d"ssf-share-icon"]'),u=void 0;r.when("SocialShareSheetConfig").execute(function(a){return u=a});var V=function(){var a=f.iconMap;if(D.icon===f.WIDGET_ICON.ARROW)return a.arrow;if(k.isDesktop())return a.ios;if(D.icon===f.WIDGET_ICON.VARIABLE){var b=l.$("#ssf-primary-widget-desktop");p=l.extend(p,b.data("ssfShareIcon"));b=a.android;if(k.isIOS()||p.isIpadFixesEnabled&&k.isIpadIOS())b=
a.ios;return b}return a[D.icon]},J=function(a){a.find('[class*\x3d"ssf-multi-"]').length||a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));C=a.find('[class*\x3d"ssf-multi-"]')},I=void 0,M=void 0,N=void 0,O=void 0,Q=void 0,W=void 0,H=void 0;r.when("a-sheet").execute(function(a){return I=a});r.when("a-popover").execute(function(a){return M=a});r.when("a-modal").execute(function(a){return N=a});r.when("SocialShareWidgetTiny").execute(function(a){return H=a});var F=
function(a,b){var c=2<arguments.length&&arguments[2]!==m?arguments[2]:"ssf-share-bottom-sheet",k=p.displayCustomShareSheet||p.customize||p.caf;if(!O||k)O=I.create({name:c,inlineContent:a,closeType:"icon",height:b});I.showSheet(O)},R=function(a){var b=a.type===f.WIDGET_TYPE.POPOVER&&M,c=a.type===f.WIDGET_TYPE.MODAL&&N;a=E.build(a);I?F(a.getBottom()):b?(b=a.getPopover(),C.hasClass("a-declarative")||(Q=M.create(C,{name:"ssf-share-popover",position:p.popoverPosition,inlineContent:b,activate:"onclick",
closeButton:!0,width:160,padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c&&(b=a.getModal(),C.hasClass("a-declarative")||(W=N.create(C,{name:"ssf-share-modal",inlineContent:b,width:600,popoverLabel:"Share Modal"}).show()))},T=function(a){if(a.displayCustomShareSheet||a.customize||a.caf)b.logCounter("webview.sharesheet.caf.background"),b.logCounterRefactor("webview.sharesheet.caf.background",a.shareDataAttributes.ingress),r.when("mash").execute(function(a){a.addEventListener("appPause",
S)})},Y=function(a){r.when("SocialShareWidgetCustomize").execute(function(b){E.build(a).getCustomize(function(c){F(c,650,"ssf-customize-bottom-sheet");b.init(a,R,S);T(a)})})},S=function ea(){r.when("mash").execute(function(a){a.removeEventListener("appPause",ea)});Q&&M.get(C).hide();O&&I.hideSheet(O);W&&N.get(C).hide()},aa=function(){var a=p.shareDataAttributes.asin,b=n.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;p.shareDataAttributes.asin="string"==typeof b?
b:a;return a!==b},ca=function(a,c,e){var h=a.shareDataAttributes,f=a.t;b.logCSAEvent(x.CSA_HIT_TYPE.SHARE,c);b.logCounter("DPX.Desktop.CopySuccess");b.logCounter("Share.CopySuccess");b.logCounter(t,"CopySuccess");b.logCounterRefactor("CopySuccess",h.ingress);k.isDesktop()?function(){var a=e.find(".copy-label");a.text(f.taf_copy_url_changeover);l.delay(function(){S();a.text(f.taf_copy_name)},1E3)}():(d(".ssf-feedback").show(),S())},U=function(a){b.logCSAEvent(x.CSA_HIT_TYPE.CLICK_ERROR,a);b.logCounter("DPX.Desktop.CopyFailure");
b.logCounter("Share.CopyFailure");b.logCounter(t,"CopyFailure")},Z=function(a){var c=a.shareData,k=a.channelRef,h=c.shareUrl;a=c.socialLinks;var f=a===m?{}:a;a=c.dealsPreviewEnabled;a=a===m?!1:a;var d=c.eventPreviewTreatment;d=d===m?"C":d;h.refMarker.isBestFormatEnabled=c.isBestFormatEnabled;h=k?h.getReturnForChannel(k):h.return;k=e.getChannelName(k);var g=e.getOsType();f=f.shareframework||c.url;var l=c.aapiBaseUrl;l=l===m?"":l;var p=c.shareAapiCsrfToken;p=p===m?"":p;var u=c.tinyUrlEnabled;u=u===
m?!1:u;var x=c.deeplinkInfo;x=x===m?{}:x;var z=c.storeId;z=z===m?"":z;var y=c.isOnShareGatingEnabled;y=y===m?!1:y;var t=c.shareDataAttributes;c=t.marketplaceId;c=c===m?"":c;t=t.ingress;t=t===m?"":t;if("c"!==d.toLowerCase()){h=new URL(h);var B=d.match(/^T(\d+)$/);h.searchParams.append("peakEvent",B[1]);h.searchParams.append("dealEvent",a?"1":"0");h=h.toString();b.logCounterRefactor("EventPreview"+d,t)}return{tinyUrlEnabled:u,aapiBaseUrl:l,shareAapiCsrfToken:p,marketplaceId:c,url:h,isOnShareGatingEnabled:y,
extractedRef:k,osType:g,originalUrl:f||h,refMarkerId:w++,deeplinkInfo:x,storeId:z}};d(document).delegate(".ssf-channel:not(.copy,.embed)","click",function(a){a.preventDefault();a.stopPropagation();b.logCounter("DPX.Desktop.ChannelClick");b.logCounter("ShareClick");b.logCounter(t,"ChannelClick");b.logCounterRefactor("ChannelClick",p.shareDataAttributes.ingress);var c=d(this),e=c.data("key"),h=p;a=h.refererURL;var f=h.shareDataAttributes,u=h.treatment;u=u===m?"":u;var z=h.weblab;z=z===m?"":z;var y=
h.builtChannels[e],B=y.ref;e=h.shareUrl.refMarker.getClickForChannel(B);h=y.name;var q=y.getSharingUrl();b.logCSAEvent(x.CSA_HIT_TYPE.SHARE,{channel:h,refMarker:e,refererURL:a,shareDataAttributes:f,treatment:u,weblab:z});a=Z({shareData:p,channelRef:B});g.showSpinner(c);H.fetch({data:a,callback:function(a){g.hideSpinner(c);a&&(q=y.getSharingUrl(a),b.logCounter("Desktop.Tiny.Success"),b.logCounterRefactor("Tiny.Success",f.ingress));if("em"===B)n.open(q,"_self");else if(k.isDesktop()){a=screen.width;
var e=screen.height,h="pi"===B?900:600,d=Math.min(h,.7*a);h=Math.min(h,.7*e);n.open(q,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+d+",height\x3d"+h+",top\x3d"+(e/2-h/2)+",left\x3d"+(a/2-d/2))}else n.open(q,"_blank");S();l.trigger("ssf:event:share",p)}})});l.declarative("ssf-share-icon","click",function(c){b.logCounter("DPX.Desktop.SheetClick");b.logCounter("SheetClick");b.logCounter(t,"SheetClick");if(A)return S();J(c.$currentTarget);p=l.extend(p,c.data);p.shareDataAttributes=l.extend(f.shareDataAttributes,
c.data.shareDataAttributes);var e=p.shareDataAttributes.ingress;b.logCounterRefactor("SheetClick",e);p.isConfigMigrationEnabled&&u&&(p.aapiBaseUrl=u.getAapiBaseUrl(p.shareDataAttributes.marketplaceId,p.url));if(!l.objectIsEmpty(c.data.associateLink)&&P.length)b.logCounter("SheetClick.Associate"),l.trigger("ac-getlink-bottomsheet-event",p);else{l.extend(h[p.lang],p.t);var m=z(p,p.channels);p.builtChannels=m;p.url=p.url.startsWith("/")?""+n.location.origin+p.url:p.url;p.shareUrl=new y(p.url,p.refId);
aa()&&(p.shareUrl=new y(p.url,p.refId),p.shareUrl.url.searchParams.set("psc",1));a.set("shareData",p);!k.isDesktop()||p.isIpadFixesEnabled&&k.isIpadIOS()&&k.isNativeWebShareAvailable()?p.displayCustomShareSheet||p.customize||p.caf?Y(p):g.launchNativeShareSheet(c,p,Z,R):(p.image=p.image||d("#imgTagWrapperId img").attr("src"),R(p),b.logCounter("DPX.Desktop.SheetOpen"),b.logCounter("SheetOpen"),b.logCounter(t,"SheetOpen"),b.logCounterRefactor("SheetOpen",e),b.logCSAEvent(x.CSA_HIT_TYPE.CLICK_SUCCESS,
{channel:x.EMPTY_STRING,refMarker:p.shareUrl.refMarker.click,refererURL:p.refererURL,shareDataAttributes:p.shareDataAttributes,treatment:p.treatment||"",weblab:p.weblab||""}));k.isSafari()&&k.isDesktop()&&(c=Z({shareData:p,channelRef:x.CP_CHANNEL_REF}),H.fetch({data:c,callback:function(a){b.logCounter("TinyUrlOnSheetOpen");G=a}}));l.trigger("ssf:event:sheetOpen",p)}});d(document).delegate(".ssf-copy,.ssf-channel.copy","click",function(a){b.logCounter("ShareClick");b.logCounter("DPX.Desktop.ChannelClick");
b.logCounter(t,"ChannelClick");b.logCounterRefactor("ChannelClick",p.shareDataAttributes.ingress);a.preventDefault();var c=p;a=c.shareUrl;var e=c.shareDataAttributes,h=c.treatment;h=h===m?"":h;var f=c.weblab;f=f===m?"":f;c=c.isBestFormatEnabled;var u=x.CP_CHANNEL_REF,z=a.refMarker.getClickForChannel(u),y={channel:x.CP_CHANNEL_REF,refMarker:z,shareDataAttributes:e,treatment:h,weblab:f},B=d(this);a.refMarker.isBestFormatEnabled=c;var q=a.getReturnForChannel(u);k.isSafari()&&k.isDesktop()?navigator.clipboard.writeText(G||
q).then(function(){ca(p,y,B)},function(){U(y)}):(a=Z({shareData:p,channelRef:u}),g.showSpinner(B),H.fetch({data:a,callback:function(a){g.hideSpinner(B);navigator.clipboard.writeText(a||q).then(function(){ca(p,y,B)},function(){U(y)})}}));l.trigger("ssf:event:share",p)});d(document).delegate(".ssf-embed,.ssf-channel.embed","click",function(a){a.preventDefault();var c=p;a=c.shareDataAttributes;var k=c.treatment;k=k===m?"":k;var e=c.weblab;e=e===m?"":e;c={channel:"embed",refMarker:c.shareUrl.refMarker.getClickForChannel(x.EMBED_CHANNEL_REF),
shareDataAttributes:a,treatment:k,weblab:e};b.logCSAEvent(x.CSA_HIT_TYPE.SHARE,c);b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(t,"ChannelClick");b.logCounter("ChannelClick.Embed");b.logCounter("ShareClick");b.logCounterRefactor("ChannelClick",a.ingress);N.create(d(".ssf-channel.embed"),p.kpModalParams).show()});q=function(){C=d(".ssf-share-trigger");D=B(C);var a=D.width;if(!d(".ssf-background").length&&D.background){var b=1.4*a;b=d('\x3cdiv class\x3d"ssf-background'+(D.floatedIcon?"-float":
"")+'"\x3e\x3c/div\x3e').css({width:b,height:b});C.wrap(b)}D.icon&&C.css({height:a,width:a,backgroundImage:"url("+V()+")"})};k.isIE()&&d(".ssf-share-trigger,.ssf-background").remove();l.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;var b=a.position().left-p.popoverDistance;a.find(".a-arrow-border").css({right:24,left:""});a.css({left:b})});l.on("ssf:event:trigger-share-widget",function(a){l.trigger("a:declarative:ssf-share-icon:click",{data:a,$currentTarget:(1<
arguments.length&&arguments[1]!==m?arguments[1]:m)||L})});l.on("a:popover:show:ssf-share-popover",function(){A=!0;document.getElementsByClassName("ssf-share-trigger")[0].setAttribute("aria-expanded","true")});l.on("a:popover:hide:ssf-share-popover",function(){A=!1;document.getElementsByClassName("ssf-share-trigger")[0].setAttribute("aria-expanded","false")});l.on("a:popover:show:ssf-share-modal",function(){A=!0;document.getElementsByClassName("ssf-share-trigger")[0].setAttribute("aria-expanded","true")});
l.on("a:popover:hide:ssf-share-modal",function(){A=!1;document.getElementsByClassName("ssf-share-trigger")[0].setAttribute("aria-expanded","false")});l.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(a){a.sheet.$container.css("height","")});q()})()}catch(v){b.logCounter("DPX.Desktop.Error"),b.logCounter(t,"Error"),b.logLoad("Error"),b.logFatal("Error loading Share Framework AUI: "+v.toString())}finally{b.logCounter("DPX.Desktop.Render"),b.logCounter(t,"Render"),b.logLoad("Render"),l.trigger("ssf:event:load"),
b.stopTimer(t)}return{init:q}});"use strict";var ba=function(){return function(l,d){if(Array.isArray(l))return l;if(Symbol.iterator in Object(l)){var n=[],f=!0,a=!1,g=m;try{for(var e=l[Symbol.iterator](),c;!(f=(c=e.next()).done)&&(n.push(c.value),!d||n.length!==d);f=!0);}catch(b){a=!0,g=b}finally{try{if(!f&&e["return"])e["return"]()}finally{if(a)throw g;}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();r.when("A","SocialShareWidgetConfig","SocialShareWidget").register("SocialShareWidgetTemplating",
function(l,d,n){n=n.SocialShareCore;var f=l.$,a=n.Detection.isClipboardAvailable,g=n.Detection.isDesktop,e=d.excludedChannels;a()||e.push("copy");var c=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center aok-hidden"\x3e\x3c/span\x3e'};return{build:function(b){var l=b.shareUrl,q=b.socialLinks,n=q===m?{}:q;q=b.shareDataAttributes;var t=b.builtChannels,v=b.kpModalParams,k=b.t;n.email=b.mailToUri;var h='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"button" aria-label\x3d"'+
k.taf_copy_tooltip+'"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cbutton class\x3d"a-button-text"\x3e\n              \x3cdiv class\x3d"copy-label"\x3e\n                '+k.taf_copy_tooltip+"\n              \x3c/div\x3e\n            \x3c/button\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";!g()&&a()&&1>f(".ssf-feedback").length&&f(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+
k.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");var z=function(a){return{title:k["taf_"+a.name+"_tooltip"]||a.label,label:k["taf_"+a.name+"_name"]||a.label}};d.lineMarketplaces.includes(q.marketplaceId)||n.li?e.push("pi"):e.push("li");v||e.push("embed");d.cnMarketplace.includes(q.marketplaceId)&&e.push.apply(e,K(d.nonCNChannels));return{getModal:function(){var b="",f=!0,d=!1,g=m;try{for(var p=Object.entries(t)[Symbol.iterator](),q;!(f=(q=p.next()).done);f=
!0){var G=ba(q.value,2),v=G[0],w=G[1];if(!e.includes(v)&&"copy"!==v){var u=z(w),V=n[w.name]||w.getSharingUrl();b+='\x3cli class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" aria-label\x3d"'+u.label+'" href\x3d"'+V+'" title\x3d"'+u.title+'" data-key\x3d"'+v+'"\x3e\n                '+c("medium")+'\n                \x3ci aria-hidden\x3d"true" style\x3d"background-image: url('+w.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+u.label+"\x3c/span\x3e\n            \x3c/li\x3e"}}}catch(J){d=
!0,g=J}finally{try{!f&&p.return&&p.return()}finally{if(d)throw g;}}f=a()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+l.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+h+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+k.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e\x3cul class\x3d"ssf-h-icons a-nostyle"\x3e'+b+"\x3c/ul\x3e\x3c/div\x3e")+
f},getPopover:function(){var a="",b=!0,k=!1,h=m;try{for(var f=Object.entries(t)[Symbol.iterator](),d;!(b=(d=f.next()).done);b=!0){var g=ba(d.value,2),l=g[0],q=g[1];if(!e.includes(l)){var u=z(q),w=n[q.name]||q.getSharingUrl();a+='\x3cli class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+l+' a-color-base" aria-label\x3d"'+u.label+'" href\x3d"'+w+'" title\x3d"'+u.title+'" data-key\x3d"'+l+'"\x3e\n                '+c("small")+'\n                \x3ci aria-hidden\x3d"true" style\x3d"background-image: url('+
q.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+l+'-label"\x3e'+u.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/li\x3e"}}}catch(J){k=!0,h=J}finally{try{!b&&f.return&&f.return()}finally{if(k)throw h;}}return'\x3cul class\x3d"a-nostyle"\x3e'+a+"\x3c/ul\x3e"},getBottom:function(){var a="",b=!0,h=!1,f=m;try{for(var d=Object.entries(t)[Symbol.iterator](),g;!(b=(g=d.next()).done);b=!0){var l=ba(g.value,2),q=l[0],w=l[1];if(!e.includes(q)){var u=z(w),v=n[w.name]||w.getSharingUrl();
a+='\x3cli class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+q+' a-color-base" aria-label\x3d"'+u.label+'" href\x3d"'+v+'" title\x3d"'+u.title+'" data-key\x3d"'+q+'"\x3e\n                '+c("medium")+'\n                \x3ci aria-hidden\x3d"true" style\x3d"background-image: url('+w.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+u.label+"\x3c/span\x3e\n              \x3c/a\x3e\n              \x3c/li\x3e"}}}catch(J){h=!0,f=
J}finally{try{!b&&d.return&&d.return()}finally{if(h)throw f;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+k.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e\x3cul class\x3d"a-nostyle"\x3e'+(a+"\x3c/ul\x3e")+"\x3c/ul\x3e\x3c/div\x3e"},getCustomize:function(){var a=void 0;r.now("SocialShareWidgetCustomizeTemplate").execute(function(c){a=b.customize?c.getCustomizeBox(k):""});var e='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+
k.taf_share_bottom_sheet_title+"\x3c/h3\x3e",h='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg"\x3e'+e+"\x3c/div\x3e",f='\x3cdiv class\x3d"a-padding-base a-box ssf-preview-container ssf-no-border" style\x3d"background-image: url('+b.image+')"\x3e'+c("medium")+"\x3c/div\x3e",d=b.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(b.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+
k.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" aria-label\x3d"caf" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",g='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+b.shareLabel+"\n              "+c("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e";
return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+e+f+d+a+g+"\x3c/div\x3e"+(b.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two aok-hidden"\x3e'+h+f+d+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+g+"\x3c/div\x3e":"")}}}}});"use strict";r.when("jQuery","SocialShareWidget","SocialShareWidgetState","SocialShareWidgetLinkUtil","SocialShareWidgetAPI").register("SocialShareWidgetTiny",function(l,d,E,f,a){d=d.SocialShareCore;
var g=d.Metrics,e=d.Constants;return{fetch:function(c){var b=c.data,d=c.isAsync,q=d===m?!0:d,A=c.callback;try{if(0<b.refMarkerId){var t=new URL(b.url),v=t.searchParams.get("ref_");v&&(v=v+"_"+b.refMarkerId,t.searchParams.set("ref_",v),b.url=t.toString())}var k=E.get("shareData");if(E.get("dpx")){var h=E.get("shareAapiCsrfToken"),z=E.get("aapiBaseUrl");if(k.isBestFormatEnabled){var y=new URL(b.url);y.searchParams.append("bestFormat","true");b.url=y.toString()}if(k.isShortTitleGatingEnabled&&""!==k.titleSource){var x=
new URL(b.url);x.searchParams.append("titleSource",k.titleSource);b.url=x.toString()}b.url=f.reorderQueryParams(b.url);"dprv"===k.refId&&(b.shareAapiCsrfToken=h,b.aapiBaseUrl=z,b.tinyUrlEnabled=!0,g.logCounter("reviews.tiny"))}var B=n.location.protocol+"//",C=b.deeplinkInfo;if(C&&C.isDisabled&&C.flag!=m){var p=new URL(b.url);p.searchParams.append("nodl",C.flag);b.url=p.toString()}if(b.isOnShareGatingEnabled)a.build(k).onShare(q,b.url,b.extractedRef,b.osType,A);else if(b.tinyUrlEnabled)if(b.aapiBaseUrl&&
b.shareAapiCsrfToken&&b.marketplaceId)(function(){var a=""+B+b.aapiBaseUrl+"/api/marketplaces/"+b.marketplaceId+"/social-share/tinyurl",c={longUrl:b.url},k={"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"social-share.tinyurl/v1"',"x-api-csrf-token":b.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":E.get("slateToken")};g.startTimer("Tiny");l.ajax(a,{type:"POST",headers:k,xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded",
async:q,data:c,success:function(a){g.logCounter("Tiny.Response");g.logCounter("Desktop.Tiny.Response");g.logCounterRefactor("Tiny.Response");a.entity&&a.entity.shortUrl?(A(a.entity.shortUrl.url),g.logCounter("Tiny.Success")):(r.log("Error Generating TinyURL. with share url "+b.url,"ERROR",e.SSF_AUI_PACKAGE_ATTRIBUTION),g.logCounter("Tiny.Error"),A(b.url))},error:function(c){c&&c.status!=m&&0===c.status?g.logCounter("Tiny.Blocked"):(r.log("Error Generating TinyURL with share url "+b.url+", Error Code: "+
c.status+", Error Response: "+c.responseText+", Endpoint: "+a,"ERROR",e.SSF_AUI_PACKAGE_ATTRIBUTION),g.logCounter("Tiny.Error"),g.logCounter("Desktop.Tiny.Error"),g.logCounterRefactor("Tiny.Error"));A(b.url)},complete:function(){g.stopTimer("Tiny")}})})();else return g.logCounter("Tiny.Unavailable"),A(b.url);else return A(b.url)}catch(D){return r.log("Error generating tinyURL: "+D.toString(),"ERROR",e.SSF_AUI_PACKAGE_ATTRIBUTION),b.url}}}});"use strict";r.when("A").register("SocialShareWidgetState",
function(l){var d="social-"+n.ue_id+"-share",m={slateToken:l.$('meta[name\x3d"encrypted-slate-token"]').attr("content")||"",dpx:!1};l.state(d,m);return{getCurrent:function(){return l.state(d)},get:function(f){return this.getCurrent()[f]},getAndReset:function(f){var a=this.get(f);a&&this.set(f,null);return a},set:function(f,a){var g=this.getCurrent();l.trigger("ssf:event:state:set",g);if(!f)return g;g[f]=a;g=l.state(d,g);l.trigger("ssf:event:state:changed",g);return g}}});"use strict";r.when("jQuery",
"SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetAPI",function(l,d,E){d=d.SocialShareCore;var f=d.Constants,a=d.Metrics,g=n.location.protocol+"//",e=a.getMetricName(l,f.customize),c=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT"}),b=Object.freeze({generateImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image.response/v1"',externalizeImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image.response/v1"',
fetchTabs:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes.response/v1"',getWeblabTreatmentAndTrigger:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.weblab.treatment-and-trigger.response/v1"',onShare:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.social-share.on-share.response/v1"',fetchCAFID:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"',
fetchHmpPollId:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.helpmepick.create-poll.response/v1"',getShortTitle:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.social-share.get-short-title.response/v1"'}),w=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?a.tabs.map(function(a){var b={id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(b.values=Object.values(a.params)[0],b.isQuote=!1);return b}):[]};
return{build:function(d){var q=d.shareAapiCsrfToken,t=d.locale,n=d.cafAapiCsrfToken,k=d.productType,h=d.shareDataAttributes,z=h.marketplaceId,y=h.asin,x=h.ingress,B=g+d.aapiBaseUrl,C=E.get("slateToken");C||a.logCounter("slate.missing");var p=function(a){return B+"/custom/socialshareapicontracts/marketplaces/"+z+"/products/"+y+"/shareframework/"+a},D=function(a){var b=a.async;l.ajax({url:a.url,type:a.type,async:b===m?!0:b,data:a.data,headers:{"Accept-Language":t,Accept:a.accept,"x-api-csrf-token":a.cafToken||
q,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":C},xhrFields:{withCredentials:!0},success:a.success,error:a.error,complete:a.complete})};return{generateImage:function(k,h){var d=p("generatecustomizedimage");a.startTimer("GenerateCustomizeImage");D({url:d,type:c.POST,data:k,accept:b.generateImage,success:function(b){"SUCCEEDED"===b.entity.status?(a.logCounter("GenerateCustomizeImage.Success"),a.logCounter(e,"generateCustomizeImageSuccess"),a.logCounterRefactor("generateCustomizeImageSuccess",
x)):(a.logCounter("GenerateCustomizeImage.Fail"),a.logCounter(e,"generateCustomizeImageFail"),a.logCounterRefactor("generateCustomizeImageFail",x));h(b)},error:function(b){a.logCounter("GenerateCustomizeImage.Error");a.logCounter(e,"generateCustomizeImageError");a.logCounterRefactor("generateCustomizeImageError",x);a.logCounter("generateCustomizeImageError");r.log("Error generating customize image. with request URL "+d+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION);
h(b)},complete:function(){a.stopTimer("GenerateCustomizeImage")}})},externalizeImage:function(k,h,d){var g=p("externalizecustomizedimage?customizedImageUrl\x3d"+k);a.startTimer("ExternalizeImage");D({url:g,type:c.PUT,accept:b.externalizeImage,async:d,success:function(a){h(a)},error:function(b){a.logCounter(e,"externalizeImageFail");a.logCounterRefactor("externalizeImageFail",x);a.logCounter("externalizeImageFail");r.log("Error externalizing image. with request URL "+g+", Error Code: "+b.status+". Error Response: "+
b.responseText,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION);h({})},complete:function(){a.stopTimer("ExternalizeImage")}})},fetchTabs:function(h){var d=p("productshareableattributes?locale\x3d"+t+"\x26type\x3d"+k);a.startTimer("FetchTabs");D({url:d,type:c.GET,accept:b.fetchTabs,success:function(b){a.logCounter(e,"FetchTabsSuccess");a.logCounterRefactor("FetchTabsSuccess",x);h(w(b))},error:function(b){a.logCounter(e,"FetchTabsFail");a.logCounterRefactor("FetchTabsFail",x);a.logCounter("FetchTabsFail");r.log("Error Fetching customize share tabs. with request URL "+
d+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION);h([])},complete:function(){a.stopTimer("FetchTabs")}})},fetchCAFID:function(k){var h=1<arguments.length&&arguments[1]!==m?arguments[1]:!0,g=B+"/custom/consultafriendcontracts/marketplaces/"+z+"/consultafriend/feedback-request/"+y;a.logCounter(e,"CAF.createCAFID.called");a.logCounterRefactor("CAF.createCAFID.called",x);a.startTimer("CafIdGeneration");D({url:g,type:c.POST,accept:b.fetchCAFID,async:h,
cafToken:n,success:function(a){k(a.entity&&a.entity.cafId,y,d.url)},error:function(b){b&&b.status!==m&&0===b.status?a.logCounter(e,"CAF.createCAFID.Blocked"):(a.logCounter(e,"CAF.createCAFID.failed"),a.logCounterRefactor("CAF.createCAFID.failed",x),r.log("Error Creating CAF Id. with request URL "+g+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION),k())},complete:function(){a.stopTimer("CafIdGeneration")}})},fetchHmpPollId:function(k){var h=1<arguments.length&&
arguments[1]!==m?arguments[1]:!0,e=d.hmpAapiCsrfToken,g=l.param(d.hmpState,!0),p=B+"/custom/consultafriendcontracts/marketplaces/"+z+"/helpmepick/poll?"+g;a.logCounter("HMP.fetchHmpPollId.called."+x);a.startTimer("HmpIdGeneration");D({url:p,type:c.POST,accept:b.fetchHmpPollId,async:h,cafToken:e,success:function(a){k(a.entity&&a.entity.cafId)},error:function(b){a.logCounter("HMP.fetchHmpPollId.failed."+x);r.log("Error Fetching Poll Id. with request URL "+p+", Error Code: "+b.status+". Error Response: "+
b.responseText,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION);k()},complete:function(){a.stopTimer("HmpIdGeneration")}})},getWeblabTreatmentAndTrigger:function(k,h,e){var d=B+"/custom/socialshareapicontracts/marketplaces/"+z+"/weblab/get-weblab-treatment-and-record?name\x3d"+h;a.startTimer("GetWeblabTreatmentAndTriggerMetric");D({url:d,type:c.GET,accept:b.getWeblabTreatmentAndTrigger,async:k,success:function(b){a.logCounter("GetWeblabTreatmentAndRecordSuccess");e(b)},error:function(b){a.logCounter("GetWeblabTreatmentAndRecordFail");
r.log("Error calling weblab treatment and trigger. with request URL "+d+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION);e([])},complete:function(){a.stopTimer("GetWeblabTreatmentAndTriggerMetric")}})},onShare:function(k,h,e,d,g){var l=B+"/custom/socialshareapicontracts/marketplaces/"+z+"/products/"+y+"/shareframework/onshare";a.startTimer("onShare");D({url:l,type:c.POST,accept:b.onShare,async:k,data:{longUrl:h,channel:e,osType:d},success:function(b){"SUCCEEDED"===
b.entity.status?(g(b.entity.shortUrl.url),a.logCounter("OnShare.Success")):(r.log("The request was sent successfully, but the response status indicates a failure with request URL "+h,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION),a.logCounter("OnShare.Failure"),g(h))},error:function(b){b&&b.status!==m&&0===b.status?a.logCounter("OnShare.Blocked"):(a.logCounter("OnShare.Error"),r.log("Error calling on share. with request URL "+h,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION),g([]))},complete:function(){a.stopTimer("onShare")}})},
getShortTitle:function(k,h){var e=B+"/custom/socialshareapicontracts/marketplaces/"+z+"/products/"+y+"/shareframework/getshorttitle",d=k?"Async":"Sync";a.startTimer("GetShortTitle-"+d);D({url:e,type:c.GET,accept:b.getShortTitle,async:k,success:function(b){"SUCCEEDED"===b.entity.status?(a.logCounter("GetShortTitle.Success"),h(b.entity)):(r.log("The request was sent successfully, but the response status indicates a failure","ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION),a.logCounter("GetShortTitle.Failure"),
h([]))},error:function(b){a.logCounter("GetShortTitle.Error");r.log("Error calling get short title. with request URL "+e+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION);h([])},complete:function(){a.stopTimer("GetShortTitle-"+d)}})}}}}});"use strict";r.when("A","SocialShareWidget").register("SocialShareWidgetCustomShareOptionsTemplate",function(l,d){var n=l.capabilities.rtl;d=d.SocialShareCore.Detection;var f=d.isClipboardAvailable,a=d.isAndroid(),
g=void 0,e=l.constants.HIDE_CLASS;r.when("mash").execute(function(a){return g=a});var c=function(){g||r.now("mash").execute(function(a){return g=a});return g},b=function(a,b,k){if(0===a.length||!b&&!c())return k([]);var h=a.length,e=[];b?(a.forEach(function(a){e[a.label.toLowerCase()]=a}),k(e)):a.forEach(function(a){w(a,function(a,b){h--;b&&(e[a.label.toLowerCase()]=a);(3<=e.length||0>=h)&&k(e)})})},w=function(b,e){var k="whatsapp"===b.label.toLowerCase()&&a;c().canLaunchIntentURL({url:b.schemeURI,
successCallback:function(a){if(k)return e(b,!0);e(b,a)},failCallback:function(){if(k)return e(b,!0);e(b,!1)}})},q=function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'" /\x3e'},A=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==m?arguments[0]:"")+"\x3c/span\x3e"};return{getChannelsHtml:function(d,
g){var k="";b(d.customShareOptions,d.isMWebCustomShare,function(b){b=l.extend(b,d.defaultCustomShareOptions);d.customShareBuiltChannels=b;var h=Object.keys(b);if(0===h.length)throw Error("Fallback to Native Sheet: channel key list is empty.");if(d.isMWebCustomShare&&(a&&navigator&&f()||!a)){var y=h.indexOf("copy");-1!==y&&(h.splice(y,1),h.splice(2,0,"copy"))}for(y=0;y<h.length;y++){var x=h[y],q=a&&"copy"===x&&!(navigator&&f()),n="more"===x&&!(c()||d.isMWebCustomShare);if(!q&&!n){q=k;n=d;var p=b[x];
x=p.stringId;var t=p.className,w=p.label;p="https://m.media-amazon.com/images/G/01/share-icons/"+p.image;n='\x3cli class\x3d"ssf-custom-share-option '+(t===m?"":t)+'"  data-name\x3d"'+w.toLowerCase()+'"\x3e\n                    \x3cdiv class\x3d"ssf-custom-share-spinner" role\x3d"button" tabindex\x3d"0"\x3e\n                        '+('\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center '+e+'"\x3e\x3c/span\x3e')+'\n                        \x3cimg src\x3d"'+p+'" title\x3d"'+w+'" aria-label\x3d"'+
w+'"/\x3e\n                    \x3c/div\x3e\n                    \x3cspan class\x3d"label a-size-small"\x3e'+(n.t[x]||w)+"\x3c/span\x3e\n                 \x3c/li\x3e";k=q+n}}g('\n                    \x3cdiv class\x3d"ssf-custom-channels-container a-color-base-background"\x3e\n                        \x3cul class\x3d"ssf-custom-share-options-container a-unordered-list a-nostyle"\x3e\n                            '+k+"\n                        \x3c/ul\x3e\n                    \x3c/div\x3e\n                ")})},
getPreviewImage:function(a){var b=a.starRating,c=a.numberOfReviews,e=n?"r":"";a='\x3cdiv class\x3d"ssf-cso-p-image ssf-regular"\x3e'+q(a.productImage,"ssf-regular")+"\x3c/div\x3e";b=b?q("RIO"+b+e+".png","ssf-caf-stars"):"";c=A(c);return'\x3cdiv class\x3d"ssf-cso-p-image"\x3e'+a+('\x3cdiv class\x3d"ssf-cso-stickers ssf-regular"\x3e'+b+c+"\x3c/div\x3e")+"\x3c/div\x3e"},getErrorAlert:function(a){return'\x3cdiv class\x3d"ssf-error-text a-row '+e+'"\x3e\n          \x3cdiv class\x3d"a-box a-alert-inline a-alert-inline-error" role\x3d"alert"\x3e\n              \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                  \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                  \x3cdiv class\x3d"a-alert-content"\x3e\n                    \x3cspan class\x3d"ssf-error-generic '+
e+'"\x3e'+a.taf_custshare_channel_error_generic+'\x3c/span\x3e\n                    \x3cspan class\x3d"ssf-error-email '+e+'"\x3e'+a.taf_custshare_channel_error_email+"\x3c/span\x3e\n                  \x3c/div\x3e\n              \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e"},getAvailableChannels:b}});"use strict";var X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==
Symbol.prototype?"symbol":typeof l};r.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomShareOptions",function(l,d,E,f){var a=l.$;d=d.SocialShareCore;var g=d.ShareSheet,e=d.Metrics,c=d.Constants,b=void 0,w=void 0,q=void 0,A=void 0,t=!1,v=l.constants.HIDE_CLASS;r.when("mash").execute(function(a){w=a});r.when("SocialShareWidgetTiny").execute(function(a){b=a});r.when("SocialShareWidgetCustomizeUtils").execute(function(a){q=a});r.when("SocialShareWidgetCAFUtils").execute(function(a){A=
a});return{init:function(k,h,d,y,x,B){var z=k.customShareBuiltChannels;h=k.isCustomShareOptionsSheetEnabled;var p=h===m?!1:h;h=k.isFallbackShareUrlEnabled;var E=h===m?!1:h;h=k.caf;var G=h===m?!1:h,P=k.shareDataAttributes;h=k.treatment;var L=h===m?"":h;h=k.weblab;var u=h===m?"":h;h=k.refererURL;var V=h===m?"":h;l.on("ssf:event:caf-switch-change",function(a){t=a});var J=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(v)},I=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(v)},
M=function(){return t?(k.t["taf-share-caf-messageprefix"]||"")+" "+k.title:k.title},N=function(a,c,e){t?A.prepareShareUrl(k,a,b,c,function(a,b){return e(a,b)}):k&&k.isHmpShareSheet?A.prepareHmpShareUrl(k,a,b,c,function(a,b){return e(a,b)}):q.prepareShareUrl(k,a,b,c,function(a){return e(a)})},O=function(a){a&&l.trigger("ssf:event:caf-share-complete-success",k)},Q=function(){w.dispatchEvent({type:"axf:consultAFriend:shareCompletedSuccessfully",detail:{isHmp:!0}})},W=function(a,b,e,h){try{var d=encodeURIComponent(h+
" \n "+e);return"Messages"===b?l.capabilities.ios?"sms:///\x26body\x3d"+d:"mms:?\x26body\x3d"+d:"Email"===b?a=a.replace("\x26url\x3d{url}","").replace("{subject}",encodeURIComponent(k.emailSubject)).replace("{body}",""+d):"whatsApp"===b?a=a.replace("{url}",""+d):a=a.replace("{text}",encodeURIComponent(h)).replace("{url}",encodeURIComponent(e)).replace("{titleAndURL}",encodeURIComponent(d))}catch(da){return r.log("Failed to generate shareUrl, error: "+da.toString(),"ERROR",c.SSF_AUI_PACKAGE_ATTRIBUTION),
a}},H=function(a){t?(e.logCounter("Caf.customShareOptions.ChannelClick."+a),e.logCounter("CAF.edIngress.ChannelClick."+a+"."+k.cafIngressTreatment)):q.imageState.isEmpty()?e.logCounter("CustomShareOptions.ChannelClick."+a):e.logCounter("Books.customShareOptions.ChannelClick."+a)},F=function(){var a=0<arguments.length&&arguments[0]!==m?arguments[0]:"";a=0<a.length?"."+a:"";return t?""+c.CAF_CUSTOM_SHEET_CLICK_LATENCY_METRIC+a:q.imageState.isEmpty()?""+c.CUSTOM_SHEET_CLICK_LATENCY_METRIC+a:""+c.BOOKS_CUSTOM_SHEET_CLICK_LATENCY_METRIC+
a},R=function(){var a=F();e.startTimer(a);N(c.EMPTY_STRING,!k.isMWebCustomShare,function(b){var c=1<arguments.length&&arguments[1]!==m?arguments[1]:"";k.tinyUrl=b;var h=k;c&&(h=l.extend({channelSelectCB:function(){O(c)},cafSwitchEnabled:t},k),h.title=M());k&&k.isHmpShareSheet&&(h=l.extend({channelSelectCB:function(){Q()}},k),h.title=M());(new g(h)).launch(function(){e.logCounter("customShareOptions.SheetOpen")});e.stopTimer(a)})},T=function(a,b){var e=f.getAndReset(c.customizeShareStateKey);return{channel:a,
refMarker:b,refererURL:V,shareDataAttributes:P,treatment:L,weblab:u,isCustomShareOptionsSheetEnabled:p,caf:G,cafSwitchEnabled:t,customizeShareCSAData:e,cafIngressTreatment:k.cafIngressTreatment}};a(".custom-share-native-sheet").unbind("click").click(function(a){try{H("more"),d(),R()}catch(aa){r.log('Failed to launch native share sheet via "More" button, error: '+aa.toString(),"ERROR",c.SSF_AUI_PACKAGE_ATTRIBUTION)}});var Y=function(a){return a&&"keyup"===a.type&&!(13===a.keyCode||32===a.keyCode)};
h=function(b){var h=this;try{var f=function(){if(Y(b))return{v:void 0};var f=F();e.startTimer(f);H("copy");var g=c.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF,l=a(h);J(l);N(g,!1,function(b){var h=1<arguments.length&&arguments[1]!==m?arguments[1]:"";navigator.clipboard.writeText(b).then(function(){var b=k.shareUrl.refMarker.getClickForChannel(g);e.logCSAEvent(c.CSA_HIT_TYPE.SHARE,T("copy",b));t?e.logCounter("Caf.CustomShareOptions.CopySuccess"):q.imageState.isEmpty()?e.logCounter("customShareOptions.CopySuccess"):
e.logCounter("Books.CustomShareOptions.CopySuccess");a(".ssf-feedback").show();I(l);d();e.stopTimer(f);h&&O(h);k&&k.isHmpShareSheet&&Q()},function(){e.stopTimer(f);t?e.logCounter("Caf.CustomShareOptions.CopyFail"):q.imageState.isEmpty()?e.logCounter("CustomShareOptions.CopyFail"):e.logCounter("Books.CustomShareOptions.CopyFail");B({shareData:k,channelRef:g,caf:G,cafSwitchEnabled:t});I(l)})})}();if("object"===("undefined"===typeof f?"undefined":X(f)))return f.v}catch(U){r.log("Failed to share using copy channel, error: "+
U.toString(),"ERROR",c.SSF_AUI_PACKAGE_ATTRIBUTION)}};a(".custom-share-copy").unbind("click").click(h);a(".custom-share-copy").unbind("keyup").keyup(h);h=function(b){var h=this;try{var f=function(){if(Y(b))return{v:void 0};var f=a(h),g=f.data("name"),p=F(),q=F(g);e.startTimer(p);e.startTimer(q);var u=z[g],x=c.CUSTOM_SHARE_OPTIONS_REF_PREFIX+"_"+u.ref,y=k.shareUrl.refMarker.getClickForChannel(x);a(".ssf-error-text").addClass(v);J(f);N(x,!0,function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:
"",h=W(u.shareUrl,u.label,a,M());w?w.launchIntentURL({url:h,successCallback:function(){e.stopTimer(p);e.stopTimer(q);I(f);d();e.logCounterRefactor("ChannelClick",P.ingress);e.logCounter("ChannelClick");H(g);b&&O(b);k&&k.isHmpShareSheet&&Q();e.logCSAEvent(c.CSA_HIT_TYPE.SHARE,T(g,y))},failCallback:function(b){r.log("Failed to launch intent URL "+h+" with error code: "+b.code,"WARN",c.SSF_AUI_PACKAGE_ATTRIBUTION);e.logCounter("customShareOptions.LaunchShareIntentFail");I(f);e.stopTimer(p);e.stopTimer(q);
E&&u.fallbackShareUrl?(e.logCSAEvent(c.CSA_HIT_TYPE.SHARE,T(g,y)),n.location=W(u.fallbackShareUrl,u.label,a,M())):(d(),R())}}):(I(f),e.logCSAEvent(c.CSA_HIT_TYPE.SHARE,T(g,y)),d(),k.isMWebCustomShare?(e.stopTimer(p),e.stopTimer(q),e.logCounterRefactor("ChannelClick",P.ingress),e.logCounter("ChannelClick"),H(g),l.capabilities.ios?n.open(h,"_top"):n.open(h,"_blank")):n.open(h,"_blank"))})}();if("object"===("undefined"===typeof f?"undefined":X(f)))return f.v}catch(U){r.log("Failed to share, error: "+
U.toString(),"ERROR",c.SSF_AUI_PACKAGE_ATTRIBUTION)}};a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("click");a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("keyup");a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").click(h);a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").keyup(h)}}});"use strict";r.when("A","SocialShareWidgetState","atf").execute(function(l,
d){var m=l.$("#ssf-primary-widget-desktop");l=l.$("#ssf-share-action");m=m.data("ssfShareIcon")||l.data("ssfShareIcon")||{};d.set("shareAapiCsrfToken",m.shareAapiCsrfToken);d.set("aapiBaseUrl",m.aapiBaseUrl);d.set("dpx",!0)});"use strict";r.when("A","SocialShareWidget").register("SocialShareSheetConfig",function(l,d){var m=d.SocialShareCore.Constants;d={image:"customchannels-whatsapp.png",stringId:"taf_customshare_whatsapp",ref:"wa",schemeURI:"whatsapp://",shareUrl:"https://api.whatsapp.com/send?text\x3d{url}",
label:"whatsApp"};var f={image:"customchannels-fb-messenger.png",stringId:"taf_customshare_fbmessenger",ref:"fm",schemeURI:"fb-messenger://",shareUrl:"fb-messenger://share?link\x3d{url}",label:"Messenger"},a={label:"Line",image:"customchannels-line.png",ref:"li",shareUrl:"https://line.me/R/share?text\x3d{url}",fallbackShareUrl:"https://social-plugins.line.me/lineit/share?url\x3d{url}",schemeURI:"line://",stringId:"taf_customshare_line"},g={label:"X",image:"customchannels-x.png",ref:"tw",shareUrl:"https://twitter.com/intent/tweet?text\x3d{text}\x26url\x3d{url}",
schemeURI:"twitter://",stringId:"taf_customshare_x"},e={image:"customchannels-telegram.png",stringId:"taf_customshare_telegram",ref:"tg",schemeURI:"telegram://",shareUrl:"https://telegram.me/share/url?{url}",label:"Telegram"},c={image:"customchannels-sms.png",stringId:"taf_customshare_messages",ref:"sms",schemeURI:"sms://",shareUrl:"sms:?\x26body\x3d{text} {url}",label:"Messages"},b={ATVPDKIKX0DER:{prodEndpoint:"data.amazon.com",gammaEndpoint:"data-us-pre-prod.iad.corp.amazon.com",mShopShareChannels:[c,
d,f,e],mWebShareChannels:[c,d,f]},A2EUQ1WTGCTBG2:{prodEndpoint:"data.amazon.ca",gammaEndpoint:"data-ca-pre-prod.iad.corp.amazon.com",mShopShareChannels:[f,d,c,e],mWebShareChannels:[f,d,c]},A1AM78C64UM0Y8:{prodEndpoint:"data.amazon.com.mx",gammaEndpoint:"data-mx-pre-prod.iad.corp.amazon.com",mShopShareChannels:[d,f,e,c,{label:"Pinterest",image:"customchannels-pinterest.png",ref:"pi",shareUrl:"https://www.pinterest.com/pin/create/button/?url\x3d{url}",schemeURI:"pinterest://",stringId:"taf_customshare_pinterest"}],
mWebShareChannels:[d,c]},A2Q3Y263D00KWC:{prodEndpoint:"data.amazon.com.br",gammaEndpoint:"data-br-pre-prod.iad.corp.amazon.com",mShopShareChannels:[d,e,f,c,g],mWebShareChannels:[d,c]},A1F83G8C2ARO7P:{prodEndpoint:"data.amazon.co.uk",gammaEndpoint:"data-uk-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,f,c,e],mWebShareChannels:[d,f,c]},A1PA6795UKMFR9:{prodEndpoint:"data.amazon.de",gammaEndpoint:"data-de-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,f,c,e],mWebShareChannels:[d,c]},A13V1IB3VIYZZH:{prodEndpoint:"data.amazon.fr",
gammaEndpoint:"data-fr-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,f,c,e],mWebShareChannels:[d,f,c]},APJ6JRA9NG5V4:{prodEndpoint:"data.amazon.it",gammaEndpoint:"data-it-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,e,f,c],mWebShareChannels:[d,c]},A1RKKUPIHCS9HS:{prodEndpoint:"data.amazon.es",gammaEndpoint:"data-es-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,e,f,c],mWebShareChannels:[d,c]},A21TJRUUN4KGV:{prodEndpoint:"data.amazon.in",gammaEndpoint:"data-in-pre-prod.dub.corp.amazon.com",
mShopShareChannels:[d,e,c,f],mWebShareChannels:[d,c]},A1805IZSGTT6HS:{prodEndpoint:"data.amazon.nl",gammaEndpoint:"data-nl-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,f,e,c],mWebShareChannels:[d,f,c]},A33AVAJ2PDY3EV:{prodEndpoint:"data.amazon.com.tr",gammaEndpoint:"data-tr-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,e,c,f,g],mWebShareChannels:[d,c]},A1VC38T7YXB528:{prodEndpoint:"data.amazon.co.jp",gammaEndpoint:"data-jp-pre-prod.pdx.corp.amazon.com",mShopShareChannels:[a,d,g,f,c],
mWebShareChannels:[a,d,c]},A39IBJ37TRP1C6:{prodEndpoint:"data.amazon.com.au",gammaEndpoint:"data-au-pre-prod.pdx.corp.amazon.com",mShopShareChannels:[d,f,c,e],mWebShareChannels:[d,f,c]},AAHKV2X7AFYLW:{prodEndpoint:"data.amazon.cn",gammaEndpoint:"data-cn-pre-prod.pek.corp.amazon.com"},ARBP9OOSHTCHU:{prodEndpoint:"data.amazon.eg",gammaEndpoint:"data-eg-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,f,e,c],mWebShareChannels:[d,f,c]},A2VIGQ35RCS4UG:{prodEndpoint:"data.amazon.ae",gammaEndpoint:"data-ae-pre-prod.dub.corp.amazon.com",
mShopShareChannels:[d,f,e,c],mWebShareChannels:[d,c]},A17E79C6D8DWNP:{prodEndpoint:"data.amazon.sa",gammaEndpoint:"data-sa-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,f,e,c,a],mWebShareChannels:[d,c,a]},AD2EMQ3L3PG8S:{prodEndpoint:"data.amazon.ru",gammaEndpoint:"data-ru-pre-prod.pdx.corp.amazon.com"},A19VAU5U5O7RUS:{prodEndpoint:"data.amazon.sg",gammaEndpoint:"data-sg-pre-prod.pdx.corp.amazon.com",mShopShareChannels:[d,e,f,c,a],mWebShareChannels:[d,c,a]},A1C3SOZRARQ6R3:{prodEndpoint:"data.amazon.pl",
gammaEndpoint:"data-pl-pre-prod.dub.corp.amazon.com",mShopShareChannels:[f,d,c,e],mWebShareChannels:[f,d,c]},A2NODRKZP88ZB9:{prodEndpoint:"data.amazon.se",gammaEndpoint:"data-se-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,f,c,e],mWebShareChannels:[d,f,c]},AMEN7PMS3EDWL:{prodEndpoint:"data.amazon.com.be",gammaEndpoint:"data-be-pre-prod.dub.corp.amazon.com",mShopShareChannels:[d,f,c,e],mWebShareChannels:[d,f,c]},A2WDZJZ5TCRMLH:{prodEndpoint:"data.amazon.cl",gammaEndpoint:"data-cl-pre-prod.iad.corp.amazon.com"},
A1ZXRLSQW2V54D:{prodEndpoint:"data.amazon.com.co",gammaEndpoint:"data-co-pre-prod.iad.corp.amazon.com"},A3OCL2LJ6GDH9T:{prodEndpoint:"data.amazon.com.ng",gammaEndpoint:"data-ng-pre-prod.dub.corp.amazon.com"},AE08WJ6YKNBMC:{prodEndpoint:"data.amazon.co.za",gammaEndpoint:"data-za-pre-prod.dub.corp.amazon.com"},A28R8C7NBKEWEA:{prodEndpoint:"data.amazon.ie",gammaEndpoint:"data-ie-pre-prod.dub.corp.amazon.com"}},n=/^https?:\/\/(.*?pre-prod|.*proxy)(.aka)?.amazon(.*)?$/;return{getAapiBaseUrl:function(a,
c){var e=n.test(c)?"gammaEndpoint":"prodEndpoint";if(a&&b[a]&&b[a][e])return b[a][e];r.log("Error getting aapi base url for marketplace "+a+" and product url "+c,a?"FATAL":"ERROR",m.SSF_AUI_PACKAGE_ATTRIBUTION);return""},getShareChannels:function(a){var c=l.capabilities.isAmazonApp?"mShopShareChannels":"mWebShareChannels";return a&&b[a]&&b[a][c]?b[a][c]:[]}}});"use strict";r.when("A","SocialShareWidget").execute(function(l,d){var m=void 0,f=d.SocialShareCore.Metrics;d=l.debounce(function(){clearTimeout(m)},
200,!0);l.declarative("ssf-share-icon","touchstart",function(){m=setTimeout(function(){f.logCounter("longpress")},500)});l.declarative("ssf-share-icon","touchmove touchend",d)});"use strict";r.when("A","SocialShareWidget").register("SocialShareWidgetMetrics",function(l,d){var n=d.SocialShareCore.Metrics,f=function(a){a=a.pathname.split("/").filter(function(a){return l.contains(a,"ref\x3d")});return(a.length?a[0]:"").replace("ref\x3d","")},a=function(a){return(a=a.match(/cm_sw_r_(?:cso_)?(.*?)_/))?
a[1]:m};r.now("SocialShareWidgetLoadedBTF").execute(function(a){a?n.logCounter("btf:render"):n.logCounter("atf:render")});r.when("atf").execute(function(){try{var d=l.capabilities,e=d.tablet;d.isIE&&n.logCounter("render.ie");(e||600<screen.width&&d.isAmazonApp)&&n.logCounter("render.tablet");var c=new URL(location.href);if(c.href.includes("cm_sw_r_")){var b=c.searchParams.get("ref")||c.searchParams.get("ref_");b||(b=f(c));if(b.startsWith("cm_sw_r_")){var m=a(b);m&&n.logCounter("return.visit."+m);
n.logCounter("return.visit")}}c.searchParams.get("cafId")&&n.logCounter("CAF.cafDeepLink")}catch(q){n.logCounter("urlparam.issue")}});return{getRefEq:f,getChannelFromRef:a}});"use strict";r.register("SocialShareWidgetLinkUtil",function(){return{reorderQueryParams:function(l){try{var d=new URL(l.href||l),m=d.searchParams;if(m.get("ref_")){var f=m.get("ref_"),a=m.get("newPreview"),g=m.get("bestFormat"),e=m.get("language"),c=m.get("titleSource");m.delete("ref_");m.delete("newPreview");m.delete("bestFormat");
m.delete("language");m.delete("titleSource");d.searchParams.append("ref_",f);a&&d.searchParams.append("newPreview",a);g&&d.searchParams.append("bestFormat",g);e&&d.searchParams.append("language",e);c&&d.searchParams.append("titleSource",c)}return d.toString()}catch(b){return l.toString()}}}});"use strict";r.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetCustomizeUtils","SocialShareWidgetOnShareUtils").register("SocialShareWidgetCustomize",function(l,d,E,f,a){d=d.SocialShareCore;
var g=l.$,e=d.ShareSheet,c=d.Url,b=d.Metrics,w=d.Constants,q=b.getMetricName(g,w.customize),A=l.constants.HIDE_CLASS,t=function(){},v,k=0,h=void 0,z=void 0,y=void 0,x=!1;r.when("a-checkbox").execute(function(a){return z=a});r.when("a-button").execute(function(a){return h=a});try{(function(){var d=f.imageState;l.declarative("cafCheckboxAction","change",function(){y()});l.on(f.getEventName("Hide"),function(a){a.sheet.getContentContainer().remove();d.clear()});l.on("a:sheet:afterShow:ssf-customize-bottom-sheet",
function(a){L(a.sheet)});var C=function(a,c,h){var e=g(".ssf-preview-container"),k=g(".ssf-caf-preview"),m=(v=c)?"CAF.switchOn":"CAF.switchOff";b.logCounter(q,m);b.logCounterRefactor(m,h);l.trigger("ssf:event:caf-switch-change",c);d.isConsultAFriendPreview=c;h=f.getImageData(a,d);x?f.getBackendPreviewImage(a,h,function(b){b?G(b):l.trigger("ssf:event:preview-generation-failed",a)}):c?(k.fadeIn(100),e.hide()):(e.fadeIn(100),k.hide())},p=function(b){var c=b.shareData,d=b.channelRef,h=c.shareUrl;b=c.isOnShareGatingEnabled;
b=b===m?!1:b;var e=c.aapiBaseUrl;e=e===m?"":e;var f=c.shareAapiCsrfToken;f=f===m?"":f;var g=c.tinyUrlEnabled;g=g===m?!1:g;var l=c.deeplinkInfo;l=l===m?{}:l;var p=c.shareDataAttributes,n=c.storeId;n=n===m?"":n;h.refMarker.isBestFormatEnabled=c.isBestFormatEnabled;h=d?h.getReturnForChannel(d):h.return;d=a.getChannelName(d);var z=a.getOsType();p=p.marketplaceId;return{tinyUrlEnabled:g,aapiBaseUrl:e,shareAapiCsrfToken:f,marketplaceId:p===m?"":p,url:h,isOnShareGatingEnabled:b,extractedRef:d,osType:z,originalUrl:c.url||
h,refMarkerId:k++,deeplinkInfo:l,storeId:n}},D=function(a,d,k,f,z,y,x){var u=k.shareDataAttributes,t=k.url,B=u.asin,C=u.ingress;u=k.refId;g(".ssf-customize-share-btn").find(".a-spinner").addClass(A);h(".ssf-customize-share-btn").enable();d();var v=!1;d=new URL(y===m?t:y);f&&(u=w.CAF_REF_PREFIX+"_"+u,d.searchParams.append("cafId",f),d.searchParams.append("cafASIN",z),z!==B&&b.logCounter(q,"CAF.ShareASINMismatch"),v=!0);d.searchParams.append("language",n.languageOfPreference||k.locale||"en_US");k.shareUrl=
new c(d.toString(),u);var D=p({shareData:k});r.when("SocialShareWidgetTiny").execute(function(c){c.fetch({data:D,callback:function(c){k.tinyUrl=c;x&&x();c=l.extend({channelSelectCB:function(){f&&l.trigger("ssf:event:caf-share-complete-success",k)},cafSwitchEnabled:v},k);(new e(c)).launch(function(){l.delay(function(b){a(k)},100);f?(b.logCounter(q,"CAF.ShareSheetOpen"),b.logCounterRefactor("CAF.ShareSheetOpen",C)):(b.logCounter(q,"ShareSheetOpen"),b.logCounterRefactor("ShareSheetOpen",C))})}})})},
G=function(a){if(!(1<arguments.length&&arguments[1]!==m&&arguments[1])){var b=new Image;b.src=a;b.onload=function(){d.productImageProperties.width=this.width;d.productImageProperties.height=this.height}}},P=function(a){a=a.popularHighlightStrings;var b=[];b.push({id:"BackgroundImageTab",physicalId:"417kcYISTOL.jpg",url:"https://m.media-amazon.com/images/I/417kcYISTOL.jpg"});a.length&&(defaultQuote=a[0].replace(/"|”|“/g,""),b.push({id:"BookQuotesTab",value:defaultQuote}));return b},L=function(a){var c=
a.$contentContainer,d=parseInt(a.$container.css("max-height"));c=parseInt(c.height());d<c?(a.$contentContainer.css("height",d),b.logCounter("SmallDevice")):a.$contentContainer.css("height","auto")};t=function(a,c,e,k){var p=a.shareDataAttributes,n=a.treatment,t=n===m?"":n;n=a.weblab;var B=n===m?"":n;n=a.caf;n=n===m?!1:n;var u=a.isCafPreviewGenerationMigrationEnabled,H=p.ingress;d.currentPreview=f.getRegularImage();v=a.cafSwitch;n&&u&&(x=!0);n=function(a,b){0<b.length&&b.forEach(function(a){d.set(a)})};
var F=function(a){b.logCounter(q,a);b.logCounterRefactor(a,H);b.logCounter(a)},I=function(a,b){E.build(a).fetchTabs(function(c){r.now("SocialShareWidgetCustomizeTemplate").execute(function(d){g(".ssf-tabs").html(d.getTabs(a,c));b(c)})})};y=function(){var b=z(".ssf-caf-toggle");C(a,b.isChecked(),H)};a.customize&&a.customizePreSelected?(u=P(a),d.defaultCustomizationOptions=u,n(a,u),n=f.getImageData(a,d),f.getBackendPreviewImage(a,n,function(a){d.currentImage=a;G(a);f.adjustPreviewHeight();L(k)})):x?
(n=f.getImageData(a,d),f.getBackendPreviewImage(a,n,function(b){b?G(b):l.trigger("ssf:event:preview-generation-failed",a)})):C(a,v,H);g(".ssf-customize-share-btn").click(function(){h(".ssf-customize-share-btn").isEnabled()&&(g(".ssf-customize-share-btn").find(".a-spinner").removeClass(A),h(".ssf-customize-share-btn").disable(),v?(F("CAF.shareClick"),b.startTimer("CAF.fetchCAFAndTinyURL"),a.title=(a.t["taf-share-caf-messageprefix"]||"")+" "+a.title,E.build(a).fetchCAFID(function(d,h,k){D(c,e,a,d,h,
k,function(){b.stopTimer("CAF.fetchCAFAndTinyURL")})})):(F("shareClick"),b.logCSAEvent(w.CSA_HIT_TYPE.CUSTOMIZE_SHARE,{channel:w.EMPTY_STRING,refMarker:a.shareUrl.refMarker.click,shareDataAttributes:p,treatment:t,weblab:B}),D(c,e,a)))});g(".ssf-caf-toggle-ed-ingress").click(function(){F("CAF.edIngressTapped"+a.cafIngressTreatment);f.transitionToCAFEducationPage();L(k)});g(".ssf-customize-icon").click(function(){h(this).isEnabled()&&(F("CustomizeButtonClick"),h(this).disable(),d.currentPreview=f.getCustomizeImage(),
I(a,function(b){b.forEach(function(a){var b="input[type\x3dradio][name\x3d"+a.id+"]";g(b).change(function(a){a=JSON.parse(a.target.value);J(a);g(b).unbind("click");g(this).one("click",function(a){a=a.target;a.checked=!1;a=JSON.parse(a.value);K(a)})})});a.customizePreSelected&&(g("#BackgroundImageTab1").trigger("click"),g("#BookQuotesTab0").trigger("click"));b=f.getImageData(a,d);f.getBackendPreviewImage(a,b,function(a){d.currentImage=a;f.transitionToCustomizePage();f.adjustCustomizedPreviewHeight();
L(k);G(a)})}))});g(".ssf-customize-edit-poll-btn").click(function(){h(this).isEnabled()&&(h(this).disable(),l.trigger("ssf-edit-your-poll-trigger",a.hmpState),F("HMP.EditYourPoll.Clicked"),e())});var J=function(b){f.setImage();Array.isArray(b)?b.forEach(function(a){d.set(a)}):d.set(b);var c=f.getImageData(a,d);F(b.id+"Select");f.getBackendPreviewImage(a,c,function(a){d.currentImage=a;G(a)})},K=function(b){f.setImage();F(b.id+"Unselect");d.unset(b);b=f.getImageData(a,d);f.getBackendPreviewImage(a,
b,function(a){d.currentImage=a;G(a)})};g(".ssf-back-btn").click(function(){f.isCAFEducationPageVisible()&&F("CAF.edBackTapped"+a.cafIngressTreatment);d.currentPreview=f.getRegularImage();b.logCounter("BackButtonClick");f.resetPreviewState(d);f.transitionToDefaultPage();L(k)});r.when("a-checkbox").execute(function(a){g(".ssf-caf-toggle-label").click(function(){var b=a(".ssf-caf-toggle");b.check(!b.isChecked())})});l.on("ssf:event:preview-generation-failed",function(a){x=!1;g(".ssf-backend-preview").addClass(A);
g(".ssf-html-preview").removeClass(A);C(a,v,H)})}})()}catch(B){b.logCounter(q,"Error"),b.logLoad("Error"),b.logFatal("Error loading Customize widget, Share Framework AUI: "+B.toString())}finally{b.logCounter(q,"Render"),b.logLoad("Render")}return{init:t}});"use strict";r.when("A","SocialShareWidget").register("SocialShareWidgetCustomizeTemplate",function(l,d){d=d.SocialShareCore;var n=l.capabilities.rtl,f=d.Constants,a=d.ToolBelt,g=function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:
"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'"/\x3e'},e=function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"ssf-product-title-text";l.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(){l.$(".ssf-title-label").text(a.title)});return'\x3cdiv class\x3d"a-color-secondary a-padding-small '+b+'"\x3e\n      \x3cspan class\x3d"ssf-title-label" id\x3d"ssf-title-label"\x3e\n        \x3c!-- TITLE  --\x3e\n      \x3c/span\x3e\n    \x3c/div\x3e'},
c=function(a){return'\x3cdiv class\x3d"ssf-product-preview"\x3e'+b(a.productImage,"","","ssf-title-label")+"\x3c/div\x3e"},b=function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"",c=2<arguments.length&&arguments[2]!==m?arguments[2]:"",d=3<arguments.length&&arguments[3]!==m?arguments[3]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return c||d?'\x3cimg class\x3d"'+b+'" '+(d?'aria-labelledby\x3d"'+d+'"':"")+" "+(c?'aria-label\x3d"'+c+'"':"")+' src\x3d"'+
a+'"/\x3e':g(a,b)},w=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==m?arguments[0]:"")+"\x3c/span\x3e"},q=function(a){return'\x3cul class\x3d"ssf-options-box-container a-unordered-list a-nostyle"\x3e'+a.values.map(function(b,c){var d=l.extend(b,{id:a.id}),e={id:a.id,position:c,val:d,background:b.url};a.isQuote&&(e=l.extend(e,{center:!0,width:150,content:d.displayText,background:m}));d=e.id;c=e.position;b=e.content;b=b===m?"":b;var h=e.width,
k=h===m?100:h,f=e.background;h=e.center;h=h===m?!1:h;e=e.val;k='style\x3d"width: '+k+"px;background-image: url("+(f===m?"":f)+");background-size: "+k+"px "+k+'px;"';f=JSON.stringify(e);c=d+c;e=e.label||"";var g='\x3cspan class\x3d"aok-offscreen"\x3e'+e+"\x3c/span\x3e";h&&(g='\x3cspan class\x3d"a-box-inner a-text-center ssf-q-text"\x3e'+b+"\x3c/span\x3e");return'\x3cli class\x3d"ssf-options-box" aria-label\x3d\''+e+"'\x3e\n              \x3cinput id\x3d\""+c+'" type\x3d"radio" name\x3d"'+d+"\" value\x3d'"+
f+"' aria-label\x3d'"+e+"'\x3e\x3c/input\x3e\n              \x3clabel for\x3d\""+c+'" class\x3d"a-box a-text-normal" '+k+"\x3e"+g+"\x3c/label\x3e\n            \x3c/li\x3e"}).join("")+"\x3c/ul\x3e"},r=function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"",c=2<arguments.length&&arguments[2]!==m?arguments[2]:!1;return'\x3cli class\x3d"a-tab-heading ssf-customize-tab '+(c?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca aria-label\x3d"'+
b+'" href\x3d"#" role\x3d"tab" aria-selected\x3d"'+(c?"true":"false")+'" '+(c?"":'tabindex\x3d"-1"')+"\x3e"+b+"\x3c/a\x3e\n            \x3c/li\x3e"},t=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==m&&arguments[3]?"":"a-hidden")+' a-padding-mini" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              '+(1<arguments.length&&arguments[1]!==m?arguments[1]:"")+"\n            \x3c/div\x3e"},v=function(){return(0<
arguments.length&&arguments[0]!==m?arguments[0]:[]).map(function(a){a=a.replace(/"|”|“/g,"");return{displayText:"“"+a+"”",value:a}})};return{getTabs:function(a,b){var c=a.popularHighlightStrings;if(!b.length)return"";var d="",e="",h=-1;b.forEach(function(a,b){a.isQuote&&(a.values=v(c));if(!a.values.length)return"";-1===h&&(h=b);b=b===h;d+=r(a.id,a.heading,b);e+=t(a.id,q(a),a.text,b)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative ssf-customize-tab a-spacing-small" role\x3d"tablist" data-a-tabs\x3d\'{"name": "customize-tabs"}\'\x3e\n        '+
d+"\x3c/ul\x3e"+e)+"\x3c/div\x3e"},getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+a.taf_custshare_customizedesc+"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+
a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"},getBackArrow:function(a){a=a["taf-share-general-gobacktopage"]||"";return'\x3cbutton type\x3d"button" class\x3d"ssf-back-btn a-padding-small" aria-label\x3d"'+a+'" tabindex\x3d"0"\x3e'+('\x3cimg src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg" alt\x3d"'+a+'"\x3e')+"\x3c/button\x3e"},tabsContainer:'\x3cdiv class\x3d"a-row a-spacing-top-micro ssf-tabs a-color-base-background a-padding-mini"\x3e\x3c/div\x3e',
getImageSection:function(a){var d=e(a);var f=a.isCafPreviewGenerationMigrationEnabled;var k=a.customize,l=a.customizePreSelected;f=a.caf&&f?!0:k&&l?!0:!1;k=a.customize;l=(l=a.productImage)&&0<l.length&&!l.match(/\.gif$/i);k='\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n      '+(k&&l?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+g("customize")+"\x3c/span\x3e":"")+'\n      \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n    \x3c/div\x3e';
f='\x3cdiv class\x3d"a-box ssf-preview-box"\x3e\n              \x3cdiv class\x3d"ssf-backend-preview '+(f?"":"aok-hidden")+'"\x3e'+k+'\x3c/div\x3e\n              \x3cdiv class\x3d"ssf-html-preview '+(f?"aok-hidden":"")+'"\x3e';var q=a.customize,t=a.productImage;l=a.t;k=c({productImage:t});var p=a.starRating,r=p===m?"ZERO":p;p=a.customize;p=p===m?!1:p;var v=a.numberOfReviews,A=a.caf,E=a.isUnrecognizedUsersRichPreviewEnabled;a=a.isMWebCustomShareRichPreviewEnabledOverride;r=b("RIO"+r+(n?"r":"")+".png",
"ssf-caf-stars",r+" star rating");v=w(v);a='\x3cdiv class\x3d"ssf-caf-rating"\x3e\n              \x3cdiv class\x3d"'+(A||E||p||a?"ssf-caf-rating-left":"ssf-caf-rating-right")+'"\x3e\n                '+r+v+"\n              \x3c/div\x3e\n            \x3c/div\x3e";t=t&&0<t.length&&!t.match(/\.gif$/i);q=q&&t?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+g("customize")+"\x3c/span\x3e":"";l='\x3cp class\x3d"a-size-base a-spacing-micro ssf-caf-text"\x3e'+l.taf_custshare_caf_recipientemoji+
"\x3c/p\x3e";t=b("caf-emojis"+(n?"r":"")+".png","ssf-caf-emojis","A heart eyes emoji, a thinking emoji, and a frowning emoji");return f+('\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n              '+q+'\n              \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n              '+k+"\n              "+a+"\n            \x3c/div\x3e "+('\x3cdiv class\x3d"ssf-caf-preview"\x3e\n              \x3cdiv class\x3d"a-padding-base ssf-caf-image"\x3e\n                \x3cdiv class\x3d"a-row ssf-caf-image-stickers"\x3e'+
k+('\x3cdiv class\x3d"a-column ssf-caf-stickers"\x3e'+l+t+"\x3c/div\x3e")+"\x3c/div\x3e\n                  "+a+"\n                \x3c/div\x3e\n            \x3c/div\x3e"))+"\x3c/div\x3e\n              "+d+"\n            \x3c/div\x3e"},getHmpImageSection:function(b){var d=b.productImage;b='\x3cdiv class\x3d"a-color-secondary a-padding-small ssf-title-text-hmp"\x3e\n    \x3cspan\x3e\n    '+a.sanitizeInput(b.hmpState.title)+"\n    \x3c/span\x3e\n    \x3c/div\x3e";return'\x3cdiv class\x3d"a-box ssf-preview-box"\x3e\n                '+
c({productImage:d})+"\n                "+b+"\n            \x3c/div\x3e"},getCustomizePreviewImage:function(a){return'\x3cdiv class\x3d"a-box ssf-no-border ssf-cus-img-container"\x3e\n      \x3cdiv class\x3d"ssf-cus-img"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\x3c/div\x3e\n      '+e(a,"ssf-product-title-text-small")+"\n    \x3c/div\x3e"},getToggleContainer:function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"",
c=a.taf_custshare_caf_ingress_alt2,d='\x3csmall\x3e\x3ca class\x3d"ssf-caf-toggle-ed-ingress a-size-base a-link-normal"\x3e'+(a.taf_custshare_caf_ingress_learn_more||"Learn more")+"\x3c/a\x3e\x3c/small\x3e",e=g("https://m.media-amazon.com/images/G/01/AppFirst/ConsultAFriend/information-default.png");return'\x3cdiv class\x3d"a-row a-spacing-top-medium-plus a-grid-vertical-align a-grid-center a-spacing-micro"\x3e\n      \x3cdiv class\x3d"a-column a-span1"\x3e\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel class\x3d"a-padding-none" aria-labelledby\x3d"caf-checkbox-label"\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n      \x3cdiv class\x3d"a-column a-span10"\x3e\n        \x3csmall id\x3d"caf-checkbox-label" class\x3d"ssf-caf-toggle-label a-size-base"\x3e'+
c+".\x3c/small\x3e\n        "+(b===f.CAF_INFO_ICON_KEY?'\x3cspan class\x3d"ssf-info-icon ssf-caf-toggle-ed-ingress"\x3e\x3cstrong\x3e'+e+"\x3c/strong\x3e\x3c/span\x3e":b===f.CAF_LEARN_MORE_KEY?d:"")+"\n      \x3c/div\x3e\n    \x3c/div\x3e"},getEducationCXBody:function(a){return'\x3cdiv class\x3d"a-box ssf-no-border"\x3e\n        '+('\x3cdiv class\x3d"a-color-secondary a-padding-small"\x3e\n      \x3cspan\x3e\n        '+(a.taf_custshare_caf_education_body||"Ask your friends for help. Use this option to ask friends to react to the item with an emoji. You can share the link by messaging your friends or posting on social media. You’ll get a notification for each reaction.")+
"\n      \x3c/span\x3e\n    \x3c/div\x3e")+'\n        \x3cdiv class\x3d"ssf-caf-education-video a-padding-base"\x3e\n          \x3cvideo id\x3d"ssf-caf-education-video" loop playsinline\x3e\n            \x3csource src\x3d"https://m.media-amazon.com/images/G/01/AppFirst/ConsultAFriend/caf-education-no-audio.mp4" type\x3d"video/mp4"\x3e\n          \x3c/video\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e'}}});"use strict";X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:
function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};r.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState","SocialShareWidgetOnShareUtils").register("SocialShareWidgetCustomizeUtils",function(l,d,r,f,a){function g(a){var b=a.values,c=b.BackgroundImageTab,d=b.DeviceCoverImageTab,e=b.BookQuotesTab;b=b.isConsultAFriendPreview;var h=a.productImageProperties;a=h.width;h=h.height;return{bgId:(c===m?{}:c).physicalId||"",
deviceId:(d===m?{}:d).physicalId||"",quoteValue:(e===m?{}:e).value||"",isConsultAFriendPreview:b===m?!1:b,width:a===m?"":a,height:h===m?"":h}}function e(b,c){var d=b.shareUrl,e=b.socialLinks;e=e===m?{}:e;d.refMarker.isBestFormatEnabled=b.isBestFormatEnabled;d=c?d.getReturnForChannel(c):d.return;c=a.getChannelName(c);var h=a.getOsType(),f=b.aapiBaseUrl,g=b.shareAapiCsrfToken,l=b.tinyUrlEnabled,n=b.deeplinkInfo;n=n===m?{}:n;var q=b.isOnShareGatingEnabled;q=q===m?!1:q;var t=b.shareDataAttributes,w=t.marketplaceId;
t=t.asin;return{tinyUrlEnabled:l===m?!1:l,aapiBaseUrl:f===m?"":f,shareAapiCsrfToken:g===m?"":g,marketplaceId:w===m?"":w,asin:t===m?"":t,url:d,originalUrl:e.shareframework||b.url||d,refMarkerId:k++,deeplinkInfo:n,isOnShareGatingEnabled:q,extractedRef:c,osType:h}}function c(a,b,c,d){if(c.isEmpty()||X(c.currentImage)===m||X(c.currentImage)!==m&&!c.currentImage.length)return d({});c=encodeURIComponent(c.currentImage);r.build(a).externalizeImage(c,d,b)}function b(a,b,c){r.build(a).generateImage(b,function(a){c(a.entity)})}
d=d.SocialShareCore;var w=l.constants.HIDE_CLASS,q=l.$,A=d.Constants,t=d.Metrics,v=d.Url,k=0;return{getEventName:function(a){return"a:sheet:after"+a+":ssf-customize-bottom-sheet"},getCustomizeImage:function(){return q(".ssf-cus-img")},getCustomizeImageContainer:function(){return q(".ssf-cus-img-container")},getRegularImage:function(){return q(".ssf-backend-preview .ssf-preview-container")},getPreviewBox:function(){return q(".ssf-preview-box")},setImage:function(a){this.imageState.currentPreview.css("background-image",
'url("'+a+'")')},showSpinner:function(){this.imageState.currentPreview.find(".a-spinner").removeClass(w)},hideSpinner:function(){this.imageState.currentPreview.find(".a-spinner").addClass(w)},transitionToCustomizePage:function(){q(".ssf-customize-container-one").addClass(w);q(".ssf-customize-container-two").removeClass(w).addClass("ssf-customize-transition")},transitionToCAFEducationPage:function(){q(".ssf-customize-container-one").addClass(w);q(".ssf-customize-container-three").removeClass(w).addClass("ssf-customize-transition");
var a=q("#ssf-caf-education-video").get(0);a&&(a.currentTime=0,a.play())},isCAFEducationPageVisible:function(){return q(".ssf-customize-container-three").is(":visible")},adjustCustomizedPreviewHeight:function(){this.getCustomizeImageContainer().css({width:.76*n.innerWidth});var a=parseInt(this.getCustomizeImage().css("border-left-width"))+parseInt(this.getCustomizeImage().css("border-right-width")),b=this.getCustomizeImage().innerWidth();this.getCustomizeImage().css({height:(b+a)/1.91})},adjustPreviewHeight:function(){this.getPreviewBox().css({width:.93*
n.innerWidth});var a=parseInt(this.getRegularImage().css("border-left-width"))+parseInt(this.getRegularImage().css("border-right-width")),b=this.getRegularImage().innerWidth();this.getRegularImage().css({height:(b+a)/1.91})},transitionToDefaultPage:function(){q(".ssf-customize-container-two").addClass(w);q(".ssf-customize-container-three").addClass(w);q(".ssf-customize-container-one").removeClass(w).addClass("ssf-customize-transition-back")},getImageData:function(a,b){var c=g(b);return{productImageUrl:a.productImage,
starRating:a.starRating||"",numberOfReviews:a.numberOfReviews||"",backgroundImagePhysicalId:c.bgId,deviceCoverImagePhysicalId:c.deviceId,bookQuote:c.quoteValue,productImageWidth:c.width,productImageHeight:c.height,consultAFriendPreviewEnabled:b.isConsultAFriendPreview,previewDohEnabled:a.previewDoh}},resetPreviewState:function(a){a.clear();0<a.defaultCustomizationOptions.length&&a.defaultCustomizationOptions.forEach(function(b){a.set(b)})},getBackendPreviewImage:function(a,c,d){var e=this;e.setImage("");
e.showSpinner();b(a,c,function(a){a&&"SUCCEEDED"===a.status?(a=a.customizedImage.url,e.hideSpinner(),e.setImage(a),d(a)):d()})},setCustomizeCSAData:function(a,b){var c=A.customizeShareStateKey;b=g(b);var d=A.TRUE,e=A.FALSE;f.set(c,{backgroundImagePhysicalId:b.bgId,deviceCoverImagePhysicalId:b.deviceId,hasQuote:0<b.quoteValue.length?d:e,isCustomizedExperienceEnabled:a.customize?d:e,isCustomized:b.bgId||b.deviceId||b.quoteValue?d:e,customizePreSelected:a.customizePreSelected?d:e,isQuotesAvailable:a.popularHighlightStrings?
d:e})},prepareShareUrl:function(a,b,d,f,g){this.setCustomizeCSAData(a,this.imageState);c(a,f,this.imageState,function(c){var h=c.entity;c=new URL(a.url);var k=b;h&&h.physicalId?(t.logCounterRefactor("externalizeImageSuccess"),c.searchParams.append("cspi",h.physicalId),k=b+"_"+A.BOOKS_REF_PREFIX):(a.customizePreSelected&&(t.logCounter("booksPreviewNotAvailable"),k=b+"_"+A.BOOKS_REF_PREFIX+"_"+A.BOOKS_CUSTOMIZE_PREVIEW_NOT_AVAILABLE),a.eventPreviewTreatment&&"c"!==a.eventPreviewTreatment.toLowerCase()&&
(h=a.eventPreviewTreatment.match(/^T(\d+)$/),c.searchParams.append("peakEvent",h[1]),t.logCounterRefactor("EventPreview"+a.eventPreviewTreatment,a.shareDataAttributes.ingress)));a.shareUrl=new v(c.toString(),a.refId);c=e(a,k);d.fetch({data:c,isAsync:f,callback:function(a){g(a)}})})},imageState:{clear:function(){this.values={}},isEmpty:function(){return q.isEmptyObject(this.values)},values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},defaultCustomizationOptions:[],
currentImage:"",isConsultAFriendPreview:!1,currentPreview:"",productImageProperties:{width:0,height:0}}}});"use strict";r.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetOnShareUtils").register("SocialShareWidgetCAFUtils",function(l,d,r,f){function a(a,c){var d=a.shareUrl,e=a.socialLinks;e=e===m?{}:e;d.refMarker.isBestFormatEnabled=a.isBestFormatEnabled;var l=a.isHmpShareSheet?"hmp":g.CAF_REF_PREFIX;d=c?d.getReturnForChannel(l+"_"+c):d.return;c=f.getChannelName(c);l=f.getOsType();
d=new URL(d);d.searchParams.has("language")||d.searchParams.append("language",n.languageOfPreference||a.locale||"en_US");d=d.toString();var k=a.aapiBaseUrl,h=a.shareAapiCsrfToken,q=a.tinyUrlEnabled,r=a.deeplinkInfo;r=r===m?{}:r;var w=a.isOnShareGatingEnabled,B=a.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:q===m?!1:q,aapiBaseUrl:k===m?"":k,shareAapiCsrfToken:h===m?"":h,marketplaceId:B===m?"":B,url:d,isOnShareGatingEnabled:w===m?!1:w,extractedRef:c,osType:l,originalUrl:e.shareframework||
a.url||d,refMarkerId:b++,deeplinkInfo:r}}var g=d.SocialShareCore.Constants,e=d.SocialShareCore.Url,c=d.SocialShareCore.Metrics,b=0;return{prepareShareUrl:function(b,d,f,l,n){var k=b.refId;c.logCounterRefactor("CAF.shareChannelClick",b.ingress);c.startTimer("CAF.fetchCAFAndTinyURL");k=g.CAF_REF_PREFIX+"_"+k;r.build(b).fetchCAFID(function(h,g){var m=new URL(b.url);h&&m.searchParams.append("cafId",h);g&&m.searchParams.append("cafASIN",g);b.shareUrl=new e(m.toString(),k);g=a(b,d);f.fetch({data:g,isAsync:l,
callback:function(a){c.stopTimer("CAF.fetchCAFAndTinyURL");n(a,h)}})},l)},prepareHmpShareUrl:function(b,d,f,g,n){var k=b.refId;c.logCounter("HMP.shareChannelClick."+b.ingress);c.startTimer("HMP.fetchPollIdAndTinyURL");k="hmp."+k;r.build(b).fetchHmpPollId(function(h){var m=new URL(b.url);h&&m.searchParams.append("hmpId",h);b.shareUrl=new e(m.toString(),k);b.url=m.toString();m=a(b,d);f.fetch({data:m,isAsync:g,callback:function(a){c.stopTimer("HMP.fetchPollIdAndTinyURL");l.trigger("ssf:event:hmpPollCreated",
b);n(a,h)}})},g)}}});"use strict";r.when("A","SocialShareWidget","SocialShareWidgetTiny").register("SocialShareWidgetNativeUtils",function(l,d,m){var f=d.SocialShareCore.ShareSheet,a=l.constants.HIDE_CLASS,g=d.SocialShareCore.Metrics,e=g.getMetricName(l.$);return{showSpinner:function(c){c.addClass("ssf-noclick");c.find(".a-spinner").removeClass(a);c.find("i").hide()},hideSpinner:function(c){c.removeClass("ssf-noclick");c.find(".a-spinner").addClass(a);c.find("i").show()},launchNativeShareSheet:function(a,
b,d,n){var c=this;this.showSpinner(a.$currentTarget);d=d({shareData:b});var q=b.shareDataAttributes.ingress;b=l.extend(b,{sheetShownCallback:function(){c.hideSpinner(a.$currentTarget)}});m.fetch({data:d,callback:function(d){b.tinyUrl=d;(new f(b)).launch(function(){n(b);g.logCounter("DPX.Desktop.SheetOpen");g.logCounter(e,"SheetOpen");g.logCounter("SheetOpen");g.logCounterRefactor("SheetOpen",q);c.hideSpinner(a.$currentTarget)})}})}}});"use strict";r.when("A","SocialShareWidget").register("SocialShareWidgetOnShareUtils",
function(l,d){var m=d.SocialShareCore.Constants;return{getOsType:function(){switch(!0){case l.capabilities.ios:return"ios";case l.capabilities.android:return"android";default:return"unknown"}},getChannelName:function(d){return d?d.replace(m.CUSTOM_SHARE_OPTIONS_REF_PREFIX+"_",""):""}}})});
/* ******** */
